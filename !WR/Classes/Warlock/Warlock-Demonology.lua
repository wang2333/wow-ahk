local a=21;local b=55;local c=70;local d=97;local e=0==1;local f=not e;local g=nil;local h=""local i=_G;local j=_ENV;local k=i["tonumber"]return(function(...)i["WR_WarlockDemonology"]=function()if i["GetSpecialization"]()~=k("2")then return end;i["ShiFaSuDu"]=k("0.3")i["WR_WarlockDemonology_ErrorMessage"]()i["GCD"]=i["WR_GetGCD"]("无尽呼吸")i["Max_GCD"]=i["WR_GetMaxGCD"](k("1.5"))i["CD_LHDJ"]=i["WR_GetGCD"]("灵魂打击")if not i["CastTime_GED"]then i["CastTime_GED"]={}end;i["Lose_XG"]=e;for l=k("1"),k("5"),k("1")do if i["CastTime_GED"][l]~=g then if i["GetTime"]()-i["CastTime_GED"][l]>k("12")/(k("1")+i["GetHaste"]()/k("100"))-(i["GCD"]+i["Max_GCD"]*k("2"))then i["Lose_XG"]=f end;if i["GetTime"]()-i["CastTime_GED"][l]>k("12")/(k("1")+i["GetHaste"]()/k("100"))then i["CastTime_GED"][l]=g end end end;i["WR_WarlockDemonology_LastSpellTime"]()i["BuffTime_EMZH"],i["BuffCount_EMZH"],i["BuffSum_EMZH"]=i["WR_GetUnitBuffInfo"]("player","恶魔之核")i["YSXG_Sum"]=i["GetSpellCount"](k("196277"))i["PlayerHP"]=i["UnitHealth"]("player")/i["UnitHealthMax"]("player")i["TargetRange"]=i["WR_GetUnitRange"]("target")i["TargetDeathTime"]=i["WR_GetUnitDeathTime"]("target")i["PlayerMove"]=i["WR_PlayerMove"]()i["RangeHarmUnitCount30"]=i["WR_GetRangeHarmUnitCount"](k("30"),f)i["RangeHarmUnitCount40"]=i["WR_GetRangeHarmUnitCount"](k("40"),f)i["InTraining"]=i["WR_InTraining"]()i["CastingName"]=i["UnitCastingInfo"]("player")i["MyCastingTime"]=k("0")if i["WR_GetUnitCastInfo"]("player")~=g then i["MyCastingTime"]=i["WR_GetUnitCastInfo"]("player")end;i["TargetInCombat"]=i["WR_TargetInCombat"]("target")i["InBossCombat"]=i["WR_InBossCombat"]()i["BuffTime_YHS"]=i["WR_GetUnitBuffTime"]("player",k("433891"))i["CastTime_ZHXQ"]=i["WR_GetTrueCastTime"]("召唤邪犬")i["CastTime_ZHKJLQ"]=i["math"]["max"](i["WR_GetTrueCastTime"]("召唤恐惧猎犬"),i["Max_GCD"])i["CD_ZHEMBJ"]=i["WR_GetGCD"]("召唤恶魔暴君")i["CD_MDEMWS"]=i["WR_GetGCD"]("魔典：恶魔卫士")i["CD_ZHKJLQ"]=i["WR_GetGCD"]("召唤恐惧猎犬")i["CD_ZHXQ"]=k("0")if i["IsPlayerSpell"](k("264119"))then if i["IsPlayerSpell"](k("455450"))then i["CD_ZHXQ"]=i["WR_GetGCD"]("召唤灼焦恶犬")elseif i["IsPlayerSpell"](k("455449"))then i["CD_ZHXQ"]=i["WR_GetGCD"]("召唤阴暗恶犬")else i["CD_ZHXQ"]=i["WR_GetGCD"]("召唤邪犬")end end;i["TotemSum"]=k("0")i["KJLQ_Time"]=k("0")i["XQ_Time"]=k("0")i["EMWS_Time"]=k("0")for l=k("1"),k("5"),k("1")do local m,n,o,p,m=i["GetTotemInfo"](l)if n~=g then i["TotemSum"]=i["TotemSum"]+k("1")if n=="恐惧猎犬"then i["KJLQ_Time"]=o+p-i["GetTime"]()elseif n=="邪犬"or n=="灼焦恶犬"or n=="阴暗恶犬"then i["XQ_Time"]=o+p-i["GetTime"]()elseif n==i["UnitName"]("pet")or n=="恶魔卫士"then i["EMWS_Time"]=o+p-i["GetTime"]()end end end;i["SoulShards"]=i["UnitPower"]("player",k("7"))i["NextGCDSS"]=i["SoulShards"]if i["CastingName"]=="暗影箭"then i["NextGCDSS"]=i["SoulShards"]+k("1")elseif i["CastingName"]=="恶魔之箭"then i["NextGCDSS"]=i["SoulShards"]+k("2")elseif i["CastingName"]=="狱火箭"then i["NextGCDSS"]=i["SoulShards"]+k("3")elseif i["CastingName"]=="召唤恐惧猎犬"then i["NextGCDSS"]=i["SoulShards"]-k("2")i["KJLQ_Time"]=i["GCD"]+k("12")elseif i["CastingName"]=="召唤邪犬"or i["CastingName"]=="召唤灼焦恶犬"or i["CastingName"]=="召唤阴暗恶犬"then i["NextGCDSS"]=i["SoulShards"]-k("1")i["XQ_Time"]=i["GCD"]+k("15")elseif i["CastingName"]=="古尔丹之手"then i["NextGCDSS"]=i["SoulShards"]-k("3")end;if i["NextGCDSS"]<k("0")then i["NextGCDSS"]=k("0")end;if i["MSG"]==k("1")then i["print"]("----------")end;if i["WR_PriorityCheck"]()then return f end;if i["WR_WarlockDemonology_Cancel_BRCC"]()then return f end;if i["WR_WarlockDemonology_StopCasting"]()then return f end;if i["WR_WarlockDemonology_SP"]("保命")then return f end;if i["WR_WarlockDemonology_BMJX"]()then return f end;if i["WR_WarlockDemonology_HAQY"]()then return f end;if i["WR_ZLS"](i["WRSet"]["EM_ZLS"])then return f end;if i["WR_ZLYS"](i["WRSet"]["EM_ZLYS"])then return f end;if i["WR_ZLYS2"](i["WRSet"]["EM_ZLYS"])then return f end;if i["WR_WarlockDemonology_LHS"]()then return f end;if i["WR_Function_ZNMB"](k("40"),i["WRSet"]["EM_ZNMB"])then return f end;if i["WR_ZNJD"](i["WRSet"]["EM_ZNJD"])then return end;if i["WR_WarlockDemonology_ZHEMWS"]()then return f end;if i["WR_WarlockDemonology_JFTZ"]()then return f end;if i["WR_WarlockDemonology_SWCR"]()then return f end;if i["WR_WarlockDemonology_SZQM"]()then return f end;if i["WR_WarlockDemonology_SP"]("常驻")then return end;if i["WR_WuQi"](k("3"),i["WRSet"]["EM_WuQi"])then return f end;if i["WR_WarlockDemonology_NLHX"]()then return f end;if i["WR_WarlockDemonology_AYJ"]("初始")then return end;if i["WR_WarlockDemonology_MDEMWS"]("暴君")then return end;if i["WR_WarlockDemonology_ZHXQ"]("暴君")then return end;if i["WR_WarlockDemonology_ZHKJLQ"]("暴君")then return end;if i["WR_WarlockDemonology_ZHEMBJ"]()then return end;if i["WR_WarlockDemonology_EMLL"]()then return end;if i["WR_WarlockDemonology_NB"]()then return end;if i["WR_WarlockDemonology_GEDZS"]("暴君")then return end;if i["WR_WarlockDemonology_EMZJ"]("暴君")then return end;if i["WR_WarlockDemonology_ZHXQ"]()then return end;if i["WR_WarlockDemonology_ZHKJLQ"]()then return end;if i["WR_WarlockDemonology_GEDZS"]("陨灭")then return end;if i["WR_WarlockDemonology_GEDZS"]("满")then return end;if i["WR_WarlockDemonology_AYJ"]("狱火")then return end;if i["WR_WarlockDemonology_EMZJ"]()then return end;if i["WR_WarlockDemonology_AYJ"]()then return end;if i["WR_WarlockDemonology_ZZZLS"]()then return end;if i["WR_WarlockDemonology_BRCC"]()then return end;i["WR_HideColorFrame"](i["zhandoumoshi"])end;i["WR_WarlockDemonology_ErrorMessage"]=function()local q={[k("1")]="你的宠物离目标距离太远了",[k("2")]="在冻结状态下无法攻击",[k("3")]="在逃跑状态下无法攻击",[k("4")]="距离太远",[k("5")]="无法在昏迷状态下攻击",[k("6")]="在昏迷状态下无法攻击",[k("7")]="无路径可供你的宠物使用",[k("8")]="无法在昏迷时那样做",[k("9")]="你还不能这么做",[k("10")]="没有可以行进的路径",[k("11")]="你无法移动",[k("12")]="不能在昏迷状态实施该动作",[k("13")]="目标不在视野中",[k("14")]="你不能在死亡状态的时候攻击",[k("15")]="你的宠物已经死亡",[k("16")]="在惊骇状态下无法攻击。"}local r={[k("1")]="请使用复活宠物",[k("2")]="你不能在死亡状态的时候攻击",[k("3")]="你的宠物已经死亡"}if i["WR_ErrorMessageInfo"]~=f then local s=i["CreateFrame"]("Frame")s["RegisterEvent"](s,"UI_ERROR_MESSAGE")s["SetScript"](s,"OnEvent",function(t,u,v,w)if i["string"]["find"](w,"你无法召唤宠物")then i["ErrorMessageTime_ZHCW"]=i["GetTime"]()return end;if i["string"]["find"](w,"目标不在视野中")then i["ErrorMessageTime_OutOfSight"]=i["GetTime"]()return end;for m,x in i["ipairs"](q)do if i["string"]["find"](w,x)then i["ErrorMessageTime_CW"]=i["GetTime"]()return end end;for m,x in i["ipairs"](r)do if i["string"]["find"](w,x)then i["ErrorMessageTime_PetIsDead"]=i["GetTime"]()return end end end)i["WR_ErrorMessageInfo"]=f end end;i["WR_WarlockDemonology_ZNMB"]=function(y)if i["UnitGUID"]("target")~=i["UnitGUID"](y)and i["IsSpellInRange"]("暗影箭",y)==k("1")and((i["TargetDeathTime"]<i["MyCastingTime"]+k("1")or not i["WR_TargetInCombat"]("target")or not(i["IsSpellInRange"]("暗影箭","target")==k("1")))and i["WR_GetMaxHPUnit"](k("1"),"暗影箭")==y or i["WR_GetUnitDebuffInfo"]("target","诛灭烙印",f)>k("0")and i["WR_GetUnitDebuffInfo"](y,"诛灭烙印",f)==k("0")and i["WR_TargetInCombat"](y)and(i["UnitClassification"](y)~="normal"and i["UnitClassification"](y)~="trivial"and i["UnitClassification"](y)~="minus"))then return f end;return e end;i["WR_WarlockDemonology_Cancel_BRCC"]=function()if i["WR_GetUnitBuffInfo"]("player","爆燃冲刺")~=k("0")and not i["PlayerMove"]then if i["WR_ColorFrame_Show"]("SF6","取消冲刺")then return f end end;return e end;i["WR_WarlockDemonology_StopCasting"]=function()if i["CastingName"]=="召唤恶魔卫士"and i["UnitExists"]("pet")and not i["UnitIsDead"]("pet")or i["CastingName"]=="暗影箭"and i["SoulShards"]>=k("5")or i["CastingName"]=="恶魔之箭"then if i["WR_ColorFrame_Show"]("SF12","取消施法")then return f end end;return e end;i["WR_WarlockDemonology_BMJX"]=function()if i["WRSet"]["EM_BMJX"]~=k("6")and i["WR_SpellUsable"]("不灭决心")and i["PlayerHP"]<=i["WRSet"]["EM_BMJX"]/k("10")then if i["WR_ColorFrame_Show"]("SF8","不灭决心")then return f end end;return e end;i["WR_WarlockDemonology_HAQY"]=function()if i["WRSet"]["EM_HAQY"]~=k("7")and i["WR_SpellUsable"]("黑暗契约")and(i["WRSet"]["EM_HAQY"]<=k("5")and i["PlayerHP"]<i["WRSet"]["EM_HAQY"]/k("10")or i["WRSet"]["EM_HAQY"]==k("6")and(i["PlayerHP"]<k("0.3")or i["WR_ResistOutburstTime"]()<=k("3")or i["WR_ResistSustained"](k("0.9"))or i["WR_Mustheal"]("player")))then if i["WR_ColorFrame_Show"]("SF7","黑暗契约")then return f end end;return e end;i["WR_WarlockDemonology_ZZZLS"]=function()if i["UnitAffectingCombat"]("player")and(i["ZLS_UseTime"]==g or i["GetTime"]()-i["ZLS_UseTime"]<k("60"))then return e end;local z={[k("1")]="治疗石",[k("2")]="恶魔治疗石"}local A=k("0")for m,B in i["ipairs"](z)do local C=i["C_Item"]["GetItemCount"](B)if C==g or C>=k("1")then A=C end end;if A==k("0")and i["WR_SpellUsable"]("制造治疗石")and i["CastingName"]~="制造治疗石"then if i["WR_ColorFrame_Show"]("CSF7","制造治疗石")then return f end end;return e end;i["WR_WarlockDemonology_LHS"]=function()if i["WRSet"]["EM_LHS"]and i["WR_SpellUsable"]("灵魂石")and(i["IsSpellInRange"]("灵魂石","mouseover")or i["WR_GetUnitRange"]("mouseover")<=k("40"))and i["UnitIsDead"]("mouseover")and not i["PlayerMove"]and not i["UnitCanAttack"]("player","mouseover")and i["UnitIsPlayer"]("mouseover")and i["CastingName"]~="灵魂石"then if i["WR_ColorFrame_Show"]("SF5","灵魂石M")then return f end end;return e end;i["WR_WarlockDemonology_ZHEMWS"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("召唤恶魔卫士")and i["NextGCDSS"]>=k("1")and not i["PlayerMove"]and not i["IsMounted"]()and i["CastingName"]~="召唤恶魔卫士"and(not i["UnitExists"]("pet")or i["UnitIsDead"]("pet"))then if i["WR_SpellUsable"]("邪能统御")and(not i["UnitExists"]("pet")or i["UnitIsDead"]("pet"))and(i["TargetInCombat"]or i["WR_PartyInCombat"]())then if i["WR_ColorFrame_Show"]("SF2","邪能统御")then return f end end;if i["WR_ColorFrame_Show"]("SF1","恶魔卫士")then return f end end;return e end;i["WR_WarlockDemonology_JFTZ_Unit"]=function(y)if i["IsSpellInRange"]("巨斧投掷",y)and(i["WR_GetCastInterruptible"](y,i["InterruptTime"],i["WR_WarlockDemonology_JFTZ_Important"])or i["WR_StunSpell"](y))then if y=="target"then if i["WR_ColorFrame_Show"]("AN6","投掷T")then return f end elseif y=="mouseover"then if i["WR_ColorFrame_Show"]("AN5","投掷M")then return f end elseif y=="focus"then if i["WR_ColorFrame_Show"]("AN7","投掷F")then return f end elseif y=="party1target"then if i["WR_ColorFrame_Show"]("AN1","投掷P1T")then return f end elseif y=="party2target"then if i["WR_ColorFrame_Show"]("AN2","投掷P2T")then return f end elseif y=="party3target"then if i["WR_ColorFrame_Show"]("AN3","投掷P3T")then return f end elseif y=="party4target"then if i["WR_ColorFrame_Show"]("AN4","投掷P4T")then return f end end end;return e end;i["WR_WarlockDemonology_JFTZ"]=function()if not i["WR_SpellUsable"]("巨斧投掷")then return e end;if i["UnitCreatureFamily"]("pet")~="恶魔卫士"then return e end;if i["UnitIsDead"]("pet")then return e end;if i["WRSet"]["EM_JFTZ"]<=k("4")then i["WR_WarlockDemonology_JFTZ_Important"]=e else i["WR_WarlockDemonology_JFTZ_Important"]=f end;if i["WRSet"]["EM_JFTZ"]==k("9")then return e elseif i["WRSet"]["EM_JFTZ"]==k("1")or i["WRSet"]["EM_JFTZ"]==k("5")or(i["WRSet"]["EM_JFTZ"]==k("4")or i["WRSet"]["EM_JFTZ"]==k("8"))and(not i["UnitExists"]("focus")or i["UnitIsDead"]("focus")or not i["UnitCanAttack"]("player","focus"))then if i["WR_WarlockDemonology_JFTZ_Unit"]("focus")then return f end;if i["WR_WarlockDemonology_JFTZ_Unit"]("target")then return f end;if i["WR_WarlockDemonology_JFTZ_Unit"]("mouseover")then return f end;for l=k("1"),k("4"),k("1")do if i["WR_WarlockDemonology_JFTZ_Unit"]("party"..l.."target")then return f end end elseif i["WRSet"]["EM_JFTZ"]==k("2")or i["WRSet"]["EM_JFTZ"]==k("6")then if i["WR_WarlockDemonology_JFTZ_Unit"]("target")then return f end elseif i["WRSet"]["EM_JFTZ"]==k("3")or i["WRSet"]["EM_JFTZ"]==k("7")then if i["WR_WarlockDemonology_JFTZ_Unit"]("mouseover")then return f end elseif i["WRSet"]["EM_JFTZ"]==k("4")or i["WRSet"]["EM_JFTZ"]==k("8")then if i["WR_WarlockDemonology_JFTZ_Unit"]("focus")then return f end end;return e end;i["WR_WarlockDemonology_SWCR_Unit"]=function(y)if i["C_Spell"]["IsSpellInRange"]("死亡缠绕",y)and i["WR_StunSpell"](y)then if y=="target"then if i["WR_ColorFrame_Show"]("CN6","死亡缠绕T")then return f end elseif y=="mouseover"then if i["WR_ColorFrame_Show"]("CN5","死亡缠绕M")then return f end elseif y=="focus"then if i["WR_ColorFrame_Show"]("CN7","死亡缠绕F")then return f end elseif y=="party1target"then if i["WR_ColorFrame_Show"]("CN1","死亡缠绕P1T")then return f end elseif y=="party2target"then if i["WR_ColorFrame_Show"]("CN2","死亡缠绕P2T")then return f end elseif y=="party3target"then if i["WR_ColorFrame_Show"]("CN3","死亡缠绕P3T")then return f end elseif y=="party4target"then if i["WR_ColorFrame_Show"]("CN4","死亡缠绕P4T")then return f end end end end;i["WR_WarlockDemonology_SWCR"]=function()if i["GCD"]>i["ShiFaSuDu"]then return e end;if not i["WR_SpellUsable"]("死亡缠绕")then return e end;if i["WR_GetGCD"]("巨斧投掷")<=i["GCD"]or i["WR_GetGCD"]("巨斧投掷")>=k("29")then return e end;if i["WRSet"]["EM_SWCR"]==k("5")then return e elseif i["WRSet"]["EM_SWCR"]==k("1")or i["WRSet"]["EM_SWCR"]==k("4")and(not i["UnitExists"]("focus")or i["UnitIsDead"]("focus")or not i["UnitCanAttack"]("player","focus"))then if i["WR_WarlockDemonology_SWCR_Unit"]("focus")then return f end;if i["WR_WarlockDemonology_SWCR_Unit"]("target")then return f end;if i["WR_WarlockDemonology_SWCR_Unit"]("mouseover")then return f end;for l=k("1"),k("4"),k("1")do if i["WR_WarlockDemonology_SWCR_Unit"]("party"..l.."target")then return f end end elseif i["WRSet"]["EM_SWCR"]==k("2")then if i["WR_WarlockDemonology_SWCR_Unit"]("target")then return f end elseif i["WRSet"]["EM_SWCR"]==k("3")then if i["WR_WarlockDemonology_SWCR_Unit"]("mouseover")then return f end elseif i["WRSet"]["EM_SWCR"]==k("4")then if i["WR_WarlockDemonology_SWCR_Unit"]("focus")then return f end end;return e end;i["WR_WarlockDemonology_SZQM_Unit"]=function(y)if not i["UnitCanAttack"]("player",y)and i["WR_CanRemoveUnitDebuff"](y)and(i["IsSpellInRange"]("烧灼驱魔",y)or i["WR_GetUnitRange"](y)<=k("30"))then if y=="mouseover"then if i["WR_ColorFrame_Show"]("CSF5","驱魔M")then return f end elseif y=="player"then if i["WR_ColorFrame_Show"]("CSF6","驱魔P")then return f end elseif y=="party1"then if i["WR_ColorFrame_Show"]("CSF1","驱魔P1")then return f end elseif y=="party2"then if i["WR_ColorFrame_Show"]("CSF2","驱魔P2")then return f end elseif y=="party3"then if i["WR_ColorFrame_Show"]("CSF3","驱魔P3")then return f end elseif y=="party4"then if i["WR_ColorFrame_Show"]("CSF4","驱魔P4")then return f end end end;return e end;i["WR_WarlockDemonology_SZQM"]=function()if not i["WR_SpellUsable"]("烧灼驱魔")then return e end;if i["UnitCreatureFamily"]("pet")~="小鬼"then return e end;if i["WR_SZQM_Time"]~=g and i["GetTime"]()-i["WR_SZQM_Time"]<k("0.2")then return e end;if i["WRSet"]["EM_SZQM"]==k("4")then return e elseif i["WRSet"]["EM_SZQM"]==k("1")then if i["WR_WarlockDemonology_SZQM_Unit"]("mouseover")then return f end;if i["WR_WarlockDemonology_SZQM_Unit"]("player")then return f end;for l=k("1"),k("4"),k("1")do if i["WR_WarlockDemonology_SZQM_Unit"]("party"..l)then return f end end elseif i["WRSet"]["EM_SZQM"]==k("2")then if i["WR_WarlockDemonology_SZQM_Unit"]("mouseover")then return f end elseif i["WRSet"]["EM_SZQM"]==k("3")then if i["WR_WarlockDemonology_SZQM_Unit"]("player")then return f end end;return e end;i["WR_WarlockDemonology_NLHX"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("能量虹吸")and i["BuffCount_EMZH"]<=k("2")and i["YSXG_Sum"]>=k("2")then if D=="初始"and i["WR_GetCombatTime"]()<k("2")then if i["WR_ColorFrame_Show"]("CF4","初始虹吸")then return f end end;if D==g then if i["WR_ColorFrame_Show"]("CF4","能量虹吸")then return f end end end;return e end;i["WR_WarlockDemonology_ZHEMBJ"]=function(D)local E=i["WR_GetTrueCastTime"]("召唤恶魔暴君")if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("召唤恶魔暴君")and i["TargetRange"]<=k("40")and not i["PlayerMove"]and not i["WR_StopCast"](E)and i["KJLQ_Time"]>E+i["GCD"]and i["XQ_Time"]>E+i["GCD"]and(i["EMWS_Time"]>E+i["GCD"]or i["EMWS_Time"]==k("0"))and(i["KJLQ_Time"]<E+i["GCD"]+i["Max_GCD"]*k("4")or i["XQ_Time"]<E+i["GCD"]+i["Max_GCD"]*k("4")or i["EMWS_Time"]>E+i["GCD"]and i["EMWS_Time"]<E+i["GCD"]+i["Max_GCD"]*k("4")or i["Lose_XG"]or i["WRSet"]["EM_NB"]~=k("13")and not i["WR_SingleUnit"]()and i["WR_GetRangeHarmUnitCount"](k("40"),not i["WR_InTraining"]())>=k("2"))then if i["WR_WarlockDemonology_SP"]("爆发")then return f end;if i["WR_ColorFrame_Show"]("CF9","召唤恶魔暴君")then return f end end;return e end;i["WR_WarlockDemonology_SP"]=function(D)if D=="保命"then if i["WRSet"]["EM_SP1"]>=k("3")then if i["WR_ShiPin"](k("1"),i["WRSet"]["EM_SP1"])then return f end end;if i["WRSet"]["EM_SP2"]>=k("3")then if i["WR_ShiPin"](k("2"),i["WRSet"]["EM_SP2"])then return f end end elseif D=="常驻"then if i["WRSet"]["EM_SP1"]==k("1")then if i["WR_ShiPin"](k("1"),i["WRSet"]["EM_SP1"])then return f end end;if i["WRSet"]["EM_SP2"]==k("1")then if i["WR_ShiPin"](k("2"),i["WRSet"]["EM_SP2"])then return f end end elseif D=="爆发"then if i["WRSet"]["EM_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["EM_SP1"])then return f end end;if i["WRSet"]["EM_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["EM_SP2"])then return f end end end;return e end;i["WR_WarlockDemonology_EMLL"]=function()if i["UnitCreatureFamily"]("pet")=="恶魔卫士"and i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("恶魔力量")and i["UnitExists"]("pettarget")and not i["UnitIsDead"]("pettarget")and(i["CD_ZHEMBJ"]>k("45")or i["CastingName"]=="召唤恶魔暴君")then if i["WR_ColorFrame_Show"]("CF7","恶魔力量")then return f end end;return e end;i["WR_WarlockDemonology_MDEMWS"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["zhandoumoshi"]==k("1")and i["NextGCDSS"]>=k("1")and i["TargetRange"]<=k("40")and i["IsPlayerSpell"](k("111898"))and i["WR_GetGCD"](k("111898"))<=i["GCD"]then if D==g then if i["WR_ColorFrame_Show"]("CF8","魔典卫士")then return f end end;if D=="暴君"and i["CD_ZHEMBJ"]<=i["GCD"]+i["Max_GCD"]+k("10")then if i["WR_ColorFrame_Show"]("CF8","暴君魔卫")then return f end end end;return e end;i["HCSJ"]=k("5")i["WR_WarlockDemonology_ZHKJLQ"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["IsPlayerSpell"](k("104316"))and i["CD_ZHKJLQ"]<=i["GCD"]and(i["WR_GetUnitBuffInfo"]("player","魔性征召")~=k("0")or not i["PlayerMove"]and not i["WR_StopCast"](i["CastTime_ZHKJLQ"])and i["NextGCDSS"]>=k("2"))then if D==g and(i["WRSet"]["EM_KJLQ"]==k("1")or i["zhandoumoshi"]==k("1")and i["CD_ZHEMBJ"]>i["GCD"]+i["CastTime_ZHKJLQ"]+k("5"))then if i["WR_ColorFrame_Show"]("CF6","恐惧猎犬")then return f end end;if D=="暴君"and i["zhandoumoshi"]==k("1")and i["CD_ZHEMBJ"]<=i["GCD"]+i["CastTime_ZHKJLQ"]+k("5")then if i["WR_ColorFrame_Show"]("CF6","暴君猎犬")then return f end end end;return e end;i["WR_WarlockDemonology_ZHXQ"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["NextGCDSS"]>=k("1")and not i["PlayerMove"]and i["IsPlayerSpell"](k("264119"))and i["CD_ZHXQ"]<=i["GCD"]and not i["WR_StopCast"](i["CastTime_ZHXQ"])then if D==g and(i["WRSet"]["EM_KJLQ"]==k("1")or i["zhandoumoshi"]==k("1")and i["CD_ZHEMBJ"]>i["GCD"]+i["CastTime_ZHXQ"]+k("8"))then if i["WR_ColorFrame_Show"]("CF10","召唤邪犬")then return f end end;if D=="暴君"and i["zhandoumoshi"]==k("1")and i["CD_ZHEMBJ"]<=i["GCD"]+i["CastTime_ZHXQ"]+k("8")then if i["WR_ColorFrame_Show"]("CF10","暴君邪犬")then return f end end end;return e end;i["WR_WarlockDemonology_GEDZS"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["TargetRange"]<=k("40")and not i["PlayerMove"]and i["WR_SpellUsable"]("古尔丹之手")and not i["WR_StopCast"](i["WR_GetTrueCastTime"]("古尔丹之手"))then if D=="陨灭"then if i["CastingName"]~="陨灭"and i["WR_GetUnitBuffTime"]("player",k("433885"))>k("0")then if i["WR_ColorFrame_Show"]("CF3","陨灭")then return f end end end;if D=="暴君"and i["NextGCDSS"]>=k("3")and i["zhandoumoshi"]==k("1")and i["CD_ZHEMBJ"]<=i["GCD"]and i["CD_MDEMWS"]>i["GCD"]and i["CD_ZHKJLQ"]>i["GCD"]and i["CD_ZHXQ"]>i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","暴君古尔丹")then return f end end;if D=="满"and(i["zhandoumoshi"]~=k("1")or i["CD_ZHEMBJ"]>i["GCD"])then if i["NextGCDSS"]==k("5")or i["NextGCDSS"]==k("4")and(i["BuffTime_YHS"]>k("0")or i["BuffCount_EMZH"]>=k("1")or i["IsPlayerSpell"](k("428351"))and i["CD_LHDJ"]<=i["GCD"]+i["Max_GCD"])or i["NextGCDSS"]==k("3")and i["BuffTime_YHS"]>k("0")and i["BuffCount_EMZH"]==k("0")then if i["WR_ColorFrame_Show"]("CF3","满古尔丹")then return f end end end;if D==g and i["NextGCDSS"]>=k("3")then if i["WR_ColorFrame_Show"]("CF3","古尔丹")then return f end end end;return e end;i["WR_WarlockDemonology_NB"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["WRSet"]["EM_NB"]~=k("13")and i["WR_SpellUsable"]("内爆")and i["YSXG_Sum"]>=i["WRSet"]["EM_NB"]and not i["WR_SingleUnit"]()and i["WR_GetRangeHarmUnitCount"](k("40"),not i["WR_InTraining"]())>=k("2")then if i["BuffCount_EMZH"]==k("0")then if i["WR_ColorFrame_Show"]("SF3","返核内爆")then return f end end;if i["Lose_XG"]then if i["WR_ColorFrame_Show"]("SF3","最高内爆")then return f end end;if i["WR_GetUnitDebuffTime"]("target","邪恶之喉",f)>i["GCD"]then if i["WR_ColorFrame_Show"]("SF3","增伤内爆")then return f end end end;return e end;i["WR_WarlockDemonology_EMZJ_Unit"]=function(y,D)if i["WR_TargetInCombat"](y)and i["WR_GetUnitRange"](y)<=k("40")and(D==g or D=="末日降临"and i["WR_GetUnitDebuffTime"](y,"末日降临",f)==k("0"))then if y=="target"then if i["WR_ColorFrame_Show"]("CF5","魔箭T")then return f end elseif y=="mouseover"then if i["WR_ColorFrame_Show"]("ASF6","魔箭M")then return f end elseif y=="party1target"then if i["WR_ColorFrame_Show"]("ASF1","魔箭P1T")then return f end elseif y=="party2target"then if i["WR_ColorFrame_Show"]("ASF2","魔箭P2T")then return f end elseif y=="party3target"then if i["WR_ColorFrame_Show"]("ASF3","魔箭P3T")then return f end elseif y=="party4target"then if i["WR_ColorFrame_Show"]("ASF5","魔箭P4T")then return f end end end;return e end;i["WR_WarlockDemonology_EMZJ"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("恶魔之箭")and i["NextGCDSS"]<=k("3")and i["BuffCount_EMZH"]>=k("1")then if D==g and(i["BuffCount_EMZH"]>=k("2")or i["BuffTime_EMZH"]<=i["GCD"]+i["Max_GCD"]*k("3")or i["CD_ZHEMBJ"]>i["GCD"]+i["Max_GCD"]*k("3")and i["CD_MDEMWS"]>i["GCD"]+i["Max_GCD"]*k("3")and i["CD_ZHKJLQ"]>i["GCD"]+i["Max_GCD"]*k("3")and i["CD_ZHXQ"]>i["GCD"]+i["Max_GCD"]*k("3"))then if i["WR_WarlockDemonology_EMZJ_Unit"]("target","末日降临")then return f end;if i["WR_WarlockDemonology_EMZJ_Unit"]("mouseover","末日降临")then return f end;for l=k("1"),k("4"),k("1")do if i["WR_WarlockDemonology_EMZJ_Unit"]("party"..l.."target","末日降临")then return f end end;if i["WR_WarlockDemonology_EMZJ_Unit"]("target")then return f end end;if D=="暴君"and i["zhandoumoshi"]==k("1")and i["CD_LHDJ"]>i["GCD"]and(i["CD_MDEMWS"]<=i["GCD"]or i["CD_ZHEMBJ"]<=i["GCD"]+k("4")*i["Max_GCD"])then if i["WR_WarlockDemonology_EMZJ_Unit"]("target","末日降临")then return f end;if i["WR_WarlockDemonology_EMZJ_Unit"]("mouseover","末日降临")then return f end;for l=k("1"),k("4"),k("1")do if i["WR_WarlockDemonology_EMZJ_Unit"]("party"..l.."target","末日降临")then return f end end;if i["WR_WarlockDemonology_EMZJ_Unit"]("target")then return f end end end;return e end;i["WR_WarlockDemonology_AYJ"]=function(D)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["TargetRange"]<=k("40")and not i["PlayerMove"]and i["NextGCDSS"]<=k("4")and i["WR_SpellUsable"]("暗影箭")and not i["WR_StopCast"](i["WR_GetTrueCastTime"]("暗影箭"))then if i["BuffTime_YHS"]==k("0")or i["BuffTime_YHS"]>k("0")and i["NextGCDSS"]<=k("2")then if D=="狱火"and i["BuffTime_YHS"]>k("0")then if i["WR_ColorFrame_Show"]("CF1","狱火箭")then return f end end;if D=="初始"then if i["WR_GetCombatTime"]()<i["Max_GCD"]and i["CastingName"]~="暗影箭"then if i["WR_ColorFrame_Show"]("CF1","初始暗箭")then return f end end end;if D==g then if i["WR_ColorFrame_Show"]("CF1","暗影箭")then return f end end end end;return e end;i["WR_WarlockDemonology_BRCC"]=function()local F,G,H,I=i["GetUnitSpeed"]("player")if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["PlayerHP"]>k("0.05")and G/k("7")<k("1.4")and i["PlayerMove"]and i["WR_GetUnitBuffInfo"]("player","爆燃冲刺")==k("0")and(i["WRSet"]["EM_BQCC"]==k("1")and i["WR_SpeedUp"]()or i["WRSet"]["EM_BQCC"]==k("2"))then if i["WR_ColorFrame_Show"]("SF4","爆燃冲刺")then return f end end;return e end;i["WR_WarlockDemonology_LastSpellTime"]=function()if i["WarlockDemonologyLastSpellIsOpen"]==f then return end;local J=i["CreateFrame"]("Frame")J["RegisterEvent"](J,"COMBAT_LOG_EVENT_UNFILTERED")J["SetScript"](J,"OnEvent",function()if i["select"](k("4"),i["CombatLogGetCurrentEventInfo"]())==i["UnitGUID"]("player")then if i["select"](k("2"),i["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local K=i["select"](k("13"),i["CombatLogGetCurrentEventInfo"]())if K=="古尔丹之手"or K=="陨灭"then for l=k("1"),k("5"),k("1")do if i["CastTime_GED"][l]==g then i["CastTime_GED"][l]=i["GetTime"]()end end end end end end)i["WarlockDemonologyLastSpellIsOpen"]=f end end)()