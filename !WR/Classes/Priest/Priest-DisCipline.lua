local a=75;local b=76;local c=39;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_PriestDisCipline"]=function()if h["GetSpecialization"]()~=j("1")then return end;h["ShiFaSuDu"]=j("0.05")+h["WRSet"]["JL_SFSD"]*j("0.05")if h["UnitCastingInfo"]("player")=="终极苦修"then local k,k,k,k,l,k,k,k,k=h["UnitCastingInfo"]("player")if l/j("1000")-h["GetTime"]()<j("0.3")then h["WR_STOP"](l/j("1000")-h["GetTime"]()+j("0.5"))end end;if h["CastTime_ZJKX"]~=f and h["GetTime"]()-h["CastTime_ZJKX"]<j("0.5")then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))end;if h["UnitCastingInfo"]("player")=="真言术：耀"then local k,k,k,k,l,k,k,k,k=h["UnitCastingInfo"]("player")if l/j("1000")-h["GetTime"]()<j("0.2")then h["CastTime_ZYSY"]=l/j("1000")end end;h["WR_PriestDisCipline_ErrorMessage"]()h["PlayerInCombat"]=h["UnitAffectingCombat"]("player")h["PlayerMove"]=h["WR_PlayerMove"]()h["PlayerHP"]=j("1")if h["UnitHealthMax"]("player")~=j("0")then h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")end;h["FocusHP"]=j("1")if h["UnitHealthMax"]("focus")~=j("0")then h["FocusHP"]=h["UnitHealth"]("focus")/h["UnitHealthMax"]("focus")end;h["GCD"]=h["WR_GetGCD"]("真言术：韧")h["CD_NLGZ"]=h["WR_GetGCD"]("能量灌注")h["CD_TKYZ"]=h["WR_GetGCD"]("痛苦压制")h["CD_GY"]=h["WR_GetGCD"]("光晕")h["CD_KX"]=h["WR_GetGCD"]("苦修")h["CD_XKYL"]=h["WR_GetGCD"]("虚空幽灵")h["CD_ZYSD"]=h["WR_GetGCD"]("真言术：盾")h["CD_AYSM"]=h["WR_GetGCD"]("暗言术：灭")h["CD_XLZB"]=h["WR_GetGCD"]("心灵震爆")h["CD_XXGDYB"]=h["WR_GetGCD"]("吸血鬼的拥抱")h["CD_TTZY"]=h["WR_GetGCD"]("天堂之羽")h["CD_CJS"]=h["WR_GetGCD"]("纯净术")h["CD_JWDY"]=h["WR_GetGCD"]("绝望祷言")h["CD_JYS"]=h["WR_GetGCD"]("渐隐术")h["CD_ZYSY"]=h["WR_GetGCD"]("真言术：耀")h["BuffTime_HS"],h["BuffCount_HS"],h["BuffSum_HS"]=h["WR_GetUnitBuffInfo"]("player","喝水")h["BuffTime_JSYS"],h["BuffCount_JSYS"],h["BuffSum_JSYS"]=h["WR_GetUnitBuffInfo"]("player","进食饮水")h["AYMYBuffTime"],h["AYMYBuff"],h["_"]=h["WR_GetUnitBuffInfo"]("player","暗影盟约")h["BuffTime_TTZY"],h["BuffCount_TTZY"],h["BuffSum_TTZY"]=h["WR_GetUnitBuffInfo"]("player","天堂之羽")h["BuffTime_SXHY"],h["BuffCount_SXHY"],h["BuffSum_SXHY"]=h["WR_GetUnitBuffInfo"]("player","身心合一")h["BuffTime_ZYSD"],h["BuffCount_ZYSD"],h["BuffSum_ZYSD"]=h["WR_GetUnitBuffInfo"]("player","真言术：盾")h["BuffTime_FHSG"],h["BuffCount_FHSG"],h["BuffSum_FHSG"]=h["WR_GetUnitBuffInfo"]("player","防护圣光")h["BuffTime_QSGZ"],h["BuffCount_QSGZ"],h["BuffSum_QSGZ"]=h["WR_GetUnitBuffInfo"]("player","全神贯注")h["BuffTime_TKYZ"],h["BuffCount_TKYZ"],h["BuffSum_TKYZ"]=h["WR_GetUnitBuffInfo"]("player","痛苦压制")h["BuffTime_SGYD"],h["BuffCount_SGYD"],h["BuffSum_SGYD"]=h["WR_GetUnitBuffInfo"]("player","圣光涌动")h["FocusBuffTime_TKYZ"],h["_"],h["_"]=h["WR_GetUnitBuffInfo"]("focus","痛苦压制")h["FocusBuffTime_JS"],h["_"],h["_"]=h["WR_GetUnitBuffInfo"]("focus","救赎")h["FocusBuffTime_ZYSD"],h["_"],h["_"]=h["WR_GetUnitBuffInfo"]("focus","真言术：盾")h["FocusBuffTime_HF"],h["_"],h["_"]=h["WR_GetUnitBuffInfo"]("focus","恢复")h["TargetDebuffTime_AYST"],h["TargetDebuffCount_AYST"],h["TargetDebuffSum_AYST"]=h["WR_GetUnitDebuffInfo"]("target","暗言术：痛",e)h["TargetDebuffTime_JPFQ"],h["TargetDebuffCount_JPFQ"],h["TargetDebuffSum_JPFQ"]=h["WR_GetUnitDebuffInfo"]("target","教派分歧",e)h["WR_GetPartyRange"]()h["WR_GetPartyLostHealth"]()h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["MaxLatency"]=h["WR_GetMaxLatency"]()h["MaxLatency"]=h["MaxLatency"]+j("0.05")if h["MaxLatency"]<j("0.1")then h["Latency"]=j("0.1")else h["Latency"]=h["MaxLatency"]end;if h["MaxLatency"]>j("0.25")then h["Latency"]=j("0.25")else h["Latency"]=h["MaxLatency"]end;h["TargetInSpellRange"]=h["IsSpellInRange"]("惩击","target")h["AvgDeathTime"]=h["WR_GetRangeAvgDeathTime"](j("40"))h["TDT"]=h["WR_GetUnitDeathTime"]("target")h["Resist"]=d;h["ResistSustained"]=h["WR_ResistSustained"]()h["ResistOutburstTime"]=h["WR_ResistOutburstTime"]()h["MustDefenseTime"]=h["WR_MustDefenseTime"]()if h["ResistSustained"]or h["ResistOutburstTime"]<=j("5")or h["MustDefenseTime"]<=j("5")then h["Resist"]=e end;h["PlayerMustheal"]=h["WR_Mustheal"]("player")h["FocusMustheal"]=h["WR_Mustheal"]("focus")h["InRaidOrParty"]=h["WR_GetInRaidOrParty"]()h["TargetInvincible"]=h["WR_Invincible"]("target")h["PartyInCombat"]=h["WR_PartyInCombat"]()h["PartyLostHP"]=h["WR_PartyLostHP"]("纯净术")h["BuffCount_JS"]=h["WR_GetMyBuffCount"]("救赎")h["LifeParty46"]=h["WR_GetLifeParty"](j("46"))h["NotJSPartyCount"]=h["LifeParty46"]-h["BuffCount_JS"]h["ZYSYCharges"]=h["WR_GetSpellCharges"]("真言术：耀")h["KSZL_Health"]=h["WR_GetSpellValue"]("快速治疗","恢复","点生命值")h["QiangJiuYuZhi"]=h["WRSet"]["JL_QJYZ"]/j("10")h["KuXiuCastTime"]=h["WR_GetSpellValue"]("苦修","在","秒")if not h["UnitAffectingCombat"]("player")then for m=j("1"),j("4"),j("1")do local n="party"..m;if h["UnitExists"](n)and h["UnitName"](n)~=f then if h["JL_NLGZ_menuItems"][m]["text"]~=h["UnitName"](n)then h["JL_NLGZ_UpdateMenuItemText"](m,h["UnitName"](n))end else if h["JL_NLGZ_menuItems"][m]["text"]~=g then h["JL_NLGZ_UpdateMenuItemText"](m,g)end end end end;h["WR_PriestDisCipline_LastSpellTime"]()if h["WR_PriorityCheck"]()then return end;if h["WR_FocusMaxWeightUnit"]()then return end;if h["WR_PriestDisCipline_StopCasting"]()then return end;if h["WR_PriestDisCipline_JYS"]()then return e end;if h["WRSet"]["JL_SP1"]>=j("3")then if h["WR_ShiPin"](j("1"),h["WRSet"]["JL_SP1"])then return e end end;if h["WRSet"]["JL_SP2"]>=j("3")then if h["WR_ShiPin"](j("2"),h["WRSet"]["JL_SP2"])then return e end end;if h["WR_PriestDisCipline_JianShang"]()then return e end;if h["WR_ZLS"](h["WRSet"]["JL_ZLS"])then return e end;if h["WR_ZLYS"](h["WRSet"]["JL_ZLYS"])then return e end;if h["WR_ZLYS2"](h["WRSet"]["JL_ZLYS"])then return e end;if h["WR_PriestDisCipline_NLGZ"]()then return e end;if h["WR_PriestDisCipline_TKYZ"]()then return e end;if h["WR_PriestDisCipline_QiangJiu"]()then return e end;if h["WR_Function_ZNMB"](j("40"),h["WRSet"]["JL_ZNMB"])then return e end;if h["FocusHP"]>h["QiangJiuYuZhi"]then if h["WR_PriestDisCipline_CJS_Function"]()then return e end;if h["WR_PriestDisCipline_QSMF_Function"]()then return e end;if h["WR_PriestDisCipline_XLJX"]()then return e end end;if h["WRSet"]["JL_SP1"]<=j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["JL_SP2"])then return e end end;if h["WRSet"]["JL_SP2"]<=j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["JL_SP2"])then return e end end;if h["WR_WuQi"](j("40"),h["WRSet"]["JL_WuQi"])then return e end;if h["WR_PriestDisCipline_QSGZ"]()then return e end;if h["WR_PriestDisCipline_JiuShu"]()then return e end;if h["WR_PriestDisCipline_ZYSY"]("2层")then return e end;if h["WR_PriestDisCipline_KSZL_FHSG"]()then return e end;if h["WR_PriestDisCipline_Run"]()then return e end;if h["GCD"]<h["ShiFaSuDu"]and h["TargetInCombat"]and h["TargetInSpellRange"]then if h["TargetDebuffTime_AYST"]==j("0")or h["AYMYBuff"]==j("0")and h["TargetDebuffTime_AYST"]<=j("6")then if h["WR_ColorFrame_Show"]("SF6","暗言术：痛")then return e end end;if not h["PlayerMove"]and h["zhandoumoshi"]==j("1")and(h["CD_XKYL"]<=h["GCD"]+h["Latency"]or h["IsPlayerSpell"](j("390770"))and(h["UnitCastingInfo"]("player")=="惩击"or h["UnitCastingInfo"]("player")=="心灵震爆")and h["CD_XKYL"]<=h["GCD"]+j("2")+h["Latency"])then if h["WR_ColorFrame_Show"]("CSJ","虚空幽灵")then return e end end;if h["CD_XLZB"]<=h["GCD"]and not h["PlayerMove"]and h["UnitCastingInfo"]("player")~="心灵震爆"and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("心灵震爆"))and(h["AYMYBuff"]>j("0")or h["GCD"]+h["WR_GetTrueCastTime"]("心灵震爆")+j("24")<h["CD_XKYL"])then if h["WR_ColorFrame_Show"]("SF3","心灵震爆")then return e end end;if not h["WR_StopCast"](h["KuXiuCastTime"])and(h["AYMYBuff"]>j("0")or h["GCD"]+j("9")<h["CD_XKYL"]+j("15"))and(h["CD_KX"]<=h["GCD"]+h["Latency"]or h["IsPlayerSpell"](j("390693"))and(h["UnitCastingInfo"]("player")=="惩击"and h["CD_KX"]<=h["GCD"]+j("0.5")+h["Latency"]or h["UnitCastingInfo"]("player")=="快速治疗"and h["CD_KX"]<=h["GCD"]+j("1")+h["Latency"]))then if h["WR_ColorFrame_Show"]("SF7","苦修伤害")then return e end end;if h["IsPlayerSpell"](j("32379"))and h["CD_AYSM"]<=h["GCD"]and(h["AYMYBuff"]>j("0")or h["GCD"]+j("10")<h["CD_XKYL"]and h["UnitHealth"]("target")/h["UnitHealthMax"]("target")<j("0.2"))then if h["WR_ColorFrame_Show"]("SF4","灭")then return e end end;if not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("惩击"))then if h["WR_ColorFrame_Show"]("SF8","惩击")then return e end end end;if h["PlayerMove"]and h["UnitPower"]("player",j("0"))/h["UnitPowerMax"]("player",j("0"))>j("0.85")then if h["WR_PriestDisCipline_ZYSD"]("focus")then return e end;if h["WR_PriestDisCipline_HF"]()then return e end end;if not h["PlayerInCombat"]then if h["WR_PriestDisCipline_QTFH"]()then return e end;if h["WR_PriestDisCipline_ZYSR"]()then return e end;if h["WR_PriestDisCipline_KSZL"]("脱战")then return e end;if h["WR_GetUnitHP"]("focus")<j("0.9")then if h["WR_PriestDisCipline_HF"]()then return e end end;if h["UnitGroupRolesAssigned"]("focus")=="TANK"then if h["WR_PriestDisCipline_ZYSD"]("focus")then return e end end end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_PriestDisCipline_ErrorMessage"]=function()if h["WR_ErrorMessageInfo"]~=e then local o=h["CreateFrame"]("Frame")o["RegisterEvent"](o,"UI_ERROR_MESSAGE")o["SetScript"](o,"OnEvent",function(p,q,r,s)if h["string"]["find"](s,"目标不在视野中")then h["ErrorMessageTime_OutOfSight"]=h["GetTime"]()return end end)h["WR_ErrorMessageInfo"]=e end end;h["WR_PriestDisCipline_StopCasting"]=function()if h["UnitCastingInfo"]("player")=="群体复活"and not h["WR_PartyIsDeath"]()then if h["WR_ColorFrame_Show"]("CSP","停止施法")then return e end end;return d end;h["WR_PriestDisCipline_JYS"]=function()if h["CD_JYS"]==j("0")and h["BuffCount_JSZH"]==j("0")and h["UnitAffectingCombat"]("player")then if(h["WRSet"]["JL_JYS"]==j("1")or h["WRSet"]["JL_JYS"]==j("2"))and h["IsPlayerSpell"](j("373446"))and(h["Resist"]or h["WR_Mustheal"]("player")or h["WR_GetRangeSpellTime"](j("45"),f,"player")<=j("1.5"))then if h["WR_ColorFrame_Show"]("CSL","渐隐减伤")then return e end end;if(h["WRSet"]["JL_JYS"]==j("1")or h["WRSet"]["JL_JYS"]==j("3"))and h["IsPlayerSpell"](j("108942"))and h["WR_Unbind"]("player")then if h["WR_ColorFrame_Show"]("CSL","渐隐脱困")then return e end end end;return d end;h["WR_PriestDisCipline_JianShang"]=function()if not h["PlayerInCombat"]then return d end;if h["PlayerHP"]<j("0.35")then if h["WRSet"]["JL_JWDY"]==j("1")and h["BuffCount_TKYZ"]==j("0")and h["WR_SpellUsable"]("绝望祷言")then h["JWDY_EndTime"]=h["GetTime"]()+h["GCD"]if h["WR_ColorFrame_Show"]("CSK","绝望祷言")then return e end end;if h["WRSet"]["JL_TKYZ"]==j("1")and h["BuffCount_TKYZ"]==j("0")and h["WR_GetUnitBuffInfo"]("player","绝望祷言")==j("0")and h["WR_SpellUsable"]("痛苦压制")and(h["JWDY_EndTime"]==f or h["GetTime"]()-h["JWDY_EndTime"]>j("0.5"))then if h["UnitIsUnit"]("focus","player")then if h["WR_ColorFrame_Show"]("CSO","压制P")then return e end end;if h["WR_FocusUnit"]("player","压制")then return e end end end;return d end;h["WR_PriestDisCipline_ZLS"]=function()if h["WRSet"]["JL_ZLS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["JL_ZLS"]/j("10")and h["WR_Use_ZLS"]()then if h["WR_ColorFrame_Show"]("CSF","治疗石")then return e end end;return d end;h["WR_PriestDisCipline_ZLYS"]=function()if h["WRSet"]["JL_ZLYS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["JL_ZLYS"]/j("10")and h["WR_Use_ZLYS"]()then if h["WR_ColorFrame_Show"]("CST","治疗药水")then return e end end;return d end;h["WR_PriestDisCipline_NLGZ"]=function()if h["CD_NLGZ"]<=h["GCD"]and h["PartyInCombat"]and h["AvgDeathTime"]>j("15")and h["WRSet"]["JL_NLGZ"]~=j("5")then local n="party"..h["WRSet"]["JL_NLGZ"]if h["WR_GetUnitRange"](n)<=j("46")and h["WR_GetUnitCrazyBuff"](n)then if h["UnitIsUnit"]("focus",n)then if h["WR_ColorFrame_Show"]("CSM","灌注P"..h["WRSet"]["JL_NLGZ"])then return e end end;if h["WR_FocusUnit"](n,"灌注")then return e end end end;return d end;h["WR_PriestDisCipline_TKYZ"]=function()if h["WRSet"]["JL_TKYZ"]~=j("5")and h["CD_TKYZ"]==j("0")and h["AvgDeathTime"]>j("5")and h["UnitAffectingCombat"]("focus")and h["IsSpellInRange"]("快速治疗","focus")and not h["UnitIsDead"]("focus")and h["FocusHP"]<h["WRSet"]["JL_TKYZ"]/j("10")and h["FocusBuffTime_TKYZ"]<=h["GCD"]and h["UnitIsPlayer"]("focus")and(h["GetInspectSpecialization"]("focus")~=j("250")or h["GetInspectSpecialization"]("focus")==j("250")and h["UnitPower"]("focus",j("6"))<j("40"))then if h["WR_ColorFrame_Show"]("CSO","压制F")then return e end end;return d end;h["WR_PriestDisCipline_CJS"]=function(t)if not h["UnitCanAttack"]("player",t)and h["IsSpellInRange"]("纯净术",t)and h["WR_CanRemoveUnitDebuff"](t)then if h["UnitIsUnit"]("focus",t)then if h["WR_ColorFrame_Show"]("CF3","纯净"..t)then return e end end;if h["WR_FocusUnit"](t,"纯净")then return e end end;return d end;h["WR_PriestDisCipline_CJS_Function"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["WR_SpellUsable"]("纯净术")then return d end;if h["WRSet"]["JL_CJS"]==j("1")then if h["WR_PriestDisCipline_CJS"]("mouseover")then return e end;if h["WR_PriestDisCipline_CJS"]("player")then return e end;for m=j("1"),j("4"),j("1")do if h["UnitGroupRolesAssigned"]("party"..m)~="TANK"then if h["WR_PriestDisCipline_CJS"]("party"..m)then return e end end end;for m=j("1"),j("4"),j("1")do if h["WR_PriestDisCipline_CJS"]("party"..m)then return e end end elseif h["WRSet"]["JL_CJS"]==j("2")then if h["WR_PriestDisCipline_CJS"]("mouseover")then return e end elseif h["WRSet"]["JL_CJS"]==j("3")then if h["WR_PriestDisCipline_CJS"]("player")then return e end end;return d end;h["WR_PriestDisCipline_QSMF"]=function(t)if h["GCD"]<h["ShiFaSuDu"]and h["UnitCanAttack"]("player",t)and h["IsSpellInRange"]("驱散魔法",t)and h["WR_GetUnitBuffType"](t,"Magic")then if h["UnitIsUnit"]("focus",t)then if h["WR_ColorFrame_Show"]("CSN","驱散"..t)then return e end end;if h["WR_FocusUnit"](t,"纯净")then return e end end;return d end;h["WR_PriestDisCipline_QSMF_Function"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["FocusHP"]>j("0.5")and h["WRSet"]["JL_QSMF"]and h["IsPlayerSpell"](j("528"))and h["PlayerInCombat"]then if h["WR_PriestDisCipline_QSMF"]("target")then return e end;if h["WR_PriestDisCipline_QSMF"]("mouseover")then return e end;for m=j("1"),j("4"),j("1")do if h["WR_PriestDisCipline_QSMF"]("party"..m.."target")then return e end end end;return d end;h["WR_PriestDisCipline_QTFH"]=function()if h["GCD"]<h["ShiFaSuDu"]and not h["PlayerInCombat"]and h["FocusHP"]>=j("0.7")and h["WR_ResurrectParty"]()then if h["WR_ColorFrame_Show"]("CSI","群体复活")then return e end end;return d end;h["WR_PriestDisCipline_XLJX"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["FocusHP"]>j("0.5")and h["WRSet"]["JL_XLJX"]and h["WR_SpellUsable"]("心灵尖啸")and h["WR_StunUnit"](j("8"),j("2"))then if h["WR_ColorFrame_Show"]("CSU","心灵尖啸")then return e end end;return d end;h["WR_PriestDisCipline_ZYSM"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["IsPlayerSpell"](j("373481"))and h["IsSpellInRange"]("快速治疗","focus")and not h["UnitIsDead"]("focus")and(not h["IsPlayerSpell"](j("440674"))and h["WR_GetGCD"](j("373481"))<=h["GCD"]and h["UnitHealth"]("focus")/h["UnitHealthMax"]("focus")<j("0.35")or h["IsPlayerSpell"](j("440674"))and h["WR_GetGCD"](j("440678"))<=h["GCD"]and h["UnitHealth"]("focus")/h["UnitHealthMax"]("focus")<j("0.5"))then if h["WR_ColorFrame_Show"]("CF1","命F")then return e end end;return d end;h["WR_PriestDisCipline_KuXiu_Focus"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["CD_KX"]<=h["GCD"]and h["IsSpellInRange"]("快速治疗","focus")and not h["UnitIsDead"]("focus")and not h["WR_StopCast"](h["KuXiuCastTime"])then if h["WR_ColorFrame_Show"]("CF2","苦修F")then return e end end;return d end;h["WR_PriestDisCipline_KSZL"]=function(u)if h["GCD"]<h["ShiFaSuDu"]and h["IsSpellInRange"]("快速治疗","focus")and not h["UnitIsDead"]("focus")then if u=="抢救"and(h["BuffCount_SGYD"]>=j("1")or not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("快速治疗")))then if h["WR_ColorFrame_Show"]("CF5","抢救快疗")then return e end end;if u=="救赎"and h["BuffCount_SGYD"]>=j("1")then if h["WR_ColorFrame_Show"]("CF5","救赎快疗")then return e end end;if u=="脱战"and h["FocusHP"]<j("0.9")and(h["BuffCount_SGYD"]>=j("1")or not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("快速治疗")))then if h["WR_ColorFrame_Show"]("CF5","脱战快疗")then return e end end end;return d end;h["WR_PriestDisCipline_ZYSD"]=function(t)if h["GCD"]<h["ShiFaSuDu"]and h["CD_ZYSD"]<=h["GCD"]and h["IsSpellInRange"]("快速治疗",t)and not h["UnitIsDead"](t)and h["WR_GetUnitBuffInfo"](t,"真言术：盾")<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF7","真言术盾")then return e end end;return d end;h["WR_PriestDisCipline_QSGZ"]=function()if h["BuffTime_QSGZ"]>h["GCD"]then if h["WR_PriestDisCipline_ZYSD"]("focus")then return e end;if h["WR_PriestDisCipline_ZYSD"]("player")then return e end;for m=j("1"),j("4"),j("1")do if h["WR_PriestDisCipline_ZYSD"]("party"..m)then return e end end end;return d end;h["WR_PriestDisCipline_HF"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["IsSpellInRange"]("快速治疗","focus")and not h["UnitIsDead"]("focus")and h["FocusBuffTime_HF"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACSF9","恢复")then return e end end;return d end;h["WR_PriestDisCipline_ZYSY"]=function(u)if h["GCD"]<h["ShiFaSuDu"]and h["UnitCastingInfo"]("player")~="真言术：耀"and h["CD_ZYSY"]<=h["GCD"]and h["IsSpellInRange"]("快速治疗","focus")and not h["UnitIsDead"]("focus")and(not h["WR_StopCast"](h["WR_GetTrueCastTime"]("真言术：耀"))and not h["PlayerMove"])and(h["CastTime_ZYSY"]==f or h["GetTime"]()-h["CastTime_ZYSY"]>j("1"))then if u=="救赎"and(h["WR_RangeCountPR"](j("46"),j("0.95"))>=j("4")or h["WR_RangeCountPR"](j("46"),j("0.90"))>=j("3")or h["WR_RangeCountPR"](j("46"),j("0.85"))>=j("2"))and(h["InRaidOrParty"]=="party"and h["NotJSPartyCount"]>=j("2")or h["InRaidOrParty"]=="raid"and h["BuffCount_JS"]<j("5"))then if h["WR_ColorFrame_Show"]("CF4","救赎耀")then return e end end;if u=="预铺"and h["NotJSPartyCount"]>=j("1")and h["WR_PreemptiveHealing"]("真言术：耀")then if h["WR_ColorFrame_Show"]("CF4","预铺耀")then return e end end;if u=="盟约"and h["AYMYBuff"]>j("0")and(h["CD_XLZB"]>j("13")or h["UnitCastingInfo"]("player")=="心灵震爆")and(h["NotJSPartyCount"]>=j("1")or h["WR_GetUnitBuffInfo"]("focus","救赎")<=h["GCD"]+h["KuXiuCastTime"])then if h["WR_ColorFrame_Show"]("CF4","爆发耀")then return e end end;if u=="爆发"and h["NotJSPartyCount"]>=j("1")then if h["WR_ColorFrame_Show"]("CF4","爆发耀")then return e end end;if u=="2层"and h["WR_GetSpellCharges"]("真言术：耀")==j("2")and(h["WR_RangeCountPR"](j("46"),j("0.85"))>=j("4")or h["WR_RangeCountPR"](j("46"),j("0.80"))>=j("3")or h["WR_RangeCountPR"](j("46"),j("0.75"))>=j("2")or h["WR_PreemptiveHealing"]("真言术：耀"))then if h["WR_ColorFrame_Show"]("CF4","2层耀")then return e end end end;return d end;h["WR_PriestDisCipline_JiuShu"]=function()if h["WR_PriestDisCipline_ZYSY"]("盟约")then return e end;if h["WR_GetUnitBuffInfo"]("focus","救赎")<=h["GCD"]+h["KuXiuCastTime"]and h["UnitCastingInfo"]("player")~="真言术：耀"and h["WR_GetUnitHP"]("focus")<=j("0.85")then if h["WR_PriestDisCipline_ZYSM"]()then return e end;if h["WR_PriestDisCipline_ZYSY"]("救赎")then return e end;if h["WR_PriestDisCipline_ZYSD"]("focus")then return e end;if h["WR_PriestDisCipline_KSZL"]("救赎")then return e end;if h["WR_PriestDisCipline_HF"]()then return e end end;return d end;h["WR_PriestDisCipline_QiangJiu"]=function()if h["WR_PriestDisCipline_ZYSM"]()then return e end;if h["FocusHP"]<=h["QiangJiuYuZhi"]then if h["WR_PriestDisCipline_KuXiu_Focus"]()then return e end;if h["WR_PriestDisCipline_KSZL"]("抢救")then return e end end;return d end;h["WR_PriestDisCipline_KSZL_FHSG"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["WR_SpellUsable"]("快速治疗")and h["IsPlayerSpell"](j("193063"))and h["WR_GetUnitBuffInfo"]("player","防护圣光")==j("0")and h["UnitCastingInfo"]("player")~="快速治疗"and(h["ResistOutburstTime"]<=j("5")or h["MustDefenseTime"]<=j("5"))and(h["BuffTime_SGYD"]>j("0")or h["RaidOrParty"]~="raid"and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("快速治疗")))then if h["UnitIsUnit"]("focus","player")then if h["WR_ColorFrame_Show"]("CF5","防护快疗")then return e end end;if h["WR_FocusUnit"]("player","防护")then return e end end;return d end;h["WR_PriestDisCipline_Run"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["PlayerInCombat"]then local v,w,x,y=h["GetUnitSpeed"]("player")if w/j("7")<j("1.4")and h["BuffTime_TTZY"]<=h["GCD"]and h["BuffTime_SXHY"]==j("0")and h["WR_SpeedUp"]()then if h["IsPlayerSpell"](j("64129"))and h["WR_GetGCD"]("真言术：盾")<=h["GCD"]and h["WR_GetUnitBuffTime"]("player","真言术：盾")==j("0")then if h["UnitIsUnit"]("focus","player")then if h["WR_ColorFrame_Show"]("CF7","盾速")then return e end end;if h["WR_FocusUnit"]("player","盾速")then return e end end;if h["IsPlayerSpell"](j("121536"))and h["WR_GetGCD"]("天堂之羽")<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACSF8","天堂之羽")then return e end end end end;return d end;h["WR_PriestDisCipline_ZYSR"]=function()if h["GCD"]<h["ShiFaSuDu"]and h["WR_PartyNotBuff"]("真言术：韧")then if h["WR_ColorFrame_Show"]("ACSF10","韧")then return e end end;return d end;h["WR_PriestDisCipline_LastSpellTime"]=function()if h["PriestDisCiplineLastSpellIsOpen"]==e then return end;local z=h["CreateFrame"]("Frame")z["RegisterEvent"](z,"COMBAT_LOG_EVENT_UNFILTERED")z["SetScript"](z,"OnEvent",function()if h["select"](j("4"),h["CombatLogGetCurrentEventInfo"]())==h["UnitGUID"]("player")then if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local A=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if A=="真言术：耀"then h["CastTime_ZYSY"]=h["GetTime"]()elseif A=="终极苦修"then h["CastTime_ZJKX"]=h["GetTime"]()end end end end)h["PriestDisCiplineLastSpellIsOpen"]=e end end)()