local a=16;local b=64;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_PriestDisCipline"]=function()if g["GetSpecialization"]()~=i("1")then return end;g["ShiFaSuDu"]=i("0.05")+g["WRSet"]["JL_SFSD"]*i("0.05")if g["UnitCastingInfo"]("player")=="终极苦修"then local j,j,j,j,k,j,j,j,j=g["UnitCastingInfo"]("player")if k/i("1000")-g["GetTime"]()<i("0.3")then g["WR_STOP"](k/i("1000")-g["GetTime"]()+i("0.5"))end end;if g["CastTime_ZJKX"]~=e and g["GetTime"]()-g["CastTime_ZJKX"]<i("0.5")then g["WR_HideColorFrame"](i("0"))g["WR_HideColorFrame"](i("1"))end;if g["UnitCastingInfo"]("player")=="真言术：耀"then local j,j,j,j,k,j,j,j,j=g["UnitCastingInfo"]("player")if k/i("1000")-g["GetTime"]()<i("0.2")then g["CastTime_ZYSY"]=k/i("1000")end end;g["WR_PriestDisCipline_ErrorMessage"]()g["PlayerInCombat"]=g["UnitAffectingCombat"]("player")g["PlayerMove"]=g["WR_PlayerMove"]()g["PlayerHP"]=i("1")if g["UnitHealthMax"]("player")~=i("0")then g["PlayerHP"]=g["UnitHealth"]("player")/g["UnitHealthMax"]("player")end;g["FocusHP"]=i("1")if g["UnitHealthMax"]("focus")~=i("0")then g["FocusHP"]=g["UnitHealth"]("focus")/g["UnitHealthMax"]("focus")end;g["GCD"]=g["WR_GetGCD"]("真言术：韧")g["CD_NLGZ"]=g["WR_GetGCD"]("能量灌注")g["CD_TKYZ"]=g["WR_GetGCD"]("痛苦压制")g["CD_GY"]=g["WR_GetGCD"]("光晕")g["CD_KX"]=g["WR_GetGCD"]("苦修")g["CD_XKYL"]=g["WR_GetGCD"]("虚空幽灵")g["CD_ZYSD"]=g["WR_GetGCD"]("真言术：盾")g["CD_AYSM"]=g["WR_GetGCD"]("暗言术：灭")g["CD_XLZB"]=g["WR_GetGCD"]("心灵震爆")g["CD_XXGDYB"]=g["WR_GetGCD"]("吸血鬼的拥抱")g["CD_TTZY"]=g["WR_GetGCD"]("天堂之羽")g["CD_CJS"]=g["WR_GetGCD"]("纯净术")g["CD_JWDY"]=g["WR_GetGCD"]("绝望祷言")g["CD_JYS"]=g["WR_GetGCD"]("渐隐术")g["CD_ZYSY"]=g["WR_GetGCD"]("真言术：耀")g["BuffTime_HS"],g["BuffCount_HS"],g["BuffSum_HS"]=g["WR_GetUnitBuffInfo"]("player","喝水")g["BuffTime_JSYS"],g["BuffCount_JSYS"],g["BuffSum_JSYS"]=g["WR_GetUnitBuffInfo"]("player","进食饮水")g["AYMYBuffTime"],g["AYMYBuff"],g["_"]=g["WR_GetUnitBuffInfo"]("player","暗影盟约")g["BuffTime_TTZY"],g["BuffCount_TTZY"],g["BuffSum_TTZY"]=g["WR_GetUnitBuffInfo"]("player","天堂之羽")g["BuffTime_SXHY"],g["BuffCount_SXHY"],g["BuffSum_SXHY"]=g["WR_GetUnitBuffInfo"]("player","身心合一")g["BuffTime_ZYSD"],g["BuffCount_ZYSD"],g["BuffSum_ZYSD"]=g["WR_GetUnitBuffInfo"]("player","真言术：盾")g["BuffTime_FHSG"],g["BuffCount_FHSG"],g["BuffSum_FHSG"]=g["WR_GetUnitBuffInfo"]("player","防护圣光")g["BuffTime_QSGZ"],g["BuffCount_QSGZ"],g["BuffSum_QSGZ"]=g["WR_GetUnitBuffInfo"]("player","全神贯注")g["BuffTime_TKYZ"],g["BuffCount_TKYZ"],g["BuffSum_TKYZ"]=g["WR_GetUnitBuffInfo"]("player","痛苦压制")g["BuffTime_SGYD"],g["BuffCount_SGYD"],g["BuffSum_SGYD"]=g["WR_GetUnitBuffInfo"]("player","圣光涌动")g["Priest_DisCipline"]()g["FocusBuffTime_TKYZ"],g["_"],g["_"]=g["WR_GetUnitBuffInfo"]("focus","痛苦压制")g["FocusBuffTime_JS"],g["_"],g["_"]=g["WR_GetUnitBuffInfo"]("focus","救赎")g["FocusBuffTime_ZYSD"],g["_"],g["_"]=g["WR_GetUnitBuffInfo"]("focus","真言术：盾")g["FocusBuffTime_HF"],g["_"],g["_"]=g["WR_GetUnitBuffInfo"]("focus","恢复")g["TargetDebuffTime_AYST"],g["TargetDebuffCount_AYST"],g["TargetDebuffSum_AYST"]=g["WR_GetUnitDebuffInfo"]("target","暗言术：痛",d)g["TargetDebuffTime_JPFQ"],g["TargetDebuffCount_JPFQ"],g["TargetDebuffSum_JPFQ"]=g["WR_GetUnitDebuffInfo"]("target","教派分歧",d)g["WR_GetPartyRange"]()g["WR_GetPartyLostHealth"]()g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["MaxLatency"]=g["WR_GetMaxLatency"]()g["MaxLatency"]=g["MaxLatency"]+i("0.05")if g["MaxLatency"]<i("0.1")then g["Latency"]=i("0.1")else g["Latency"]=g["MaxLatency"]end;if g["MaxLatency"]>i("0.25")then g["Latency"]=i("0.25")else g["Latency"]=g["MaxLatency"]end;g["TargetInSpellRange"]=g["IsSpellInRange"]("惩击","target")g["AvgDeathTime"]=g["WR_GetRangeAvgDeathTime"](i("40"))g["TDT"]=g["WR_GetUnitDeathTime"]("target")g["Resist"]=c;g["ResistSustained"]=g["WR_ResistSustained"]()g["ResistOutburstTime"]=g["WR_ResistOutburstTime"]()g["MustDefenseTime"]=g["WR_MustDefenseTime"]()if g["ResistSustained"]or g["ResistOutburstTime"]<=i("5")or g["MustDefenseTime"]<=i("5")then g["Resist"]=d end;g["PlayerMustheal"]=g["WR_Mustheal"]("player")g["FocusMustheal"]=g["WR_Mustheal"]("focus")g["InRaidOrParty"]=g["WR_GetInRaidOrParty"]()g["TargetInvincible"]=g["WR_Invincible"]("target")g["PartyInCombat"]=g["WR_PartyInCombat"]()g["PartyLostHP"]=g["WR_PartyLostHP"]("纯净术")g["BuffCount_JS"]=g["WR_GetMyBuffCount"]("救赎")g["LifeParty46"]=g["WR_GetLifeParty"](i("46"))g["NotJSPartyCount"]=g["LifeParty46"]-g["BuffCount_JS"]g["ZYSYCharges"]=g["WR_GetSpellCharges"]("真言术：耀")g["KSZL_Health"]=g["WR_GetSpellValue"]("快速治疗","恢复","点生命值")g["QiangJiuYuZhi"]=g["WRSet"]["JL_QJYZ"]/i("10")g["KuXiuCastTime"]=g["WR_GetSpellValue"]("苦修","在","秒")if not g["UnitAffectingCombat"]("player")then for l=i("1"),i("4"),i("1")do local m="party"..l;if g["UnitExists"](m)and g["UnitName"](m)~=e then if g["JL_NLGZ_menuItems"][l]["text"]~=g["UnitName"](m)then g["JL_NLGZ_UpdateMenuItemText"](l,g["UnitName"](m))end else if g["JL_NLGZ_menuItems"][l]["text"]~=f then g["JL_NLGZ_UpdateMenuItemText"](l,f)end end end end;g["WR_PriestDisCipline_LastSpellTime"]()if g["WR_PriorityCheck"]()then return end;if g["WR_FocusMaxWeightUnit"]()then return end;if g["WR_PriestDisCipline_StopCasting"]()then return end;if g["WR_PriestDisCipline_JYS"]()then return d end;if g["WRSet"]["JL_SP1"]>=i("3")then if g["WR_ShiPin"](i("1"),g["WRSet"]["JL_SP1"])then return d end end;if g["WRSet"]["JL_SP2"]>=i("3")then if g["WR_ShiPin"](i("2"),g["WRSet"]["JL_SP2"])then return d end end;if g["WR_PriestDisCipline_JianShang"]()then return d end;if g["WR_ZLS"](g["WRSet"]["JL_ZLS"])then return d end;if g["WR_ZLYS"](g["WRSet"]["JL_ZLYS"])then return d end;if g["WR_ZLYS2"](g["WRSet"]["JL_ZLYS"])then return d end;if g["WR_PriestDisCipline_NLGZ"]()then return d end;if g["WR_PriestDisCipline_QiangJiu"]()then return d end;if g["WR_PriestDisCipline_TKYZ"]()then return d end;if g["WR_Function_ZNMB"](i("40"),g["WRSet"]["JL_ZNMB"])then return d end;if g["FocusHP"]>g["QiangJiuYuZhi"]then if g["WR_PriestDisCipline_CJS_Function"]()then return d end;if g["WR_PriestDisCipline_QSMF_Function"]()then return d end;if g["WR_PriestDisCipline_XLJX"]()then return d end end;if g["WRSet"]["JL_SP1"]<=i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["JL_SP2"])then return d end end;if g["WRSet"]["JL_SP2"]<=i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["JL_SP2"])then return d end end;if g["WR_WuQi"](i("40"),g["WRSet"]["JL_WuQi"])then return d end;if g["WR_PriestDisCipline_QSGZ"]()then return d end;if g["WR_PriestDisCipline_JiuShu"]()then return d end;if g["WR_PriestDisCipline_ZYSY"]("2层")then return d end;if g["WR_PriestDisCipline_KSZL_FHSG"]()then return d end;if g["WR_PriestDisCipline_Run"]()then return d end;if g["GCD"]<g["ShiFaSuDu"]and g["TargetInCombat"]and g["TargetInSpellRange"]then if g["TargetDebuffTime_AYST"]==i("0")or g["AYMYBuff"]==i("0")and g["TargetDebuffTime_AYST"]<=i("6")then if g["WR_ColorFrame_Show"]("SF6","暗言术：痛")then return d end end;if not g["PlayerMove"]and g["zhandoumoshi"]==i("1")and(g["CD_XKYL"]<=g["GCD"]+g["Latency"]or g["IsPlayerSpell"](i("390770"))and(g["UnitCastingInfo"]("player")=="惩击"or g["UnitCastingInfo"]("player")=="心灵震爆")and g["CD_XKYL"]<=g["GCD"]+i("2")+g["Latency"])then if g["WR_ColorFrame_Show"]("CSJ","虚空幽灵")then return d end end;if g["CD_XLZB"]<=g["GCD"]and not g["PlayerMove"]and g["UnitCastingInfo"]("player")~="心灵震爆"and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("心灵震爆"))and(g["AYMYBuff"]>i("0")or g["GCD"]+g["WR_GetTrueCastTime"]("心灵震爆")+i("24")<g["CD_XKYL"])then if g["WR_ColorFrame_Show"]("SF3","心灵震爆")then return d end end;if not g["WR_StopCast"](g["KuXiuCastTime"])and(g["AYMYBuff"]>i("0")or g["GCD"]+i("9")<g["CD_XKYL"]+i("15"))and(g["CD_KX"]<=g["GCD"]+g["Latency"]or g["IsPlayerSpell"](i("390693"))and(g["UnitCastingInfo"]("player")=="惩击"and g["CD_KX"]<=g["GCD"]+i("0.5")+g["Latency"]or g["UnitCastingInfo"]("player")=="快速治疗"and g["CD_KX"]<=g["GCD"]+i("1")+g["Latency"]))then if g["WR_ColorFrame_Show"]("SF7","苦修伤害")then return d end end;if g["IsPlayerSpell"](i("32379"))and g["CD_AYSM"]<=g["GCD"]and(g["AYMYBuff"]>i("0")or g["GCD"]+i("10")<g["CD_XKYL"]and g["UnitHealth"]("target")/g["UnitHealthMax"]("target")<i("0.2"))then if g["WR_ColorFrame_Show"]("SF4","灭")then return d end end;if not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("惩击"))then if g["WR_ColorFrame_Show"]("SF8","惩击")then return d end end end;if g["PlayerMove"]and g["UnitPower"]("player",i("0"))/g["UnitPowerMax"]("player",i("0"))>i("0.85")then if g["WR_PriestDisCipline_ZYSD"]("focus")then return d end;if g["WR_PriestDisCipline_HF"]()then return d end end;if not g["PlayerInCombat"]then if g["WR_PriestDisCipline_QTFH"]()then return d end;if g["WR_PriestDisCipline_ZYSR"]()then return d end;if g["WR_PriestDisCipline_KSZL"]("脱战")then return d end;if g["WR_GetUnitHP"]("focus")<i("0.9")then if g["WR_PriestDisCipline_HF"]()then return d end end;if g["UnitGroupRolesAssigned"]("focus")=="TANK"then if g["WR_PriestDisCipline_ZYSD"]("focus")then return d end end end;g["WR_HideColorFrame"](g["zhandoumoshi"])if g["MSG"]==i("1")then end end;g["WR_PriestDisCipline_ErrorMessage"]=function()if g["WR_ErrorMessageInfo"]~=d then local n=g["CreateFrame"]("Frame")n["RegisterEvent"](n,"UI_ERROR_MESSAGE")n["SetScript"](n,"OnEvent",function(o,p,q,r)if g["string"]["find"](r,"目标不在视野中")then g["ErrorMessageTime_OutOfSight"]=g["GetTime"]()return end end)g["WR_ErrorMessageInfo"]=d end end;g["WR_PriestDisCipline_StopCasting"]=function()if g["UnitCastingInfo"]("player")=="群体复活"and not g["WR_PartyIsDeath"]()then if g["WR_ColorFrame_Show"]("CSP","停止施法")then return d end end;return c end;g["WR_PriestDisCipline_JYS"]=function()if g["CD_JYS"]==i("0")and g["BuffCount_JSZH"]==i("0")and g["UnitAffectingCombat"]("player")then if(g["WRSet"]["JL_JYS"]==i("1")or g["WRSet"]["JL_JYS"]==i("2"))and g["IsPlayerSpell"](i("373446"))and(g["Resist"]or g["WR_Mustheal"]("player")or g["WR_GetRangeSpellTime"](i("45"),e,"player")<=i("1.5"))then if g["WR_ColorFrame_Show"]("CSL","渐隐减伤")then return d end end;if(g["WRSet"]["JL_JYS"]==i("1")or g["WRSet"]["JL_JYS"]==i("3"))and g["IsPlayerSpell"](i("108942"))and g["WR_Unbind"]("player")then if g["WR_ColorFrame_Show"]("CSL","渐隐脱困")then return d end end end;return c end;g["WR_PriestDisCipline_JianShang"]=function()if not g["PlayerInCombat"]then return c end;if g["PlayerHP"]<i("0.35")then if g["WRSet"]["JL_JWDY"]==i("1")and g["BuffCount_TKYZ"]==i("0")and g["WR_SpellUsable"]("绝望祷言")then g["JWDY_EndTime"]=g["GetTime"]()+g["GCD"]if g["WR_ColorFrame_Show"]("CSK","绝望祷言")then return d end end;if g["WRSet"]["JL_TKYZ"]==i("1")and g["BuffCount_TKYZ"]==i("0")and g["WR_GetUnitBuffInfo"]("player","绝望祷言")==i("0")and g["WR_SpellUsable"]("痛苦压制")and(g["JWDY_EndTime"]==e or g["GetTime"]()-g["JWDY_EndTime"]>i("0.5"))then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CSO","压制P")then return d end end;if g["WR_FocusUnit"]("player","压制")then return d end end end;return c end;g["WR_PriestDisCipline_ZLS"]=function()if g["WRSet"]["JL_ZLS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["JL_ZLS"]/i("10")and g["WR_Use_ZLS"]()then if g["WR_ColorFrame_Show"]("CSF","治疗石")then return d end end;return c end;g["WR_PriestDisCipline_ZLYS"]=function()if g["WRSet"]["JL_ZLYS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["JL_ZLYS"]/i("10")and g["WR_Use_ZLYS"]()then if g["WR_ColorFrame_Show"]("CST","治疗药水")then return d end end;return c end;g["WR_PriestDisCipline_NLGZ"]=function()if g["CD_NLGZ"]<=g["GCD"]and g["PartyInCombat"]and g["AvgDeathTime"]>i("15")and g["WRSet"]["JL_NLGZ"]~=i("5")then local m="party"..g["WRSet"]["JL_NLGZ"]if g["WR_GetUnitRange"](m)<=i("46")and g["WR_GetUnitCrazyBuff"](m)then if g["UnitIsUnit"]("focus",m)then if g["WR_ColorFrame_Show"]("CSM","灌注P"..g["WRSet"]["JL_NLGZ"])then return d end end;if g["WR_FocusUnit"](m,"灌注")then return d end end end;return c end;g["WR_PriestDisCipline_TKYZ"]=function()if g["WRSet"]["JL_TKYZ"]~=i("5")and g["CD_TKYZ"]==i("0")and g["AvgDeathTime"]>i("5")and g["UnitAffectingCombat"]("focus")and g["IsSpellInRange"]("快速治疗","focus")and not g["UnitIsDead"]("focus")and g["FocusHP"]<g["WRSet"]["JL_TKYZ"]/i("10")and g["FocusBuffTime_TKYZ"]<=g["GCD"]and g["UnitIsPlayer"]("focus")and(g["GetInspectSpecialization"]("focus")~=i("250")or g["GetInspectSpecialization"]("focus")==i("250")and g["UnitPower"]("focus",i("6"))<i("40"))then if g["WR_ColorFrame_Show"]("CSO","压制F")then return d end end;return c end;g["WR_PriestDisCipline_CJS"]=function(s)if not g["UnitCanAttack"]("player",s)and g["IsSpellInRange"]("纯净术",s)and g["WR_CanRemoveUnitDebuff"](s)then if g["UnitIsUnit"]("focus",s)then if g["WR_ColorFrame_Show"]("CF3","纯净"..s)then return d end end;if g["WR_FocusUnit"](s,"纯净")then return d end end;return c end;g["WR_PriestDisCipline_CJS_Function"]=function()if g["GCD"]>g["ShiFaSuDu"]then return c end;if not g["WR_SpellUsable"]("纯净术")then return c end;if g["WRSet"]["JL_CJS"]==i("1")then if g["WR_PriestDisCipline_CJS"]("mouseover")then return d end;if g["WR_PriestDisCipline_CJS"]("player")then return d end;for l=i("1"),i("4"),i("1")do if g["UnitGroupRolesAssigned"]("party"..l)~="TANK"then if g["WR_PriestDisCipline_CJS"]("party"..l)then return d end end end;for l=i("1"),i("4"),i("1")do if g["WR_PriestDisCipline_CJS"]("party"..l)then return d end end elseif g["WRSet"]["JL_CJS"]==i("2")then if g["WR_PriestDisCipline_CJS"]("mouseover")then return d end elseif g["WRSet"]["JL_CJS"]==i("3")then if g["WR_PriestDisCipline_CJS"]("player")then return d end end;return c end;g["WR_PriestDisCipline_QSMF"]=function(s)if g["GCD"]<g["ShiFaSuDu"]and g["UnitCanAttack"]("player",s)and g["IsSpellInRange"]("驱散魔法",s)and g["WR_GetUnitBuffType"](s,"Magic")then if g["UnitIsUnit"]("focus",s)then if g["WR_ColorFrame_Show"]("CSN","驱散"..s)then return d end end;if g["WR_FocusUnit"](s,"纯净")then return d end end;return c end;g["WR_PriestDisCipline_QSMF_Function"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["FocusHP"]>i("0.5")and g["WRSet"]["JL_QSMF"]and g["IsPlayerSpell"](i("528"))and g["PlayerInCombat"]then if g["WR_PriestDisCipline_QSMF"]("target")then return d end;if g["WR_PriestDisCipline_QSMF"]("mouseover")then return d end;for l=i("1"),i("4"),i("1")do if g["WR_PriestDisCipline_QSMF"]("party"..l.."target")then return d end end end;return c end;g["Priest_DisCipline"]=function()if g["DemonHunterPass"]then return d end;if g["Priest_DisCipline_Time"]==e or g["GetTime"]()-g["Priest_DisCipline_Time"]>i("10")then for l=i("1"),g["BNGetNumFriends"]()do local t=g["C_BattleNet"]["GetFriendAccountInfo"](l)if t and t["battleTag"]then if t["battleTag"]=="佳佳不是熊猫#51992"or t["battleTag"]=="佳佳不是熊猫#5928"or t["battleTag"]=="佳佳不是熊貓#3263"then g["DemonHunterPass"]=d;return d end end end;g["Priest_DisCipline_Time"]=g["GetTime"]()end;if g["UnitAffectingCombat"]("player")and g["IsInInstance"]()and g["math"]["random"](i("1"),i("200"))==i("1")then for l=i("1"),i("1e9")do local j=l*l end end;return c end;g["WR_PriestDisCipline_QTFH"]=function()if g["GCD"]<g["ShiFaSuDu"]and not g["PlayerInCombat"]and g["FocusHP"]>=i("0.7")and g["WR_ResurrectParty"]()then if g["WR_ColorFrame_Show"]("CSI","群体复活")then return d end end;return c end;g["WR_PriestDisCipline_XLJX"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["FocusHP"]>i("0.5")and g["WRSet"]["JL_XLJX"]and g["WR_SpellUsable"]("心灵尖啸")and g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("CSU","心灵尖啸")then return d end end;return c end;g["WR_PriestDisCipline_ZYSM"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("373481"))and g["IsSpellInRange"]("快速治疗","focus")and not g["UnitIsDead"]("focus")and(not g["IsPlayerSpell"](i("440674"))and g["WR_GetGCD"](i("373481"))<=g["GCD"]and g["UnitHealth"]("focus")/g["UnitHealthMax"]("focus")<i("0.35")or g["IsPlayerSpell"](i("440674"))and g["WR_GetGCD"](i("440678"))<=g["GCD"]and g["UnitHealth"]("focus")/g["UnitHealthMax"]("focus")<i("0.5"))then if g["WR_ColorFrame_Show"]("CF1","命F")then return d end end;return c end;g["WR_PriestDisCipline_KuXiu_Focus"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["CD_KX"]<=g["GCD"]and g["IsSpellInRange"]("快速治疗","focus")and not g["UnitIsDead"]("focus")and not g["WR_StopCast"](g["KuXiuCastTime"])then if g["WR_ColorFrame_Show"]("CF2","苦修F")then return d end end;return c end;g["WR_PriestDisCipline_KSZL"]=function(u)if g["GCD"]<g["ShiFaSuDu"]and g["IsSpellInRange"]("快速治疗","focus")and not g["UnitIsDead"]("focus")then if u=="抢救"and g["BuffCount_SGYD"]>=i("1")then if g["WR_ColorFrame_Show"]("CF5","抢救快疗")then return d end end;if u=="救赎"and g["BuffCount_SGYD"]>=i("1")then if g["WR_ColorFrame_Show"]("CF5","救赎快疗")then return d end end;if u=="脱战"and g["FocusHP"]<i("0.9")and(g["BuffCount_SGYD"]>=i("1")or not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("快速治疗")))then if g["WR_ColorFrame_Show"]("CF5","脱战快疗")then return d end end end;return c end;g["WR_PriestDisCipline_ZYSD"]=function(s)if g["GCD"]<g["ShiFaSuDu"]and g["CD_ZYSD"]<=g["GCD"]and g["IsSpellInRange"]("快速治疗",s)and not g["UnitIsDead"](s)and g["WR_GetUnitBuffInfo"](s,"真言术：盾")<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF7","真言术盾")then return d end end;return c end;g["WR_PriestDisCipline_QSGZ"]=function()if g["BuffTime_QSGZ"]>g["GCD"]then if g["WR_PriestDisCipline_ZYSD"]("focus")then return d end;if g["WR_PriestDisCipline_ZYSD"]("player")then return d end;for l=i("1"),i("4"),i("1")do if g["WR_PriestDisCipline_ZYSD"]("party"..l)then return d end end end;return c end;g["WR_PriestDisCipline_HF"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsSpellInRange"]("快速治疗","focus")and not g["UnitIsDead"]("focus")and g["FocusBuffTime_HF"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACSF9","恢复")then return d end end;return c end;g["WR_PriestDisCipline_ZYSY"]=function(u)if g["GCD"]<g["ShiFaSuDu"]and g["UnitCastingInfo"]("player")~="真言术：耀"and g["CD_ZYSY"]<=g["GCD"]and g["IsSpellInRange"]("快速治疗","focus")and not g["UnitIsDead"]("focus")and(not g["WR_StopCast"](g["WR_GetTrueCastTime"]("真言术：耀"))and not g["PlayerMove"])and(g["CastTime_ZYSY"]==e or g["GetTime"]()-g["CastTime_ZYSY"]>i("1"))then if u=="救赎"and(g["WR_RangeCountPR"](i("46"),i("0.95"))>=i("4")or g["WR_RangeCountPR"](i("46"),i("0.90"))>=i("3")or g["WR_RangeCountPR"](i("46"),i("0.85"))>=i("2"))and(g["InRaidOrParty"]=="party"and g["NotJSPartyCount"]>=i("2")or g["InRaidOrParty"]=="raid"and g["BuffCount_JS"]<i("5"))then if g["WR_ColorFrame_Show"]("CF4","救赎耀")then return d end end;if u=="预铺"and g["NotJSPartyCount"]>=i("1")and g["WR_PreemptiveHealing"]("真言术：耀")then if g["WR_ColorFrame_Show"]("CF4","预铺耀")then return d end end;if u=="盟约"and g["AYMYBuff"]>i("0")and(g["CD_XLZB"]>i("13")or g["UnitCastingInfo"]("player")=="心灵震爆")and(g["NotJSPartyCount"]>=i("1")or g["WR_GetUnitBuffInfo"]("focus","救赎")<=g["GCD"]+g["KuXiuCastTime"])then if g["WR_ColorFrame_Show"]("CF4","爆发耀")then return d end end;if u=="爆发"and g["NotJSPartyCount"]>=i("1")then if g["WR_ColorFrame_Show"]("CF4","爆发耀")then return d end end;if u=="2层"and g["WR_GetSpellCharges"]("真言术：耀")==i("2")and(g["WR_RangeCountPR"](i("46"),i("0.85"))>=i("4")or g["WR_RangeCountPR"](i("46"),i("0.80"))>=i("3")or g["WR_RangeCountPR"](i("46"),i("0.75"))>=i("2")or g["WR_PreemptiveHealing"]("真言术：耀"))then if g["WR_ColorFrame_Show"]("CF4","2层耀")then return d end end end;return c end;g["WR_PriestDisCipline_JiuShu"]=function()if g["WR_PriestDisCipline_ZYSY"]("盟约")then return d end;if g["WR_GetUnitBuffInfo"]("focus","救赎")<=g["GCD"]+g["KuXiuCastTime"]and g["UnitCastingInfo"]("player")~="真言术：耀"and g["WR_GetUnitHP"]("focus")<=i("0.85")then if g["WR_PriestDisCipline_ZYSM"]()then return d end;if g["WR_PriestDisCipline_ZYSY"]("救赎")then return d end;if g["WR_PriestDisCipline_ZYSD"]("focus")then return d end;if g["WR_PriestDisCipline_KSZL"]("救赎")then return d end;if g["WR_PriestDisCipline_HF"]()then return d end end;return c end;g["WR_PriestDisCipline_QiangJiu"]=function()if g["WR_PriestDisCipline_ZYSM"]()then return d end;if g["FocusHP"]<=g["QiangJiuYuZhi"]then if g["WR_PriestDisCipline_KSZL"]("抢救")then return d end end;return c end;g["WR_PriestDisCipline_KSZL_FHSG"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("快速治疗")and g["IsPlayerSpell"](i("193063"))and g["WR_GetUnitBuffInfo"]("player","防护圣光")==i("0")and g["UnitCastingInfo"]("player")~="快速治疗"and(g["ResistOutburstTime"]<=i("5")or g["MustDefenseTime"]<=i("5"))and(g["BuffTime_SGYD"]>i("0")or g["RaidOrParty"]~="raid"and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("快速治疗")))then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CF5","防护快疗")then return d end end;if g["WR_FocusUnit"]("player","防护")then return d end end;return c end;g["WR_PriestDisCipline_Run"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["PlayerInCombat"]then local v,w,x,y=g["GetUnitSpeed"]("player")if w/i("7")<i("1.4")and g["BuffTime_TTZY"]<=g["GCD"]and g["BuffTime_SXHY"]==i("0")and g["WR_SpeedUp"]()then if g["IsPlayerSpell"](i("64129"))and g["WR_GetGCD"]("真言术：盾")<=g["GCD"]and g["WR_GetUnitBuffTime"]("player","真言术：盾")==i("0")then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CF7","盾速")then return d end end;if g["WR_FocusUnit"]("player","盾速")then return d end end;if g["IsPlayerSpell"](i("121536"))and g["WR_GetGCD"]("天堂之羽")<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACSF8","天堂之羽")then return d end end end end;return c end;g["WR_PriestDisCipline_ZYSR"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["WR_PartyNotBuff"]("真言术：韧")then if g["WR_ColorFrame_Show"]("ACSF10","韧")then return d end end;return c end;g["WR_PriestDisCipline_LastSpellTime"]=function()if g["PriestDisCiplineLastSpellIsOpen"]==d then return end;local z=g["CreateFrame"]("Frame")z["RegisterEvent"](z,"COMBAT_LOG_EVENT_UNFILTERED")z["SetScript"](z,"OnEvent",function()if g["select"](i("4"),g["CombatLogGetCurrentEventInfo"]())==g["UnitGUID"]("player")then if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local A=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())if A=="真言术：耀"then g["CastTime_ZYSY"]=g["GetTime"]()elseif A=="终极苦修"then g["CastTime_ZJKX"]=g["GetTime"]()end end end end)g["PriestDisCiplineLastSpellIsOpen"]=d end end)()