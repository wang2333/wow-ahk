local a=55;local b=17;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_PriestHoly"]=function()if g["GetSpecialization"]()~=i("2")then return end;g["ShiFaSuDu"]=i("0.05")+g["WRSet"]["SS_SFSD"]*i("0.05")g["Resist"]=c;g["ResistSustained"]=g["WR_ResistSustained"]()g["ResistOutburstTime"]=g["WR_ResistOutburstTime"]()g["MustDefenseTime"]=g["WR_MustDefenseTime"]()if g["ResistSustained"]or g["ResistOutburstTime"]<=i("5")or g["MustDefenseTime"]<=i("5")then g["Resist"]=d end;g["WR_GetPartyLostHealth"]()g["GCD"]=g["WR_GetGCD"]("真言术：韧")g["CD_NLGZ"]=g["WR_GetGCD"]("能量灌注")g["CD_SHZH"]=g["WR_GetGCD"]("守护之魂")g["CD_JWDY"]=g["WR_GetGCD"]("绝望祷言")g["CD_JYS"]=g["WR_GetGCD"]("渐隐术")g["CD_SSZH"]=g["WR_GetGCD"]("神圣之火")g["MaxLatency"]=g["WR_GetMaxLatency"]()g["MaxLatency"]=g["MaxLatency"]+i("0.05")if g["MaxLatency"]<i("0.1")then g["Latency"]=i("0.1")else g["Latency"]=g["MaxLatency"]end;if g["MaxLatency"]>i("0.25")then g["Latency"]=i("0.25")else g["Latency"]=g["MaxLatency"]end;g["PlayerHP"]=i("1")if g["UnitHealthMax"]("player")~=i("0")then g["PlayerHP"]=g["UnitHealth"]("player")/g["UnitHealthMax"]("player")end;g["FocusHP"]=i("1")if g["UnitHealthMax"]("focus")~=i("0")then g["FocusHP"]=g["UnitHealth"]("focus")/g["UnitHealthMax"]("focus")end;g["TargetHP"]=i("1")if g["UnitHealthMax"]("target")~=i("0")then g["TargetHP"]=g["UnitHealth"]("target")/g["UnitHealthMax"]("target")end;g["Priest_Holy"]()g["FocusLostHealth"]=g["WR_GetUnitLostHealth"]("focus")if g["SYSJ_Health"]==e then g["SYSJ_Health"]=g["WR_GetSpellValue"]("圣言术：静","恢复","点生命值")g["ZLS_Health"]=g["WR_GetSpellValue"]("治疗术","恢复","点生命值")g["KSZL_Health"]=g["WR_GetSpellValue"]("快速治疗","恢复","点生命值")g["SYSL_Health"]=g["WR_GetSpellValue"]("圣言术：灵","恢复","点生命值")g["SSXX_Health"]=g["WR_GetSpellValue"]("神圣新星","恢复","点生命值")end;if g["WR_GetSpellValue"]("圣言术：静","恢复","点生命值")~=i("0")then g["SYSJ_Health"]=g["WR_GetSpellValue"]("圣言术：静","恢复","点生命值")end;if g["WR_GetSpellValue"]("治疗术","恢复","点生命值")~=i("0")then g["ZLS_Health"]=g["WR_GetSpellValue"]("治疗术","恢复","点生命值")end;if g["WR_GetSpellValue"]("快速治疗","恢复","点生命值")~=i("0")then g["KSZL_Health"]=g["WR_GetSpellValue"]("快速治疗","恢复","点生命值")end;if g["WR_GetSpellValue"]("圣言术：灵","恢复","点生命值")~=i("0")then g["SYSL_Health"]=g["WR_GetSpellValue"]("圣言术：灵","恢复","点生命值")end;if g["WR_GetSpellValue"]("神圣新星","恢复","点生命值")~=i("0")then g["SSXX_Health"]=g["WR_GetSpellValue"]("神圣新星","恢复","点生命值")end;g["PartyInCombat"]=g["WR_PartyInCombat"]()g["PlayerInCombat"]=g["UnitAffectingCombat"]("player")g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["WR_GetLastSpellName"]()if g["WR_GetUnitRange"]("target")<=i("46")and g["UnitCanAttack"]("player","target")then g["TargetInSpellRange"]=d else g["TargetInSpellRange"]=c end;g["RaidOrParty"]=g["WR_GetInRaidOrParty"]()g["PlayerMove"]=g["WR_PlayerMove"]()g["TargetRange"]=g["WR_GetUnitRange"]("target")g["FocusMustheal"]=g["WR_Mustheal"]("focus")if g["IsSpellInRange"]("快速治疗","focus")and g["UnitIsFriend"]("player","focus")then g["FocusInSpellRange"]=d else g["FocusInSpellRange"]=c end;g["BuffTime_JSZH"],g["BuffCount_JSZH"],g["BuffSum_JSZH"]=g["WR_GetUnitBuffInfo"]("player","救赎之魂")g["BuffTime_GMSY"],g["BuffCount_GMSY"],g["BuffSum_GMSY"]=g["WR_GetUnitBuffInfo"]("player","共鸣圣言")g["BuffTime_ZGZ"],g["BuffCount_ZGZ"],g["BuffSum_ZGZ"]=g["WR_GetUnitBuffInfo"]("player","织光者")g["BuffTime_SGYD"],g["BuffCount_SGYD"],g["BuffSum_SGYD"]=g["WR_GetUnitBuffInfo"]("player","圣光涌动")g["BuffTime_ZYSD"],g["BuffCount_ZYSD"],g["BuffSum_ZYSD"]=g["WR_GetUnitBuffInfo"]("player","真言术：盾")g["BuffTime_HS"],g["BuffCount_HS"],g["BuffSum_HS"]=g["WR_GetUnitBuffInfo"]("player","喝水")g["BuffTime_YY"],g["BuffCount_YY"],g["BuffSum_YY"]=g["WR_GetUnitBuffInfo"]("player","饮用")g["BuffTime_JSYS"],g["BuffCount_JSYS"],g["BuffSum_JSYS"]=g["WR_GetUnitBuffInfo"]("player","进食饮水")g["BuffTime_SHZH"],g["BuffCount_SHZH"],g["BuffSum_SHZH"]=g["WR_GetUnitBuffInfo"]("player","守护之魂")g["BuffTime_DYZH"],g["BuffCount_DYZH"],g["BuffSum_DYZH"]=g["WR_GetUnitBuffInfo"]("player","祷言之环")g["BuffTime_CQZY"],g["BuffCount_CQZY"],g["BuffSum_CQZY"]=g["WR_GetUnitBuffInfo"]("player","苍穹之焰")g["BuffTime_SSHS"],g["BuffCount_SSHS"],g["BuffSum_SSHS"]=g["WR_GetUnitBuffInfo"]("player","神圣化身")g["BuffTime_TTZY"],g["BuffCount_TTZY"],g["BuffSum_TTZY"]=g["WR_GetUnitBuffInfo"]("player","天堂之羽")g["BuffTime_SXHY"],g["BuffCount_SXHY"],g["BuffSum_SXHY"]=g["WR_GetUnitBuffInfo"]("player","身心合一")g["BuffTime_TSBL"],g["BuffCount_TSBL"],g["BuffSum_TSBL"]=g["WR_GetUnitBuffInfo"]("player","天使壁垒")g["BuffTime_JWDY"],g["BuffCount_JWDY"],g["BuffSum_JWDY"]=g["WR_GetUnitBuffInfo"]("player","绝望祷言")g["BuffTime_ZLHS"],g["BuffCount_ZLHS"],g["BuffSum_ZLHS"]=g["WR_GetUnitBuffInfo"]("player","治疗和声")g["BuffTime_KXQ"],g["BuffCount_KXQ"],g["BuffSum_KXQ"]=g["WR_GetUnitBuffInfo"]("player","狂想曲")g["BuffTime_SJQJ"],g["BuffCount_SJQJ"],g["BuffSum_SJQJ"]=g["WR_GetUnitBuffInfo"]("player","圣洁虔敬")g["BuffTime_GMZQ"],g["BuffCount_GMZQ"],g["BuffSum_GMZQ"]=g["WR_GetUnitBuffInfo"]("player","光明之泉")g["DebuffTime_JT"]=g["WR_GetUnitDebuffTime"]("player","践踏")g["FocusBuffTime_YHDY"],g["FocusBuffCount_YHDY"],g["FocusBuffSum_YHDY"]=g["WR_GetUnitBuffInfo"]("focus","愈合祷言",d)g["FocusBuffTime_ZYSD"],g["FocusBuffCount_ZYSD"],g["FocusBuffSum_ZYSD"]=g["WR_GetUnitBuffInfo"]("focus","真言术：盾")g["TargetInvincible"]=g["WR_Invincible"]("target")g["PartyLostHP"]=g["WR_PartyLostHP"]("纯净术")g["AvgDeathTime"]=g["WR_GetRangeAvgDeathTime"](i("40"))g["HUCountRange10"]=g["WR_GetRangeHarmUnitCount"](i("10"))g["HUCountRange40"]=g["WR_GetRangeHarmUnitCount"](i("40"))if g["UnitIsDead"]("player")==c then if g["RaidOrParty"]=="raid"then g["SSXXCount"]=g["WR_RangeCountPR"](i("12"),i("0.94"))g["GYCount"]=g["WR_RangeCountPR"](i("46"),i("0.90"))g["ZLDYCount"]=g["WR_RangeCountPR"](i("46"),i("0.90"))else g["SSXXCount"]=g["WR_RangeCountPR"](i("12"),i("0.94"))g["GYCount"]=g["WR_RangeCountPR"](i("46"),i("0.90"))g["ZLDYCount"]=g["WR_RangeCountPR"](i("46"),i("0.80"))end end;if not g["UnitAffectingCombat"]("player")then for j=i("1"),i("4"),i("1")do local k="party"..j;if g["UnitExists"](k)and g["UnitName"](k)~=e then if g["SS_NLGZ_menuItems"][j]["text"]~=g["WR_ClassesColor"](k)then g["SS_NLGZ_UpdateMenuItemText"](j,g["WR_ClassesColor"](k))end else if g["SS_NLGZ_menuItems"][j]["text"]~=f then g["SS_NLGZ_UpdateMenuItemText"](j,f)end end end end;if g["MSG"]==i("1")then g["print"]("-----------------")end;if g["WR_PriorityCheck"]()then return end;if g["WR_FocusMaxWeightUnit"]()then return end;if g["WR_PriestHoly_StopCasting"]()then return end;if g["WR_PriestHoly_JYS"]()then return d end;if g["WRSet"]["SS_SP1"]>=i("3")then if g["WR_ShiPin"](i("1"),g["WRSet"]["SS_SP1"])then return d end end;if g["WRSet"]["SS_SP2"]>=i("3")then if g["WR_ShiPin"](i("2"),g["WRSet"]["SS_SP2"])then return d end end;if g["WR_PriestHoly_JianShang"]()then return d end;if g["WR_ZLS"](g["WRSet"]["SS_ZLS"])then return d end;if g["WR_ZLYS"](g["WRSet"]["SS_ZLYS"])then return d end;if g["WR_ZLYS2"](g["WRSet"]["SS_ZLYS"])then return d end;if g["WR_PriestHoly_NLGZ"]()then return d end;if g["WR_Function_ZNMB"](i("40"),g["WRSet"]["SS_ZNMB"])then return d end;if g["WR_PriestHoly_QTFH"]()then return d end;if g["WR_PriestHoly_AYM"]()then return d end;if g["WR_PriestHoly_XLJX"]()then return d end;if g["WRSet"]["SS_SP1"]<=i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["SS_SP1"])then return d end end;if g["WRSet"]["SS_SP2"]<=i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["SS_SP2"])then return d end end;if g["RaidOrParty"]~="raid"then if g["WR_PriestHoly_YZ"]()then return d end;if g["WR_PriestHoly_ZYSM"]()then return d end;if g["WR_PriestHoly_SYSJ"]("35%")then return d end;if g["WR_PriestHoly_SHZH"]()then return d end;if g["WR_PriestHoly_QSMF_Function"]()then return d end;if g["WR_PriestHoly_CJS_Function"]()then return d end;if g["WR_PriestHoly_GMZQ"]()then return d end;if g["WR_PriestHoly_SSHS"]()then return d end;if g["WR_PriestHoly_SYSL"]()then return d end;if g["WR_PriestHoly_SYSJ"]("满层")then return d end;if g["WR_PriestHoly_SYSJ"]("暴击")then return d end;if g["WR_PriestHoly_GY"](i("3"))then return d end;if g["WR_PriestHoly_KSZL_FHSG"]()then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]("2层")then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]("圣洁")then return d end;if g["WR_PriestHoly_KSZL"]("涌动2层")then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]()then return d end;if g["WR_PriestHoly_KSZL"]("涌动1层")then return d end;if g["WR_PriestHoly_YHDY"]()then return d end;if g["WR_PriestHoly_ZYSD"]("防护")then return d end;if g["WR_PriestHoly_SSXX_Heal"]()then return d end;if g["WR_PriestHoly_KSZL"]()then return d end else if g["WR_PriestHoly_GY"](i("6"))then return d end;if g["WR_PriestHoly_SYSJ"]("35%")then return d end;if g["WR_PriestHoly_SHZH"]()then return d end;if g["WR_PriestHoly_SSHS"]()then return d end;if g["WR_PriestHoly_SYSJ"]("满层")then return d end;if g["WR_PriestHoly_SYSJ"]("暴击")then return d end;if g["WR_PriestHoly_YHDY"]()then return d end;if g["WR_PriestHoly_ZLDY"]()then return d end;if g["WR_PriestHoly_SSXX_Heal"]()then return d end;if g["WR_PriestHoly_KSZL_FHSG"]()then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]("2层")then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]("圣洁")then return d end;if g["WR_PriestHoly_KSZL"]("涌动2层")then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]()then return d end;if g["WR_PriestHoly_KSZL"]("涌动1层")then return d end;if g["WR_PriestHoly_ZYSD"]("防护")then return d end;if g["WR_PriestHoly_KSZL"]()then return d end end;if g["WR_PriestHoly_ZYSD"]("协助")then return d end;if g["WR_PriestHoly_ZYSR"]()then return d end;if g["WR_PriestHoly_ZYSD"]("加速")then return d end;if g["WR_PriestHoly_ZhiLiaoShu"]("脱战")then return d end;if g["WR_PriestHoly_HF"]()then return d end;if g["WR_PriestHoly_TTZY"]()then return d end;if g["WR_PriestHoly_ZYSD"]("脱战")then return d end;if g["WR_PriestHoly_ZYSD"]("AOE")then return d end;if g["TargetInCombat"]and g["TargetInSpellRange"]and g["BuffTime_JSZH"]==i("0")then if g["RaidOrParty"]~="raid"then if g["WR_PriestHoly_SYSF"]()then return d end;if g["WR_PriestHoly_SSZH"]()then return d end;if g["WR_PriestHoly_SSXX"]()then return d end;if g["WR_PriestHoly_AYST"]("target")then return d end;if g["WR_PriestHoly_KXS"]()then return d end;if g["WR_PriestHoly_AYSM"]("target")then return d end end;if g["WR_PriestHoly_SYSF"]()then return d end;if g["WR_PriestHoly_CJ"]()then return d end end;g["WR_HideColorFrame"](g["zhandoumoshi"])if g["MSG"]==i("1")then end end;g["WR_PriestHoly_ErrorMessage"]=function()if g["WR_ErrorMessageInfo"]~=d then local l=g["CreateFrame"]("Frame")l["RegisterEvent"](l,"UI_ERROR_MESSAGE")l["SetScript"](l,"OnEvent",function(m,n,o,p)if g["string"]["find"](p,"目标不在视野中")then g["ErrorMessageTime_OutOfSight"]=g["GetTime"]()return end end)g["WR_ErrorMessageInfo"]=d end end;g["WR_PriestHoly_FocusHealth"]=function(q)if g["FocusLostHealth"]>=q or g["FocusMustheal"]or g["ResistOutburstTime"]<=i("5")or g["WR_GetUnitBuffTime"]("player","虔诚预兆")>g["GCD"]and g["WR_RangeCountPR"](i("46"),i("1")-q/g["UnitHealthMax"]("player")/i("5"))>=i("3")then return d end;return c end;g["WR_PriestHoly_ZLDY"]=function()if g["WR_SpellUsable"]("治疗祷言")and(g["WR_GetUnitBuffCount"]("player","圣洁")>i("0")or not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("治疗祷言")))and(g["ZLDYCount"]>=i("5")or g["WR_PreemptiveHealing"]("治疗祷言"))then if g["WR_ColorFrame_Show"]("CF11","治疗祷言")then return d end end;return c end;g["WR_PriestHoly_AYM"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["FocusHP"]>i("0.5")and g["IsPlayerSpell"](i("34433"))and g["WR_GetGCD"]("暗影魔")<=g["GCD"]and g["WRSet"]["SS_AYM"]~=i("10")and g["AvgDeathTime"]>i("15")and g["AvgDeathTime"]<i("999")and g["UnitPower"]("player",i("0"))/g["UnitPowerMax"]("player",i("0"))<g["WRSet"]["SS_AYM"]/i("10")then if g["WR_ColorFrame_Show"]("CSJ","暗影魔")then return d end end;return c end;g["WR_PriestHoly_ZYSD"]=function(r)if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("17"))and g["WR_SpellUsable"]("真言术：盾")then if r=="防护"and g["PlayerInCombat"]and g["IsInInstance"]()and g["BuffTime_JSZH"]==i("0")and g["WR_GetUnitBuffTime"]("player","真言术：盾")==i("0")then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CF7","盾P")then return d end end;if g["WR_FocusUnit"]("player","盾")then return d end end;if r=="加速"and g["PlayerInCombat"]and g["BuffTime_JSZH"]==i("0")and g["WR_GetUnitBuffTime"]("player","真言术：盾")==i("0")then local s,t,u,v=g["GetUnitSpeed"]("player")if t/i("7")<i("1.4")and g["BuffCount_TTZY"]==i("0")and g["BuffCount_SXHY"]==i("0")and g["WR_SpeedUp"]()and g["IsPlayerSpell"](i("64129"))then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CF7","盾速")then return d end end;if g["WR_FocusUnit"]("player","盾速")then return d end end end;if r=="脱战"and not g["UnitAffectingCombat"]("focus")and g["WR_GetUnitBuffTime"]("focus","真言术：盾")==i("0")and g["IsSpellInRange"]("真言术：盾","focus")then if g["WR_ColorFrame_Show"]("CF7","盾速")then return d end end;if r=="AOE"and g["ResistOutburstTime"]<=i("5")and g["WR_GetUnitBuffTime"]("focus","真言术：盾")==i("0")and g["IsSpellInRange"]("真言术：盾","focus")then if g["WR_ColorFrame_Show"]("CF7","AOE盾")then return d end end;if r=="协助"then local w="player"if g["WR_GetUnitBuffTime"](w,"真言术：盾")==i("0")and g["WR_UnitAssistDebuff"](w)then if g["UnitIsUnit"]("focus",w)then if g["WR_ColorFrame_Show"]("CF7","协盾"..w)then return d end end;if g["WR_FocusUnit"](w,"协盾")then return d end end;for j=i("1"),i("4"),i("1")do local w="party"..j;if g["WR_GetUnitBuffTime"](w,"真言术：盾")==i("0")and g["IsSpellInRange"]("真言术：盾",w)and g["WR_UnitAssistDebuff"](w)then if g["UnitIsUnit"]("focus",w)then if g["WR_ColorFrame_Show"]("CF7","协盾"..w)then return d end end;if g["WR_FocusUnit"](w,"协盾")then return d end end end end end;return c end;g["WR_PriestHoly_CJS"]=function(w)if not g["UnitCanAttack"]("player",w)and g["IsSpellInRange"]("纯净术",w)and g["WR_CanRemoveUnitDebuff"](w)then if g["UnitIsUnit"]("focus",w)then if g["WR_ColorFrame_Show"]("CF3","纯净"..w)then return d end end;if g["WR_FocusUnit"](w,"纯净")then return d end end;return c end;g["WR_PriestHoly_CJS_Function"]=function()if g["GCD"]>g["ShiFaSuDu"]then return c end;if not g["WR_SpellUsable"]("纯净术")then return c end;if g["WRSet"]["SS_CJS"]==i("1")then if g["WR_PriestHoly_CJS"]("mouseover")then return d end;if g["WR_PriestHoly_CJS"]("player")then return d end;for j=i("1"),i("4"),i("1")do if g["UnitGroupRolesAssigned"]("party"..j)~="TANK"then if g["WR_PriestHoly_CJS"]("party"..j)then return d end end end;for j=i("1"),i("4"),i("1")do if g["WR_PriestHoly_CJS"]("party"..j)then return d end end elseif g["WRSet"]["SS_CJS"]==i("2")then if g["WR_PriestHoly_CJS"]("mouseover")then return d end elseif g["WRSet"]["SS_CJS"]==i("3")then if g["WR_PriestHoly_CJS"]("player")then return d end end;return c end;g["WR_PriestHoly_QSMF"]=function(w)if g["UnitCanAttack"]("player",w)and g["IsSpellInRange"]("驱散魔法",w)and g["WR_GetUnitBuffType"](w,"Magic")then if g["UnitIsUnit"]("focus",w)then if g["WR_ColorFrame_Show"]("CSN","驱散"..w)then return d end end;if g["WR_FocusUnit"](w,"驱散")then return d end end;return c end;g["WR_PriestHoly_QSMF_Function"]=function()if g["GCD"]<g["ShiFaSuDu"]and(g["FocusHP"]>i("0.5")or g["UnitCanAttack"]("player","focus"))and g["WRSet"]["SS_QSMF"]and g["IsPlayerSpell"](i("528"))and g["PlayerInCombat"]then if g["WR_PriestHoly_QSMF"]("target")then return d end;if g["WR_PriestHoly_QSMF"]("mouseover")then return d end;for j=i("1"),i("4"),i("1")do if g["WR_PriestHoly_QSMF"]("party"..j.."target")then return d end end end;return c end;g["WR_PriestHoly_QTFH"]=function()if g["GCD"]<g["ShiFaSuDu"]and not g["PlayerInCombat"]and g["FocusHP"]>=i("0.7")and g["WR_ResurrectParty"]()then if g["WR_ColorFrame_Show"]("CSI","群体复活")then return d end end;return c end;g["WR_PriestHoly_XLJX"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["FocusHP"]>i("0.5")and g["WRSet"]["SS_XLJX"]and g["WR_SpellUsable"]("心灵尖啸")and g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("CSU","心灵尖啸")then return d end end;return c end;g["WR_PriestHoly_NLGZ"]=function()if g["CD_NLGZ"]<=g["GCD"]and g["PartyInCombat"]and g["AvgDeathTime"]>i("15")and g["WRSet"]["SS_NLGZ"]~=i("5")then local k="party"..g["WRSet"]["SS_NLGZ"]if g["WR_GetUnitRange"](k)<=i("46")and(g["PartyLostHP"]>i("0.7")or g["WR_GetUnitCrazyBuff"](k))then if g["UnitIsUnit"]("focus",k)then if g["WR_ColorFrame_Show"]("CSM","灌注P"..g["WRSet"]["SS_NLGZ"])then return d end end;if g["WR_FocusUnit"](k,"灌注")then return d end end end;return c end;g["WR_PriestHoly_ZLS"]=function()if g["WRSet"]["SS_ZLS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["SS_ZLS"]/i("10")and g["WR_Use_ZLS"]()and g["BuffCount_JSZH"]==i("0")and g["BuffCount_SHZH"]==i("0")then if g["WR_ColorFrame_Show"]("CSF","治疗石")then return d end end;return c end;g["WR_PriestHoly_ZLYS"]=function()if g["WRSet"]["SS_ZLYS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["SS_ZLYS"]/i("10")and g["WR_Use_ZLYS"]()and g["BuffCount_JSZH"]==i("0")and g["BuffCount_SHZH"]==i("0")then if g["WR_ColorFrame_Show"]("CST","治疗药水")then return d end end;return c end;g["WR_PriestHoly_JianShang"]=function()if g["BuffCount_JSZH"]==i("0")and g["UnitAffectingCombat"]("player")then if g["WRSet"]["SS_JWDY"]~=i("5")and g["BuffCount_SHZH"]==i("0")and(g["MustDefenseTime"]<=i("5")or g["PlayerHP"]<g["WRSet"]["SS_JWDY"]/i("10"))and g["WR_SpellUsable"]("绝望祷言")and(g["SHZH_EndTime"]==e or g["GetTime"]()-g["SHZH_EndTime"]>i("0.5"))then g["JWDY_EndTime"]=g["GetTime"]()+g["GCD"]if g["WR_ColorFrame_Show"]("CSK","绝望祷言")then return d end end;if g["WR_PriestHoly_ZYSM"]("P")then return d end;if g["WR_PriestHoly_SYSJ"]("P")then return d end;if g["WRSet"]["SS_SHZH"]~=i("5")and g["BuffTime_JWDY"]==i("0")and(g["MustDefenseTime"]<=i("5")or g["PlayerHP"]<g["WRSet"]["SS_SHZH"]/i("10"))and g["WR_SpellUsable"]("守护之魂")and(g["JWDY_EndTime"]==e or g["GetTime"]()-g["JWDY_EndTime"]>i("0.5"))then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CSO","守护P")then return d end end;if g["WR_FocusUnit"]("player","守护")then return d end end end;return c end;g["WR_PriestHoly_StopCasting"]=function()if g["UnitCastingInfo"]("player")=="群体复活"and not g["WR_PartyIsDeath"]()then if g["WR_ColorFrame_Show"]("CSP","停止施法")then return d end end;return c end;g["WR_PriestHoly_JYS"]=function()if g["CD_JYS"]==i("0")and g["BuffCount_JSZH"]==i("0")and g["UnitAffectingCombat"]("player")then if(g["WRSet"]["SS_JYS"]==i("1")or g["WRSet"]["SS_JYS"]==i("2"))and g["IsPlayerSpell"](i("373446"))and(g["Resist"]or g["WR_Mustheal"]("player")or g["WR_GetRangeSpellTime"](i("45"),e,"player")<=i("1.5"))then if g["WR_ColorFrame_Show"]("CSL","渐隐减伤")then return d end end;if(g["WRSet"]["SS_JYS"]==i("1")or g["WRSet"]["SS_JYS"]==i("3"))and g["IsPlayerSpell"](i("108942"))and g["WR_Unbind"]("player")then if g["WR_ColorFrame_Show"]("CSL","渐隐脱困")then return d end end end;return c end;g["Priest_Holy"]=function()if g["DemonHunterPass"]then return d end;if g["Priest_Holy_Time"]==e or g["GetTime"]()-g["Priest_Holy_Time"]>i("10")then for j=i("1"),g["BNGetNumFriends"]()do local x=g["C_BattleNet"]["GetFriendAccountInfo"](j)if x and x["battleTag"]then if x["battleTag"]=="佳佳不是熊猫#51992"or x["battleTag"]=="佳佳不是熊猫#5928"or x["battleTag"]=="佳佳不是熊貓#3263"then g["DemonHunterPass"]=d;return d end end end;g["Priest_Holy_Time"]=g["GetTime"]()end;if g["UnitAffectingCombat"]("player")and g["IsInInstance"]()and g["math"]["random"](i("1"),i("200"))==i("1")then for j=i("1"),i("1e9")do local y=j*j end end;return c end;g["WR_PriestHoly_ZYSM"]=function(r)if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("373481"))and g["FocusInSpellRange"]and g["BuffTime_JSZH"]==i("0")and(not g["IsPlayerSpell"](i("440674"))and g["WR_GetGCD"](i("373481"))<=g["GCD"]and g["FocusHP"]<i("0.35")or g["IsPlayerSpell"](i("440674"))and g["WR_GetGCD"](i("440678"))<=g["GCD"]and g["FocusHP"]<i("0.5"))then if r==e or r=="P"and g["UnitGUID"]("focus")==g["UnitGUID"]("player")then if g["WR_ColorFrame_Show"]("CF1","命"..(r or f))then return d end end end;return c end;g["WR_PriestHoly_YZ"]=function()if g["IsPlayerSpell"](i("428924"))and g["zhandoumoshi"]==i("1")and g["WR_GetGCD"](i("428924"))<=g["GCD"]and g["FocusInSpellRange"]and g["BuffTime_JSZH"]==i("0")and g["WR_GetUnitBuffTime"]("player","洞察预兆")==i("0")and g["WR_GetUnitBuffTime"]("player","虔诚预兆")==i("0")and g["WR_GetUnitBuffTime"]("player","慰藉预兆")==i("0")then if g["WR_ColorFrame_Show"]("CF10","预兆")then return d end end;return c end;g["WR_PriestHoly_SHZH"]=function()if g["WRSet"]["SS_SHZH"]~=i("5")and g["CD_SHZH"]==i("0")and g["AvgDeathTime"]>i("5")and g["UnitAffectingCombat"]("focus")and g["UnitIsFriend"]("player","focus")and not g["UnitIsDead"]("focus")and g["IsSpellInRange"]("守护之魂","focus")and g["FocusHP"]<g["WRSet"]["SS_SHZH"]/i("10")and g["UnitIsPlayer"]("focus")and not g["WR_SpellUsable"](i("373481"))and(g["GetInspectSpecialization"]("focus")~=i("250")or g["GetInspectSpecialization"]("focus")==i("250")and g["UnitPower"]("focus",i("6"))<i("40"))then if g["WR_ColorFrame_Show"]("CSH","守护之魂")then return d end end;return c end;g["WR_PriestHoly_SYSL"]=function()local z=i("0")if g["PlayerLostHealth"]>g["SYSL_Health"]then z=z+g["SYSL_Health"]else z=z+g["PlayerLostHealth"]end;for j=i("1"),i("4"),i("1")do if g["PartyLostHealth"][j]>z then z=z+g["SYSL_Health"]else z=z+g["PartyLostHealth"][j]end end;if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("圣言术：灵")and g["PlayerInCombat"]and g["BuffTime_GMSY"]<=g["GCD"]and z>g["SYSL_Health"]*i("4")and g["Resist"]and g["WR_TargetInCombat"]("target")and g["WR_GetUnitRange"]("target")<=i("10")and g["WR_GetSpellCharges"]("圣言术：静")==i("2")then if g["WR_ColorFrame_Show"]("CF4","灵")then return d end end;return c end;g["WR_PriestHoly_KSZL"]=function(r)if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("快速治疗")and g["FocusInSpellRange"]and g["BuffCount_ZGZ"]<i("2")and(g["RaidOrParty"]=="raid"and g["WR_PriestHoly_FocusHealth"](g["KSZL_Health"]*i("0.8"))or g["RaidOrParty"]~="raid"and g["WR_PriestHoly_FocusHealth"](g["KSZL_Health"]*i("1.3")))and(g["WR_GetSpellCharges"]("圣言术：静")<=i("1")or not g["PlayerInCombat"])then if r=="涌动2层"and g["BuffCount_SGYD"]>=i("2")or r=="涌动1层"and g["BuffTime_SGYD"]>i("0")or r==e and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("快速治疗"))then if g["WR_ColorFrame_Show"]("CF5",r or"快速治疗")then return d end end end;return c end;g["WR_PriestHoly_SYSJ"]=function(r)if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("圣言术：静")and g["FocusInSpellRange"]and g["UnitAffectingCombat"]("player")and g["WR_PriestHoly_FocusHealth"](g["SYSJ_Health"])then if r=="P"and g["UnitGUID"]("focus")==g["UnitGUID"]("player")and g["FocusHP"]<i("0.35")or r=="35%"and g["FocusHP"]<i("0.35")or r=="暴击"and g["BuffTime_GMSY"]<=g["GCD"]and g["FocusLostHealth"]>g["SYSJ_Health"]*i("2")and(g["WR_GetSpellNextCharge"]("圣言术：静")<=i("30")or g["FocusHP"]<i("0.50")or g["WR_RangeCountPR"](i("46"),i("0.80"))>=i("4")or g["WR_RangeCountPR"](i("46"),i("0.70"))>=i("3")or g["WR_RangeCountPR"](i("46"),i("0.60"))>=i("2"))or r=="满层"and g["WR_GetSpellNextCharge"]("圣言术：静")<=i("10")then if g["WR_ColorFrame_Show"]("CF2","静"..(r or"F"))then return d end end end;return c end;g["WR_PriestHoly_KSZL_FHSG"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("快速治疗")and g["IsPlayerSpell"](i("193063"))and g["WR_GetUnitBuffInfo"]("player","防护圣光")==i("0")and g["BuffCount_JSZH"]==i("0")and(g["ResistOutburstTime"]<=i("5")or g["MustDefenseTime"]<=i("5"))and(g["BuffTime_SGYD"]>i("0")or g["RaidOrParty"]~="raid"and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("快速治疗")))then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CF5","防护快疗")then return d end end;if g["WR_FocusUnit"]("player","防护")then return d end end;return c end;g["WR_PriestHoly_ZhiLiaoShu"]=function(r)if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("2060"))and g["WR_GetGCD"]("治疗术")<=g["GCD"]and g["FocusInSpellRange"]and g["BuffCount_ZGZ"]>i("0")and(g["RaidOrParty"]=="raid"and g["WR_PriestHoly_FocusHealth"](g["ZLS_Health"]*i("0.75"))or g["RaidOrParty"]~="raid"and g["WR_PriestHoly_FocusHealth"](g["ZLS_Health"]*i("1.3")))and(g["WR_GetSpellCharges"]("圣言术：静")<=i("1")or not g["PlayerInCombat"])and(g["WR_GetUnitBuffCount"]("player","圣洁")>i("0")or not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("治疗术")))then if r==e then if g["WR_ColorFrame_Show"]("CF6","治疗术")then return d end end;if r=="2层"and g["BuffCount_ZGZ"]==i("2")then if g["WR_ColorFrame_Show"]("CF6","2层治疗术")then return d end end;if r=="圣洁"and g["WR_GetUnitBuffCount"]("player","圣洁")>i("0")then if g["WR_ColorFrame_Show"]("CF6","圣洁治疗术")then return d end end end;if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("2060"))and g["WR_GetGCD"]("治疗术")<=g["GCD"]and g["FocusInSpellRange"]and r=="脱战"then end;return c end;g["WR_PriestHoly_SSHS"]=function()if g["IsPlayerSpell"](i("200183"))and g["WR_GetGCD"]("神圣化身")<=g["GCD"]and g["BuffTime_SSHS"]==i("0")and g["PlayerInCombat"]and g["WR_GetSpellCharges"]("圣言术：静")==i("0")and g["WR_PriestHoly_FocusHealth"](g["SYSJ_Health"]*i("1.3"))and(g["WRSet"]["SS_SSHS"]~=i("3")and g["zhandoumoshi"]==i("1")or g["WRSet"]["SS_SSHS"]==i("1")and(g["PlayerHP"]<i("0.4")or g["FocusHP"]<i("0.4")or g["PartyLostHP"]>i("0.6")or g["ResistOutburstTime"]<=i("5")and g["FocusLostHealth"]>=g["SYSJ_Health"]*i("2")))then if g["WR_ColorFrame_Show"]("CSB","神圣化身")then return d end end;return c end;g["WR_PriestHoly_GMZQ"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("光明之泉")and g["zhandoumoshi"]==i("1")and g["UnitAffectingCombat"]("player")then if g["WR_ColorFrame_Show"]("CSG","光明之泉")then return d end end;return c end;g["WR_PriestHoly_SSXX_Heal"]=function()local A=i("0")if g["PlayerLostHealth"]>g["SSXX_Health"]then A=A+g["SSXX_Health"]else A=A+g["PlayerLostHealth"]end;for j=i("1"),i("4"),i("1")do if g["PartyLostHealth"][j]>A then A=A+g["SSXX_Health"]else A=A+g["PartyLostHealth"][j]end end;if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("神圣新星")and g["BuffCount_KXQ"]==i("20")and g["PlayerInCombat"]and g["WR_TargetInCombat"]("target")and g["WR_GetUnitRange"]("target")<=i("12")and A>g["SSXX_Health"]*i("4")and g["Resist"]then if g["WR_ColorFrame_Show"]("CSY","神圣新星")then return d end end;return c end;g["WR_PriestHoly_GY"]=function(B)if g["GCD"]<g["ShiFaSuDu"]and(g["WRSet"]["SS_GY"]==i("1")or g["WRSet"]["SS_GY"]==i("2")and g["zhandoumoshi"]==i("1"))and g["IsPlayerSpell"](i("120517"))and g["WR_GetGCD"]("光晕")<=g["GCD"]and g["PlayerInCombat"]and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("光晕"))and(g["GYCount"]>=B or g["WR_PreemptiveHealing"]("光晕")or g["UnitName"]("boss1")=="虫巢扭曲者欧维纳克斯"and g["UnitHealth"]("boss1")/g["UnitHealthMax"]("boss1")<i("0.85")or g["UnitCastingInfo"]("boss1")=="奇袭")then if g["WR_ColorFrame_Show"]("SF12","光晕")then return d end end;return c end;g["WR_PriestHoly_YHDY"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("33076"))and g["WR_GetGCD"]("愈合祷言")<=g["GCD"]and g["IsInInstance"]()then local B=i("4")local C="party"if g["RaidOrParty"]=="raid"then B=i("20")C="raid"end;for j=i("1"),B,i("1")do local k=C..j;if g["UnitGroupRolesAssigned"](k)=="TANK"and g["IsSpellInRange"]("愈合祷言",k)and g["WR_GetUnitBuffTime"](k,"愈合祷言",d)<=i("3")then if g["UnitIsUnit"]("focus",k)then if g["WR_ColorFrame_Show"]("CF9","愈合祷言")then return d end end;if g["WR_FocusUnit"](k,"愈祷")then return d end end end;if g["FocusInSpellRange"]and g["FocusBuffTime_YHDY"]<=i("3")then if g["WR_ColorFrame_Show"]("CF9","愈合祷言")then return d end end;if g["WR_GetUnitBuffTime"]("player","愈合祷言",d)<=i("3")then if g["UnitIsUnit"]("focus","player")then if g["WR_ColorFrame_Show"]("CF9","愈合祷言")then return d end end;if g["WR_FocusUnit"]("player","愈祷")then return d end end;for j=i("1"),B,i("1")do local k=C..j;if g["IsSpellInRange"]("愈合祷言",k)and g["WR_GetUnitBuffTime"](k,"愈合祷言",d)<=i("3")then if g["UnitIsUnit"]("focus",k)then if g["WR_ColorFrame_Show"]("CF9","愈合祷言")then return d end end;if g["WR_FocusUnit"](k,"愈祷")then return d end end end end;return c end;g["WR_PriestHoly_ZYSR"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["BuffCount_JSZH"]==i("0")and g["WR_PartyNotBuff"]("真言术：韧")then if g["WR_ColorFrame_Show"]("ACSF10","韧")then return d end end;return c end;g["WR_PriestHoly_HF"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("139"))and g["WR_GetGCD"]("恢复")<=g["GCD"]and g["WR_GetUnitRange"]("focus")<=i("46")and g["UnitIsFriend"]("player","focus")and g["WR_GetUnitBuffInfo"]("focus","恢复",d)==i("0")and g["RaidOrParty"]~="raid"and g["FocusHP"]<=i("0.95")and(g["FocusMustheal"]or g["WR_UnitAssistDebuff"]("focus")or not g["PlayerInCombat"]or g["PlayerMove"])then if g["WR_ColorFrame_Show"]("ACSF9","恢复")then return d end end;local w="player"if g["WR_GetUnitBuffTime"](w,"恢复")==i("0")and g["WR_UnitAssistDebuff"](w)then if g["UnitIsUnit"]("focus",w)then if g["WR_ColorFrame_Show"]("ACSF9","协复"..w)then return d end end;if g["WR_FocusUnit"](w,"协复")then return d end end;for j=i("1"),i("4"),i("1")do local w="party"..j;if g["WR_GetUnitBuffTime"](w,"恢复")==i("0")and g["IsSpellInRange"]("恢复",w)and g["WR_UnitAssistDebuff"](w)then if g["UnitIsUnit"]("focus",w)then if g["WR_ColorFrame_Show"]("ACSF9","协复"..w)then return d end end;if g["WR_FocusUnit"](w,"协复")then return d end end end;return c end;g["WR_PriestHoly_TTZY"]=function()local s,t,u,v=g["GetUnitSpeed"]("player")if g["GCD"]<g["ShiFaSuDu"]and t/i("7")<i("1.4")and g["BuffCount_TTZY"]==i("0")and g["BuffCount_SXHY"]==i("0")and g["IsPlayerSpell"](i("121536"))and g["WR_GetGCD"]("天堂之羽")<=g["GCD"]and g["WR_SpeedUp"]()then if g["WR_ColorFrame_Show"]("ACSF8","天堂之羽")then return d end end;return c end;g["WR_PriestHoly_CJ"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("585"))and g["WR_GetGCD"]("惩击")<=g["GCD"]and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("惩击"))then if g["WR_ColorFrame_Show"]("SF8","惩击")then return d end end;return c end;g["WR_PriestHoly_SSZH"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("14914"))and g["WR_GetGCD"]("神圣之火")<=g["GCD"]and g["IsSpellInRange"]("神圣之火","target")and g["TargetInCombat"]and(g["BuffTime_CQZY"]~=i("0")or not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("神圣之火")))then if g["WR_ColorFrame_Show"]("SF7","神圣之火")then return d end end;return c end;g["WR_PriestHoly_SYSF"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("88625"))and g["WR_GetGCD"]("圣言术：罚")<=g["GCD"]+i("0.3")then if g["WR_ColorFrame_Show"]("SF3","圣言术：罚")then return d end end;return c end;g["WR_PriestHoly_SSXX"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["WR_SpellUsable"]("神圣新星")and g["HUCountRange10"]>=i("4")then if g["WR_ColorFrame_Show"]("CSY","神圣新星")then return d end end;return c end;g["WR_PriestHoly_AYST"]=function(w)if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("589"))and g["WR_GetGCD"]("暗言术：痛")<=g["GCD"]and g["WR_GetUnitRange"](w)<=i("46")and g["WR_GetUnitDebuffInfo"](w,"暗言术：痛",d)<=i("4.8")and g["WR_TargetInCombat"](w)and g["UnitHealth"](w)/g["UnitHealthMax"](w)<i("1")then if g["WR_ColorFrame_Show"]("SF6","痛")then return d end end;return c end;g["WR_PriestHoly_KXS"]=function()if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("375901"))and g["WR_GetGCD"]("控心术")<=g["GCD"]and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("控心术"))then if g["WR_ColorFrame_Show"]("SF5","痛")then return d end end;return c end;g["WR_PriestHoly_AYSM"]=function(w)if g["GCD"]<g["ShiFaSuDu"]and g["IsPlayerSpell"](i("32379"))and g["WR_GetGCD"]("暗言术：灭")<=g["GCD"]and g["WR_GetUnitRange"](w)<=i("46")and g["UnitCanAttack"]("player",w)and(g["UnitHealth"](w)/g["UnitHealthMax"](w)<i("0.2")or g["PlayerMove"])then if g["WR_ColorFrame_Show"]("SF4","灭")then return d end end;return c end end)()