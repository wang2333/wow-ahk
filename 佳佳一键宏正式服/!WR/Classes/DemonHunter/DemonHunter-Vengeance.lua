local a=53;local b=27;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_DemonHunterVengeance"]=function()if g["GetSpecialization"]()~=i("2")then return end;g["ShiFaSuDu"]=i("0.05")+g["WRSet"]["FC_SFSD"]*i("0.05")g["GCD"]=g["WR_GetGCD"]("混乱打击")g["MaxGCD"]=g["WR_GetMaxGCD"](i("1.5"))g["PlayerHP"]=g["UnitHealth"]("player")/g["UnitHealthMax"]("player")g["PlayerMove"]=g["WR_PlayerMove"]()g["PlayerFury"]=g["UnitPower"]("player",g["SPELL_POWER_FURY"])g["TargetIsNearby"]=g["IsSpellInRange"]("裂魂","target")g["TargetRange"]=g["WR_GetUnitRange"]("target")g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["RangeHarmUnitCount5"]=g["WR_GetRangeHarmUnitCount"](i("5"),not g["WR_InTraining"]())g["InBossCombat"]=g["WR_InBossCombat"]()g["BuffTime_EMJC"]=g["WR_GetUnitBuffTime"]("player","恶魔尖刺")g["BuffTime_EMBX"]=g["WR_GetUnitBuffTime"]("player","恶魔变形")g["BuffTime_SLMJ"]=g["WR_GetUnitBuffTime"]("player","撕裂猛击")g["BuffTime_ZRLW"]=g["WR_GetUnitBuffTime"]("player","战刃乱舞")g["BuffTime_HZRX"]=g["WR_GetUnitBuffTime"]("player",i("1227062"))g["DebuffTime_LHLY"]=g["WR_DemonHunterVengeance_LastSpellTime"]()g["SmallMagicTime"],g["BigMagicTime"],g["SmallPhysicalTime"],g["BigPhysicalTime"]=g["WR_TankResist"]()local j={[i("1")]="沼面",[i("2")]="吉泽尔·超震",[i("3")]="斩血",[i("4")]="无尽女皇莫德蕾莎",[i("5")]="老蜡须",[i("6")]="老大娘"}g["QZJS_Boss"]=c;for k=i("1"),i("5"),i("1")do for l,m in g["pairs"](j)do if g["UnitName"]("boss"..k)==m then g["QZJS_Boss"]=d;break end end end;g["QZJS_Time"]=c;if g["WR_GetUnitDebuffTime"]("target","烈火烙印",d)<=i("2.5")and g["BuffTime_EMBX"]<=i("2.5")and(g["BigMagicTime"]<=i("2.5")or g["BigPhysicalTime"]<=i("2.5"))then g["QZJS_Time"]=d end;g["HoldSpell"]=d;if g["WR_GetRangeAvgDeathTime"](i("30"))>i("10")or g["WR_InBossCombat"]()then g["HoldSpell"]=c end;g["DemonHunter_Vengeance"]()if g["MSG"]==i("1")then g["print"]("----------")end;if g["WR_DemonHunterVengeance_EMJC"]()then return d end;if g["WR_PriorityCheck"]()then return d end;if g["WR_ZLS"](g["WRSet"]["FC_ZLS"])then return d end;if g["WR_ZLYS"](g["WRSet"]["FC_ZLYS"])then return d end;if g["WR_ZLYS2"](g["WRSet"]["FC_ZLYS"])then return d end;if g["WR_DemonHunterDemonology_SP"]("保命")then return d end;if g["WR_WarriorProtection_EMBX"]()then return d end;if g["WR_Function_ZNMB"](i("2"),g["WRSet"]["FC_ZNMB"])then return d end;if g["WR_ZNJD"](g["WRSet"]["FC_ZNJD"])then return d end;if g["WR_DemonHunterVengeance_QJ"]()then return d end;if g["WR_DemonHunterVengeance_TSMF"]()then return d end;if g["WR_DemonHunterVengeance_HLXX"]()then return d end;if not g["WRSet"]["FC_NotADD"]or g["TargetInCombat"]then if g["TargetIsNearby"]then if g["WR_DemonHunterDemonology_SP"]("常驻")then return d end;if g["WR_WuQi"](i("3"),g["WRSet"]["FC_WuQi"])then return d end end;if g["WR_DemonHunterVengeance_XNHM"]("血量阈值")then return d end;if g["WR_DemonHunterVengeance_XNHM"]("前置")then return d end;if g["WR_DemonHunterVengeance_LHLY"]("前置")then return d end;if g["WR_DemonHunterVengeance_XJGH"]()then return d end;if g["WR_DemonHunterVengeance_EMZJ"]()then return d end;if g["WR_DemonHunterVengeance_SGZZR"]()then return d end;if g["RangeHarmUnitCount5"]>i("1")then if g["WR_DemonHunterVengeance_PL"]("撕裂猛击")then return d end;if g["WR_DemonHunterVengeance_LHLP"]("战刃乱舞")then return d end else if g["WR_DemonHunterVengeance_LHLP"]("战刃乱舞")then return d end;if g["WR_DemonHunterVengeance_PL"]("撕裂猛击")then return d end end;if g["WR_DemonHunterVengeance_LHLY"]()then return d end;if g["WR_DemonHunterVengeance_YHZD"]()then return d end;if g["WR_DemonHunterVengeance_LHFZ"]()then return d end;if g["WR_DemonHunterVengeance_XNHM"]()then return d end;if g["WR_DemonHunterVengeance_YNZF"]()then return d end;if g["WR_DemonHunterVengeance_LHLP"]()then return d end;if g["WR_DemonHunterVengeance_XNZL"]()then return d end;if g["WR_DemonHunterVengeance_PL"]()then return d end;if g["WR_DemonHunterVengeance_TZLR"]()then return d end end;g["WR_HideColorFrame"](g["zhandoumoshi"])end;g["WR_DemonHunterVengeance_TSMF_Unit"]=function(n)if g["UnitCanAttack"]("player",n)and g["IsSpellInRange"]("吞噬魔法",n)and g["WR_GetUnitBuffType"](n,"Magic")and g["WR_TargetInCombat"](n)then if n=="target"then if g["WR_ColorFrame_Show"]("AN5","吞魔T")then return d end elseif n=="mouseover"then if g["WR_ColorFrame_Show"]("AN6","吞魔M")then return d end elseif n=="focus"then if g["WR_ColorFrame_Show"]("AN7","吞魔F")then return d end elseif n=="party1target"then if g["WR_ColorFrame_Show"]("AN1","吞魔P1T")then return d end elseif n=="party2target"then if g["WR_ColorFrame_Show"]("AN2","吞魔P2T")then return d end elseif n=="party3target"then if g["WR_ColorFrame_Show"]("AN3","吞魔P3T")then return d end elseif n=="party4target"then if g["WR_ColorFrame_Show"]("AN4","吞魔P4T")then return d end end end;return c end;g["WR_DemonHunterVengeance_TSMF"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["FC_TSMF"]and g["WR_SpellUsable"]("吞噬魔法")then if g["WR_DemonHunterVengeance_TSMF_Unit"]("target")then return d end;if g["WR_DemonHunterVengeance_TSMF_Unit"]("mouseover")then return d end;for k=i("1"),i("4"),i("1")do if g["WR_DemonHunterVengeance_TSMF_Unit"]("party"..k.."target")then return d end end end;return c end;g["WR_DemonHunterVengeance_EMJC"]=function()if g["WR_SpellUsable"]("恶魔尖刺")and g["TargetIsNearby"]and(g["WR_GetUnitBuffInfo"]("player","恶魔尖刺")<=i("1")or g["WR_GetSpellCharges"]("恶魔尖刺")==i("2")or g["WR_GetSpellNextCharge"]("恶魔尖刺")<=i("1"))then if g["WR_ColorFrame_Show"]("CF6","恶魔尖刺")then return d end end;return c end;g["WR_DemonHunterVengeance_QJ_Unit"]=function(n)if g["UnitCanAttack"]("player",n)and g["C_Spell"]["IsSpellInRange"]("瓦解",n)and g["WR_GetCastInterruptible"](n,g["InterruptTime"],g["WR_DemonHunterVengeance_QJ_Unit_Important"])then if n=="target"then if g["WR_ColorFrame_Show"]("CSF5","瓦解T")then return d end elseif n=="mouseover"then if g["WR_ColorFrame_Show"]("CSF6","瓦解M")then return d end elseif n=="focus"then if g["WR_ColorFrame_Show"]("CSF7","瓦解F")then return d end elseif n=="party1target"then if g["WR_ColorFrame_Show"]("CSF1","瓦解P1T")then return d end elseif n=="party2target"then if g["WR_ColorFrame_Show"]("CSF2","瓦解P2T")then return d end elseif n=="party3target"then if g["WR_ColorFrame_Show"]("CSF3","瓦解P3T")then return d end elseif n=="party4target"then if g["WR_ColorFrame_Show"]("CSF4","瓦解P4T")then return d end end end;return c end;g["WR_DemonHunterVengeance_QJ"]=function()if not g["WR_SpellUsable"]("瓦解")then return c end;g["InterruptTime"]=(g["WRSet"]["FC_DDMS"]-i("1"))/i("10")if g["WRSet"]["FC_WJ"]<=i("4")then g["WR_DemonHunterVengeance_QJ_Unit_Important"]=c else g["WR_DemonHunterVengeance_QJ_Unit_Important"]=d end;if g["WRSet"]["FC_WJ"]==i("9")then return c elseif g["WRSet"]["FC_WJ"]==i("1")or g["WRSet"]["FC_WJ"]==i("5")or(g["WRSet"]["FC_WJ"]==i("4")or g["WRSet"]["FC_WJ"]==i("8"))and(not g["UnitExists"]("focus")or g["UnitIsDead"]("focus")or not g["UnitCanAttack"]("player","focus"))then if g["WR_DemonHunterVengeance_QJ_Unit"]("focus")then return d end;if g["WR_DemonHunterVengeance_QJ_Unit"]("target")then return d end;if g["WR_DemonHunterVengeance_QJ_Unit"]("mouseover")then return d end;for k=i("1"),i("4"),i("1")do if g["WR_DemonHunterVengeance_QJ_Unit"]("party"..k.."target")then return d end end elseif g["WRSet"]["FC_WJ"]==i("2")or g["WRSet"]["FC_WJ"]==i("6")then if g["WR_DemonHunterVengeance_QJ_Unit"]("target")then return d end elseif g["WRSet"]["FC_WJ"]==i("3")or g["WRSet"]["FC_WJ"]==i("7")then if g["WR_DemonHunterVengeance_QJ_Unit"]("mouseover")then return d end elseif g["WRSet"]["FC_WJ"]==i("4")or g["WRSet"]["FC_WJ"]==i("8")then if g["WR_DemonHunterVengeance_QJ_Unit"]("focus")then return d end end;return c end;g["DemonHunter_Vengeance"]=function()if g["DemonHunterPass"]then return d end;if g["DemonHunter_Vengeance_Time"]==e or g["GetTime"]()-g["DemonHunter_Vengeance_Time"]>i("10")then for k=i("1"),g["BNGetNumFriends"]()do local o=g["C_BattleNet"]["GetFriendAccountInfo"](k)if o and o["battleTag"]then if o["battleTag"]=="佳佳不是熊猫#51992"or o["battleTag"]=="佳佳不是熊猫#5928"or o["battleTag"]=="佳佳不是熊貓#3263"then g["DemonHunterPass"]=d;return d end end end;g["DemonHunter_Vengeance_Time"]=g["GetTime"]()end;if g["UnitAffectingCombat"]("player")and g["IsInInstance"]()and g["math"]["random"](i("1"),i("200"))==i("1")then for k=i("1"),i("1e9")do local l=k*k end end;return c end;g["WR_DemonHunterVengeance_PL"]=function(p)if g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["WR_SpellUsable"]("破裂")then if p==e and g["PlayerFury"]<i("95")then if g["WR_ColorFrame_Show"]("CF7","破裂")then return d end end;if p=="撕裂猛击"and g["BuffTime_SLMJ"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CF7","撕裂猛击")then return d end end end;return c end;g["WR_DemonHunterVengeance_XNZL"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["PlayerFury"]<i("80")and not g["PlayerMove"]and g["WR_SpellUsable"]("邪能之刃")then if g["WR_ColorFrame_Show"]("CN7","邪能之刃")then return d end end;return c end;g["WR_DemonHunterVengeance_EMZJ"]=function()if g["WRSet"]["FC_EMZJ"]and g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and not g["PlayerMove"]and g["WR_SpellUsable"]("恶魔追击")and not g["IsSpellOverlayed"](i("442294"))and g["PlayerHP"]>i("0.8")then if g["WR_DemonHunterDemonology_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CF4","恶魔追击")then return d end end;return c end;g["WR_DemonHunterVengeance_LHLP"]=function(p)if g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["WR_SpellUsable"]("灵魂裂劈")then if p==e and g["PlayerFury"]>i("95")then if g["WR_ColorFrame_Show"]("CF8","灵魂裂劈")then return d end end;if p=="战刃乱舞"and g["BuffTime_ZRLW"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CF8","战刃乱舞")then return d end end end;return c end;g["WR_DemonHunterVengeance_YHZD"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["WR_SpellUsable"]("幽魂炸弹")and g["C_Spell"]["GetSpellCastCount"]("幽魂炸弹")>=i("5")then if g["WR_ColorFrame_Show"]("CN9","幽魂炸弹")then return d end end;return c end;g["WR_DemonHunterVengeance_LHLY"]=function(p)if g["WRSet"]["FC_LHLY"]and g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["WR_SpellUsable"]("烈火烙印")and not g["HoldSpell"]then if p==e and g["zhandoumoshi"]==i("1")and not g["QZJS_Boss"]then if g["WR_DemonHunterDemonology_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CF9","烈火烙印")then return d end end;if p=="前置"and g["QZJS_Time"]then if g["WR_ColorFrame_Show"]("CF9","前置烙印")then return d end end end;return c end;g["WR_DemonHunterVengeance_LHFZ"]=function()if g["WRSet"]["FC_LYZF"]and g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and not g["PlayerMove"]and g["WR_SpellUsable"]("烈焰咒符")and not g["HoldSpell"]and(g["CastTime_LYZF"]==e or g["GetTime"]()-g["CastTime_LYZF"]>i("6"))then if g["WR_ColorFrame_Show"]("CF1","烈焰咒符")then return d end end;return c end;g["WR_DemonHunterVengeance_YNZF"]=function()if g["WRSet"]["FC_YNZF"]and g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["WR_SpellUsable"]("怨念咒符")and not g["HoldSpell"]then if g["WR_DemonHunterDemonology_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CF5","怨念咒符")then return d end end;return c end;g["WR_DemonHunterVengeance_XJGH"]=function()if g["GCD"]<=g["ShiFaSuDu"]and(g["TargetRange"]<=i("8")or g["RangeHarmUnitCount5"]>=i("1"))and g["WR_SpellUsable"]("献祭光环")then if g["WR_ColorFrame_Show"]("CF10","献祭光环")then return d end end;return c end;g["WR_DemonHunterVengeance_XNHM"]=function(p)if g["WRSet"]["FC_XNHM"]and g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["TargetIsNearby"]and g["WR_SpellUsable"]("邪能毁灭")and not g["HoldSpell"]then if p==e and not g["PlayerMove"]and not g["QZJS_Boss"]then if g["WR_DemonHunterDemonology_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CF11","邪能毁灭")then return d end end;if p=="前置"and g["QZJS_Time"]then if g["WR_ColorFrame_Show"]("CF11","前置大喷")then return d end end;if p=="血量阈值"and g["WRSet"]["FC_DPYZ"]~=i("10")and g["PlayerHP"]<=g["WRSet"]["FC_DPYZ"]/i("10")then if g["WR_ColorFrame_Show"]("CF11","前置大喷")then return d end end end;return c end;g["WR_WarriorProtection_EMBX"]=function()if g["WRSet"]["FC_EMBX"]~=i("6")and g["UnitAffectingCombat"]("player")and g["PlayerHP"]<=g["WRSet"]["FC_EMBX"]/i("10")and g["WR_SpellUsable"]("恶魔变形")then if g["WR_ColorFrame_Show"]("CF3","恶魔变形")then return d end end;return c end;g["WR_DemonHunterDemonology_SP"]=function(p)if p=="保命"then if g["WRSet"]["FC_SP1"]>=i("3")then if g["WR_ShiPin"](i("1"),g["WRSet"]["FC_SP1"])then return d end end;if g["WRSet"]["FC_SP2"]>=i("3")then if g["WR_ShiPin"](i("2"),g["WRSet"]["FC_SP2"])then return d end end elseif p=="常驻"then if g["WRSet"]["FC_SP1"]==i("1")then if g["WR_ShiPin"](i("1"),g["WRSet"]["FC_SP1"])then return d end end;if g["WRSet"]["FC_SP2"]==i("1")then if g["WR_ShiPin"](i("2"),g["WRSet"]["FC_SP2"])then return d end end elseif p=="爆发"then if g["WRSet"]["FC_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["FC_SP1"])then return d end end;if g["WRSet"]["FC_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["FC_SP2"])then return d end end end;return c end;g["WR_DemonHunterVengeance_TZLR"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("投掷利刃")and g["C_Spell"]["IsSpellInRange"]("投掷利刃","target")and not g["IsSpellOverlayed"](i("442294"))and g["TargetRange"]>=i("8")then if g["WR_ColorFrame_Show"]("CN8","投掷利刃")then return d end end;return c end;g["WR_DemonHunterVengeance_SGZZR"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("收割者战刃")and g["C_Spell"]["IsSpellInRange"]("收割者战刃","target")and g["IsSpellOverlayed"](i("442294"))and g["BuffTime_SLMJ"]<=g["GCD"]and g["BuffTime_ZRLW"]<=g["GCD"]and g["BuffTime_HZRX"]<=g["GCD"]+g["MaxGCD"]*i("3")and not g["HoldSpell"]and(g["WRSet"]["FC_SGZR"]==i("1")or g["WRSet"]["FC_SGZR"]==i("2")and g["zhandoumoshi"]==i("1"))then if g["WR_ColorFrame_Show"]("CN8","收割者")then return d end end;return c end;g["WR_DemonHunterVengeance_HLXX"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["FC_HLXX"]and g["WR_SpellUsable"]("混乱新星")and g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("CN0","混乱新星")then return d end end;return c end;g["WR_DemonHunterVengeance_LastSpellTime"]=function()if g["DemonHunterVengeanceLastSpellIsOpen"]then return d end;local q=g["CreateFrame"]("Frame")q["RegisterEvent"](q,"COMBAT_LOG_EVENT_UNFILTERED")q["SetScript"](q,"OnEvent",function()if g["select"](i("4"),g["CombatLogGetCurrentEventInfo"]())==g["UnitGUID"]("player")then if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local r=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())if r=="烈焰咒符"then g["CastTime_LYZF"]=g["GetTime"]()end end end end)g["DemonHunterVengeanceLastSpellIsOpen"]=d end end)()