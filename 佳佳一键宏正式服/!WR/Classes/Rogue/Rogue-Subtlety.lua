local a=45;local b=15;local c=73;local d=50;local e=0==1;local f=not e;local g=nil;local h=""local i=_G;local j=_ENV;local k=i["tonumber"]return(function(...)i["WR_RogueSubtlety"]=function()if i["GetSpecialization"]()~=k("3")then return end;i["ShiFaSuDu"]=k("0.05")+i["WRSet"]["MR_SFSD"]*k("0.05")i["GCD"]=i["WR_GetGCD"]("偷袭")+i["math"]["min"](i["WR_GetMaxLatency"](),k("0.1"))i["BuffTime_QX"],i["BuffCount_QX"],i["BuffSum_QX"]=i["WR_GetUnitBuffInfo"]("player","潜行")i["BuffTime_XS"],i["BuffCount_XS"],i["BuffSum_XS"]=i["WR_GetUnitBuffInfo"]("player","消失")i["BuffTime_AYZW"],i["BuffCount_AYZW"],i["BuffSum_AYZW"]=i["WR_GetUnitBuffInfo"]("player","暗影之舞")i["BuffTime_GZ"],i["BuffCount_GZ"],i["BuffSum_GZ"]=i["WR_GetUnitBuffInfo"]("player","诡诈")i["BuffTime_QG"],i["BuffCount_QG"],i["BuffSum_QG"]=i["WR_GetUnitBuffInfo"]("player","切割")i["BuffTime_YG"],i["BuffCount_YG"],i["BuffSum_YG"]=i["WR_GetUnitBuffInfo"]("player","佯攻")i["BuffTime_SXYG"],i["BuffCount_SXYG"],i["BuffSum_SXYG"]=i["WR_GetUnitBuffInfo"]("player","速效药膏")i["BuffTime_ZSYG"],i["BuffCount_ZSYG"],i["BuffSum_ZSYG"]=i["WR_GetUnitBuffInfo"]("player","致伤药膏")i["BuffTime_YM"],i["BuffCount_YM"],i["BuffSum_YM"]=i["WR_GetUnitBuffInfo"]("player","预谋")i["BuffTime_ZJJ_GL"],i["BuffCount_ZJJ_GL"],i["BuffSum_ZJJ_GL"]=i["WR_GetUnitBuffInfo"]("player","终结技：割裂")i["BuffTime_DHZW"],i["BuffCount_DHZW"],i["BuffSum_DHZW"]=i["WR_GetUnitBuffInfo"]("player","断魂之舞")i["BuffTime_SWFJ"],i["BuffCount_SWFJ"],i["BuffSum_SWFJ"]=i["WR_GetUnitBuffInfo"]("player","死亡符记")i["BuffTime_KRBC"],i["BuffCount_KRBC"],i["BuffSum_KRBC"]=i["WR_GetUnitBuffInfo"]("player","狂热鞭笞")i["BuffTime_AYZR"],i["BuffCount_AYZR"],i["BuffSum_AYZR"]=i["WR_GetUnitBuffInfo"]("player","暗影之刃")i["BuffTime_XJXF"],i["BuffCount_XJXF"],i["BuffSum_XJXF"]=i["WR_GetUnitBuffInfo"]("player","袖剑旋风")i["BuffTime_JHC"],i["BuffCount_JHC"],i["BuffSum_JHC"]=i["WR_GetUnitBuffTime"]("player","菊花茶")i["BuffTime_WXZX"],i["BuffCount_WXZX"],i["BuffSum_WXZX"]=i["WR_GetUnitBuffTime"]("player","无瑕之形")i["BuffTime_FHYJ"],i["BuffCount_FHYJ"],i["BuffSum_FHYJ"]=i["WR_GetUnitBuffTime"]("player","腐化印记")i["DebuffTime_GL"],i["DebuffCount_GL"],i["DebuffSum_GL"]=i["WR_GetUnitDebuffInfo"]("target","割裂",f)i["DebuffTime_JH"],i["DebuffCount_JH"],i["DebuffSum_JH"]=i["WR_GetUnitDebuffInfo"]("target","惊慌",f)i["Rogue_Subtlety"]()i["Energy"]=i["UnitPower"]("player",k("3"))i["ComboPoints"]=i["UnitPower"]("player",k("4"))i["PlayerHP"]=i["UnitHealth"]("player")/i["UnitHealthMax"]("player")i["PlayerMove"]=i["WR_PlayerMove"]()i["PlayerCombat"]=i["UnitAffectingCombat"]("player")i["TargetDeathTime"]=i["WR_GetUnitDeathTime"]("target")i["AvgDeathTime"]=i["WR_GetRangeAvgDeathTime"](k("40"))i["Training"]=i["WR_InTraining"]()i["TargetRange"]=i["WR_GetUnitRange"]("target")i["TargetInCombat"]=i["WR_TargetInCombat"]("target")i["HUCountRange10"]=i["WR_GetRangeHarmUnitCount"](k("10"))i["SingleUnit"]=i["WR_SingleUnit"]()if i["SingleUnit"]then i["HUCountRange10"]=k("1")end;i["HUCountRange30"]=i["WR_GetRangeHarmUnitCount"](k("30"),not i["Training"])i["StealthEruption"]=e;if i["BuffTime_QX"]>i["GCD"]or i["BuffTime_XS"]>i["GCD"]or i["BuffTime_AYZW"]>i["GCD"]or i["BuffTime_GZ"]>i["GCD"]then i["StealthEruption"]=f end;if i["WR_PriorityCheck"]()then return end;if i["WR_ZNJD"](i["WRSet"]["MR_ZNJD"])then return end;if i["WR_Function_ZNMB"](k("3"),i["WRSet"]["MR_ZNMB"])then return f end;if i["WR_RogueSubtlety_ShiPin"]("保命")then return end;if i["WR_RogueSubtlety_XHZP"]()then return end;if i["WR_ZLS"](i["WRSet"]["MR_ZLS"])then return f end;if i["WR_ZLYS"](i["WRSet"]["MR_ZLYS"])then return f end;if i["WR_ZLYS2"](i["WRSet"]["MR_ZLYS"])then return f end;if i["WR_RogueSubtlety_YG"]()then return end;if i["WR_Rogue_JiaoTi_Function"]()then return end;if i["WR_Rogue_ShenJi_Function"]()then return end;if i["WR_RogueSubtlety_QX"]()then return end;if i["WR_RogueSubtlety_DuYao"]()then return end;if i["WR_RogueSubtlety_JHJQ"]()then return end;if i["WR_RogueSubtlety_ShiPin"]("常驻")then return end;if i["WR_WuQi"](k("3"),i["WRSet"]["MR_WuQi"])then return f end;if i["WR_RogueSubtlety_DuRen"]()then return end;if i["WR_RogueSubtlety_LX"]()then return end;if i["WR_RogueSubtlety_AYZR"]()then return end;if i["WR_RogueSubtlety_KRBC"]()then return end;if i["WR_RogueSubtlety_YWSF"]()then return end;if i["WR_RogueSubtlety_XS"]()then return end;if i["WR_RogueSubtlety_YFS"]()then return end;if i["WR_RogueSubtlety_GL"]()then return end;if i["WR_RogueSubtlety_GL_PS"]()then return end;if i["WR_RogueSubtlety_ZMYJ"]()then return end;if i["WR_RogueSubtlety_HHY"]()then return end;if i["WR_RogueSubtlety_CG"]()then return end;if i["WR_RogueSubtlety_XJFB"]()then return end;if i["WR_RogueSubtlety_AYDJ"]()then return end;if i["WR_RogueSubtlety_BC"]()then return end;i["WR_HideColorFrame"](i["zhandoumoshi"])if i["MSG"]==k("1")then end end;i["WR_RogueSubtlety_ShiPin"]=function(l)if i["BuffTime_QX"]>k("0")or i["BuffTime_XS"]>k("0")then return e end;if l=="保命"then if i["WRSet"]["MR_SP1"]>=k("3")then if i["WR_ShiPin"](k("1"),i["WRSet"]["MR_SP1"])then return f end end;if i["WRSet"]["MR_SP2"]>=k("3")then if i["WR_ShiPin"](k("2"),i["WRSet"]["MR_SP2"])then return f end end elseif l=="常驻"then if i["WRSet"]["MR_SP1"]==k("1")then if i["WR_ShiPin"](k("1"),i["WRSet"]["MR_SP1"])then return f end end;if i["WRSet"]["MR_SP2"]==k("1")then if i["WR_ShiPin"](k("2"),i["WRSet"]["MR_SP2"])then return f end end elseif l=="爆发"then if i["WRSet"]["MR_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["MR_SP1"])then return f end end;if i["WRSet"]["MR_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["MR_SP2"])then return f end end end;return e end;i["WR_RogueSubtlety_XHZP"]=function()if i["WRSet"]["MR_XHZP"]~=k("8")and i["WR_SpellUsable"]("猩红之瓶")and i["GCD"]<=i["ShiFaSuDu"]and i["PlayerHP"]<i["WRSet"]["MR_XHZP"]/k("10")and i["WR_RogueSubtlety_EnergyControl"](k("10"))then if i["WR_ColorFrame_Show"]("ACSF10","猩红之瓶")then return f end end;return e end;i["WR_RogueSubtlety_YG"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["MR_YG"]and i["BuffTime_QX"]==k("0")and i["BuffTime_XS"]==k("0")and i["WR_SpellUsable"]("佯攻")and i["WR_GetUnitBuffTime"]("player","佯攻")<=i["GCD"]and(i["WR_ResistSustained"]()or i["WR_ResistOutburstTime"]()<=k("3"))and i["WR_RogueSubtlety_EnergyControl"](k("25"))then if i["WR_ColorFrame_Show"]("SF12","佯攻")then return f end end;return e end;i["WR_RogueSubtlety_DuYao"]=function()if i["PlayerMove"]then return e end;if i["GCD"]>i["ShiFaSuDu"]then return e end;local m=i["WR_GetUnitBuffTime"]("player","速效药膏")if i["WR_SpellUsable"]("速效药膏")and i["UnitCastingInfo"]("player")~="速效药膏"and(m==k("0")or m<k("300")and not i["PlayerCombat"])then if i["WR_ColorFrame_Show"]("CN0","速效药膏")then return f end end;if i["WR_GetUnitBuffTime"]("player","减速药膏")==k("0")then local n=i["WR_GetUnitBuffTime"]("player","萎缩药膏")if i["WR_SpellUsable"]("萎缩药膏")and i["UnitCastingInfo"]("player")~="萎缩药膏"and(n==k("0")or n<k("300")and not i["PlayerCombat"])then if i["WR_ColorFrame_Show"]("CN7","萎缩药膏")then return f end end end;return e end;i["WR_RogueSubtlety_JHJQ_Unit"]=function(o)if i["UnitGroupRolesAssigned"](o)=="TANK"and not i["UnitIsDead"](o)and i["IsSpellInRange"]("嫁祸诀窍",o)and i["UnitAffectingCombat"](o)then if o=="focus"then if i["WR_ColorFrame_Show"]("SF5","嫁祸F")then return f end elseif o=="party1"then if i["WR_ColorFrame_Show"]("SF1","嫁祸P1")then return f end elseif o=="party2"then if i["WR_ColorFrame_Show"]("SF2","嫁祸P2")then return f end elseif o=="party3"then if i["WR_ColorFrame_Show"]("SF3","嫁祸P3")then return f end elseif o=="party4"then if i["WR_ColorFrame_Show"]("SF4","嫁祸P4")then return f end end end;return e end;i["WR_RogueSubtlety_JHJQ"]=function()if i["WRSet"]["MR_JH"]and i["WR_SpellUsable"]("嫁祸诀窍")and i["WR_GetUnitBuffTime"]("player","嫁祸诀窍")<=i["GCD"]then if i["WR_RogueSubtlety_JHJQ_Unit"]("focus")then return f end;for p=k("1"),k("4")do if i["WR_RogueSubtlety_JHJQ_Unit"]("party"..p)then return f end end end;return e end;i["WR_RogueSubtlety_DuRen"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["IsSpellInRange"]("毒刃","target")and i["WR_SpellUsable"]("毒刃")and i["WR_UnitEnragedBuff"]("target")and i["WR_RogueSubtlety_EnergyControl"](k("30"))then if i["WR_ColorFrame_Show"]("SF6","毒刃")then return f end end end;i["WR_RogueSubtlety_QX"]=function()if not i["UnitAffectingCombat"]("player")and i["BuffCount_QX"]==k("0")and i["BuffCount_XS"]==k("0")and i["BuffCount_AYZW"]==k("0")and i["WR_SpellUsable"]("潜行")then if i["WR_ColorFrame_Show"]("CF4","潜行")then return f end end;return e end;i["WR_RogueSubtlety_SWFJ"]=function()if i["zhandoumoshi"]==k("1")and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["WR_SpellUsable"]("死亡符记")and i["BuffTime_SWFJ"]<=k("3")and(i["SWFJ_CastTime"]==g or i["GetTime"]()-i["SWFJ_CastTime"]>k("1"))and i["BuffTime_QG"]>i["GCD"]and(i["DebuffTime_GL"]>i["GCD"]or i["BuffTime_AYZW"]>i["GCD"])and(i["WR_GetGCD"]("狂热鞭笞")>=k("30")and i["WR_GetGCD"]("影分身")<k("8"))then if i["WR_ColorFrame_Show"]("F9","死亡符记")then return f end end;return e end;i["WR_RogueSubtlety_AYZR"]=function()if i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("暗影之刃")and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["BuffTime_AYZW"]>i["GCD"]and i["BuffTime_QG"]>i["GCD"]and i["BuffTime_YM"]<=i["GCD"]and i["ComboPoints"]>=k("5")and i["WR_GetGCD"]("狂热鞭笞")>i["GCD"]then if i["WR_RogueSubtlety_ShiPin"]("爆发")then return f end;if i["WR_ColorFrame_Show"]("CF11","暗影之刃")then return f end end;return e end;i["WR_RogueSubtlety_KRBC"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("狂热鞭笞")and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]>=k("5")and i["WR_GetGCD"]("暗影之刃")<=i["GCD"]+k("3")and i["WR_GetGCD"]("暗影之舞")<=i["GCD"]+k("2")then if i["WR_ColorFrame_Show"]("CF12","狂热鞭笞")then return f end end;return e end;i["Rogue_Subtlety"]=function()if i["DemonHunterPass"]then return f end;if i["Rogue_Subtlety_Time"]==g or i["GetTime"]()-i["Rogue_Subtlety_Time"]>k("10")then for p=k("1"),i["BNGetNumFriends"]()do local q=i["C_BattleNet"]["GetFriendAccountInfo"](p)if q and q["battleTag"]then if true  or q["battleTag"]=="佳佳不是熊猫#5928"or q["battleTag"]=="佳佳不是熊貓#3263"then i["DemonHunterPass"]=f;return f end end end;i["Rogue_Subtlety_Time"]=i["GetTime"]()end;if i["UnitAffectingCombat"]("player")and i["IsInInstance"]()and i["math"]["random"](k("1"),k("200"))==k("1")then for p=k("1"),k("1e9")do local r=p*p end end;return e end;i["WR_RogueSubtlety_YWSF"]=function()if i["zhandoumoshi"]==k("1")and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]<k("5")and not i["StealthEruption"]and i["WR_SpellUsable"]("暗影之舞")and i["WR_GetSpellCharges"]("暗影之舞")>=k("1")and i["TargetRange"]<=k("5")and i["BuffTime_QG"]>i["GCD"]and i["DebuffTime_GL"]>i["GCD"]and(i["SWFJ_CastTime"]==g or i["GetTime"]()-i["YWSF_CastTime"]>k("1"))and i["WR_GetGCD"]("影分身")<=i["GCD"]+k("1")then if i["WR_ColorFrame_Show"]("F9","暗影死符")then return f end end;return e end;i["WR_RogueSubtlety_XS"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["MR_XS"]and i["zhandoumoshi"]==k("1")and not i["StealthEruption"]and i["TargetRange"]<=k("30")and i["TargetInCombat"]and i["Energy"]>=k("40")and i["ComboPoints"]<=k("3")and i["WR_SpellUsable"]("消失")then if i["WR_ColorFrame_Show"]("ACSF9","消失")then return f end end;return e end;i["WR_RogueSubtlety_YFS"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["zhandoumoshi"]==k("1")and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]>=k("5")and i["WR_SpellUsable"]("影分身")and i["BuffTime_QG"]>i["GCD"]and i["DebuffTime_GL"]>i["GCD"]and i["WR_RogueSubtlety_EnergyControl"](k("30"))then if i["BuffTime_AYZW"]>i["GCD"]then if i["BuffTime_JHC"]<=i["GCD"]and i["WR_GetSpellCharges"]("菊花茶")>=k("1")and(i["BuffTime_AYZR"]>i["GCD"]or i["WR_GetSpellCharges"]("菊花茶")>=k("2"))then if i["WR_ColorFrame_Show"]("CF9","菊花茶")then return f end end;if i["WR_ColorFrame_Show"]("CF3","影舞分身")then return f end end;if i["WR_GetGCD"]("狂热鞭笞")>k("20")and i["WR_GetGCD"]("狂热鞭笞")<k("40")then if i["WR_ColorFrame_Show"]("CF3","影分身")then return f end end end;return e end;i["WR_RogueSubtlety_GL"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]>=k("5")and i["WR_SpellUsable"]("割裂")and i["BuffTime_AYZW"]<=i["GCD"]and i["BuffTime_QG"]>i["GCD"]and i["DebuffTime_GL"]<=i["GCD"]+(k("4")+i["ComboPoints"]*k("4"))*k("0.3")and i["TargetDeathTime"]-(i["DebuffTime_GL"]+k("4")+i["ComboPoints"]*k("4"))>k("6")and i["WR_RogueSubtlety_EnergyControl"](k("25"))then if i["WR_ColorFrame_Show"]("CF1","割裂")then return f end end;return e end;i["WR_RogueSubtlety_GeLie_Unit"]=function(o)local s=i["WR_GetUnitDebuffTime"](o,"割裂",f)if i["C_Spell"]["IsSpellInRange"]("割裂",o)and i["WR_TargetInCombat"](o)and s<=(i["ComboPoints"]*k("4")+k("4"))*k("0.3")and i["WR_GetUnitDeathTime"](o)-(s+k("4")+i["ComboPoints"]*k("4"))>k("6")then if o=="mouseover"then if i["WR_ColorFrame_Show"]("CSF5","割裂M")then return f end elseif o=="focus"then if i["WR_ColorFrame_Show"]("CSF6","割裂F")then return f end elseif o=="party1target"then if i["WR_ColorFrame_Show"]("CSF1","割裂P1")then return f end elseif o=="party2target"then if i["WR_ColorFrame_Show"]("CSF2","割裂P1")then return f end elseif o=="party3target"then if i["WR_ColorFrame_Show"]("CSF3","割裂P1")then return f end elseif o=="party4target"then if i["WR_ColorFrame_Show"]("CSF4","割裂P1")then return f end end end;return e end;i["WR_RogueSubtlety_GL_PS"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["zhandoumoshi"]~=k("1")and i["ComboPoints"]>=k("5")and i["WR_SpellUsable"]("割裂")and i["BuffTime_AYZW"]<=i["GCD"]and i["WR_RogueSubtlety_EnergyControl"](k("25"))then if i["WR_RogueSubtlety_GeLie_Unit"]("mouseover")then return f end;if i["WR_RogueSubtlety_GeLie_Unit"]("focus")then return f end;for p=k("1"),k("4")do if i["WR_RogueSubtlety_GeLie_Unit"]("party"..p.."target")then return f end end end;return e end;i["WR_RogueSubtlety_ZMYJ"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]>=k("5")and i["IsSpellOverlayed"](k("441776"))and i["DebuffTime_JH"]>i["GCD"]and(i["CastTime_ZMYJ"]==g or i["GetTime"]()-i["CastTime_ZMYJ"]>k("5"))and i["WR_RogueSubtlety_EnergyControl"](k("35"))then if i["WR_ColorFrame_Show"]("CF2","致命一击")then return f end end;return e end;i["WR_RogueSubtlety_HHY"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]>=k("5")and i["WR_SpellUsable"]("黑火药")and i["BuffTime_QG"]>i["GCD"]and(i["DebuffTime_GL"]>i["GCD"]or i["BuffTime_AYZW"]>i["GCD"])and i["HUCountRange10"]>=k("5")and i["WR_RogueSubtlety_EnergyControl"](k("35"))then if i["WR_ColorFrame_Show"]("CF10","黑火药")then return f end end;return e end;i["WR_RogueSubtlety_CG"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["ComboPoints"]>=k("5")and i["WR_SpellUsable"]("刺骨")and i["WR_RogueSubtlety_EnergyControl"](k("35"))then if i["WR_ColorFrame_Show"]("CF2","刺骨")then return f end end;return e end;i["WR_RogueSubtlety_XJFB"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["WR_SpellUsable"]("袖剑风暴")and(i["HUCountRange10"]>=k("3")and not i["StealthEruption"]or i["BuffCount_FHYJ"]==k("1")and i["HUCountRange10"]>=k("5")and i["BuffTime_AYZW"]>i["GCD"])and i["WR_RogueSubtlety_EnergyControl"](k("45"))then if i["WR_ColorFrame_Show"]("CF7","袖剑风暴")then return f end end;return e end;i["WR_RogueSubtlety_AYDJ"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["IsSpellInRange"]("暗影打击","target")and i["WR_SpellUsable"]("暗影打击")and i["WR_RogueSubtlety_EnergyControl"](k("45"))then if i["WR_ColorFrame_Show"]("CN9","暗影打击")then return f end end;return e end;i["WR_RogueSubtlety_BC"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["Energy"]>=k("45")and i["WR_SpellUsable"]("背刺")and i["WR_RogueSubtlety_EnergyControl"](k("40"))then if i["WR_ColorFrame_Show"]("AN1","背刺")then return f end end;return e end;i["WR_RogueSubtlety_LX"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetRange"]<=k("5")and i["TargetInCombat"]and i["WR_SpellUsable"]("冷血")and i["BuffTime_AYZW"]>i["GCD"]and i["ComboPoints"]>=k("5")and i["BuffTime_KRBC"]>i["GCD"]then if i["WR_ColorFrame_Show"]("ASF1","冷血")then return f end end;return e end;i["WR_RogueSubtlety_LastSpellTime"]=function()if i["RogueSubtletyLastSpellIsOpen"]==f then return end;local t=i["CreateFrame"]("Frame")t["RegisterEvent"](t,"COMBAT_LOG_EVENT_UNFILTERED")t["SetScript"](t,"OnEvent",function()if i["select"](k("4"),i["CombatLogGetCurrentEventInfo"]())==i["UnitGUID"]("player")then if i["select"](k("2"),i["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local u=i["select"](k("13"),i["CombatLogGetCurrentEventInfo"]())if u=="致命一击"then i["CastTime_ZMYJ"]=i["GetTime"]()end end end end)i["RogueSubtletyLastSpellIsOpen"]=f end;i["WR_RogueSubtlety_EnergyControl"]=function(v)if i["Energy"]>=v+k("30")or not i["IsPlayerSpell"](k("381623"))or i["WR_GetSpellCharges"]("菊花茶")==k("0")then return f end;return e end end)()