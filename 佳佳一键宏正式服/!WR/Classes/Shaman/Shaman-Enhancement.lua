local a=44;local b=14;local c=75;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_ShamanEnhancement"]=function()if h["GetSpecialization"]()~=j("2")then return end;h["WR_DebugTime"](j("0"))h["ShiFaSuDu"]=j("0.05")+h["WRSet"]["ZQ_SFSD"]*j("0.05")h["AoeRange"]=j("10")h["GCD"]=h["WR_GetGCD"]("闪电之盾")if h["MaxGCD"]==f then h["MaxGCD"]=h["WR_GetMaxGCD"](j("1.5"))end;h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")h["PlayerMove"]=h["WR_PlayerMove"]()h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["TargetRange"]=h["WR_GetUnitRange"]("target")h["TargetClose"]=h["TargetRange"]<=j("2")or h["C_Spell"]["IsSpellInRange"]("熔岩猛击","target")or h["C_Spell"]["IsSpellInRange"]("霜刃打击","target")h["TargetInRange40"]=h["C_Spell"]["IsSpellInRange"]("烈焰震击","target")or h["C_Spell"]["IsSpellInRange"]("闪电链","target")h["Totem_YD_Time"]=j("0")for k=j("1"),j("40"),j("1")do local l,m,n,o,l=h["GetTotemInfo"](k)if m=="涌动图腾"then h["Totem_YD_Time"]=n+o-h["GetTime"]()if h["Totem_YD_Time"]<j("0")then h["Totem_YD_Time"]=j("0")end end end;h["Shaman_Enhancement"]()h["BuffCount_TTFT"]=h["WR_GetUnitBuffCount"]("player","图腾反弹")h["BuffTime_SWDCC"]=h["WR_GetUnitBuffTime"]("player","霜巫的传承")h["BuffSum_DDWQ"]=h["WR_GetUnitBuffSum"]("player","大地武器")h["BuffTime_FXZT"]=h["WR_GetUnitBuffTime"]("player","飞旋之土")h["BuffTime_FXZQ"]=h["WR_GetUnitBuffTime"]("player","飞旋之气")h["BuffTime_SRDJ"]=h["WR_GetUnitBuffTime"]("player","霜刃打击")h["BuffCount_XWWQ"]=h["WR_GetUnitBuffCount"]("player","漩涡武器")h["TargetDebuffTime_LYZJ"]=h["WR_GetUnitDebuffTime"]("target","烈焰震击",e)h["SYZC_BuffTime"]=h["WR_GetUnitBuffTime"]("player","始源之潮")h["YXLH_BuffTime"],h["YXLH_BuffCount"],h["_"]=h["WR_GetUnitBuffInfo"]("player","野性狼魂")h["KFNH_BuffCount"]=h["WR_GetUnitBuffCount"]("player","狂风怒号")h["_"],h["HBDF_BuffCount"],h["HBDF_BuffSum"]=h["WR_GetUnitBuffInfo"]("player","寒冰刀锋")h["_"],h["RYWQ_BuffCount"],h["RYWQ_BuffSum"]=h["WR_GetUnitBuffInfo"]("player","熔岩武器")h["HMZF_BuffTime"]=h["WR_GetUnitBuffTime"]("player",j("466772"))h["SYFB_BuffTime"]=h["WR_GetUnitBuffTime"]("player","始源风暴")h["FBHJ_BuffTime"]=h["WR_GetUnitBuffTime"]("player","风暴轰击")h["BuffTime_ST"]=h["WR_GetUnitBuffTime"]("player","升腾")h["WolfSum"]=h["WR_GetUnitBuffSum"]("player",j("224125"))+h["WR_GetUnitBuffSum"]("player",j("224126"))+h["WR_GetUnitBuffSum"]("player",j("224127"))h["HUCountRangeAOE"]=h["WR_GetRangeHarmUnitCount"](h["AoeRange"],not h["WR_InTraining"]())h["LYZJCountRangeAOE"]=h["WR_GetHaveDebuffRangeUnitCount"](h["AoeRange"],"烈焰震击",d)h["WR_ShamanEnhancement_LastSpellTime"]()if h["MSG"]==j("1")then h["print"]("----------")end;if h["WR_PriorityCheck"]()then return e end;if h["WR_ZNJD"](h["WRSet"]["ZQ_ZNJD"])then return e end;if h["WR_ShamanEnhancement_SP"]("保命")then return e end;if h["WR_ZLS"](h["WRSet"]["ZQ_ZLS"])then return e end;if h["WR_ZLYS"](h["WRSet"]["ZQ_ZLYS"])then return e end;if h["WR_ZLYS2"](h["WRSet"]["ZQ_ZLYS"])then return e end;if h["WR_Shaman_XJZY"]()then return e end;if h["WR_ShamanEnhancement_ZLZQTT"]()then return e end;if h["WR_ShamanEnhancement_ZLZY"]()then return e end;if h["WR_ShamanEnhancement_YHB"]()then return e end;if h["WR_Shaman_Function_FJ"]()then return e end;if h["WR_ShamanEnhancement_FNWQ"]()then return e end;if h["WR_ShamanEnhancement_HSWQ"]()then return e end;if h["WR_Shaman_TN"]()then return e end;if h["WR_ShamanEnhancement_SDZD"]()then return e end;if h["WR_ShamanEnhancement_DDZD"]()then return e end;if h["WR_ShamanEnhancement_LTFB"]()then return e end;if h["WR_Shaman_Function_QDTT"]()then return e end;if h["WR_Shaman_Function_JHLH"]()then return e end;if h["WR_ShamanEnhancement_ZLTT"]()then return e end;if h["WR_Shaman_Function_JHS"]()then return e end;if h["WR_ShamanEnhancement_TYS"]()then return e end;if h["TargetClose"]and h["TargetInCombat"]then if h["WR_ShamanEnhancement_SP"]("常驻")then return e end;if h["WR_WuQi"](j("3"),h["WRSet"]["ZQ_WuQi"])then return e end end;if h["TargetInCombat"]and h["GCD"]<=h["ShiFaSuDu"]then if h["IsPlayerSpell"](j("444995"))then if h["WR_ShamanEnhancement_Combat_Single_TTJS"]()then return e end;if h["WR_ShamanEnhancement_Combat_AOE_TTJS"]()then return e end else end end;if h["WR_Function_ZNMB"](j("2"),h["WRSet"]["ZQ_ZNMB"])then return e end;if h["WR_Function_ZNMB"](j("10"),h["WRSet"]["ZQ_ZNMB"])then return e end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_ShamanEnhancement_Combat_AOE_TTJS"]=function()if h["HUCountRangeAOE"]<=j("1")or h["WR_SingleUnit"]()then return d end;if h["WR_ShamanEnhancement_YDTT"]()then return e end;if h["WR_ShamanEnhancement_LYZJ"]()then return e end;if h["WR_ShamanEnhancement_YXLH"]()then return e end;if h["WR_ShamanEnhancement_RYMJ"]("熔火突袭")then return e end;if h["WR_ShamanEnhancement_SYZC"]()then return e end;if h["WR_ShamanEnhancement_RYBL"]("霜巫")then return e end;if h["WR_ShamanEnhancement_SDL"]("霜巫")then return e end;if h["WR_ShamanEnhancement_HMSD"]("顺劈")then return e end;if h["WR_ShamanEnhancement_HMZF"]()then return e end;if h["WR_ShamanEnhancement_SYFB"]()then return e end;if h["WR_ShamanEnhancement_RYBL"]("元素3敌")then return e end;if h["WR_ShamanEnhancement_RYMJ"]("灼手")then return e end;if h["WR_ShamanEnhancement_LDS"]("毁风")then return e end;if h["WR_ShamanEnhancement_HMSD"]("静电")then return e end;if h["WR_ShamanEnhancement_RYBL"]("元素满层")then return e end;if h["WR_ShamanEnhancement_SDL"]("满层")then return e end;if h["WR_ShamanEnhancement_LDS"]()then return e end;if h["WR_ShamanEnhancement_LDCY"]()then return e end;if h["WR_ShamanEnhancement_RYMJ"]()then return e end;if h["WR_ShamanEnhancement_HMSD"]()then return e end;if h["WR_ShamanEnhancement_FBDJ"]()then return e end;if h["WR_ShamanEnhancement_RYBL"]("元素冲击")then return e end;if h["WR_ShamanEnhancement_SDL"]()then return e end;if h["WR_ShamanEnhancement_BSZJ"]()then return e end;return d end;h["WR_ShamanEnhancement_Combat_Single_TTJS"]=function()if h["HUCountRangeAOE"]>j("1")and not h["WR_SingleUnit"]()then return d end;if h["WR_ShamanEnhancement_YDTT"]()then return e end;if h["WR_ShamanEnhancement_LYZJ"]()then return e end;if h["WR_ShamanEnhancement_RYMJ"]("灼手")then return e end;if h["WR_ShamanEnhancement_YXLH"]()then return e end;if h["WR_ShamanEnhancement_SYZC"]()then return e end;if h["WR_ShamanEnhancement_RYBL"]("霜巫")then return e end;if h["WR_ShamanEnhancement_SDJ"]("霜巫")then return e end;if h["WR_ShamanEnhancement_HMZF"]()then return e end;if h["WR_ShamanEnhancement_SYFB"]()then return e end;if h["WR_ShamanEnhancement_LDS"]("毁风")then return e end;if h["WR_ShamanEnhancement_HMSD"]("静电")then return e end;if h["WR_ShamanEnhancement_RYBL"]("满层")then return e end;if h["WR_ShamanEnhancement_FBDJ"]("毁风霜巫")then return e end;if h["WR_ShamanEnhancement_SDJ"]("满层")then return e end;if h["WR_ShamanEnhancement_LDS"]()then return e end;if h["WR_ShamanEnhancement_FBDJ"]("毁风轰击")then return e end;if h["WR_ShamanEnhancement_RYMJ"]("飞旋触媒")then return e end;if h["WR_ShamanEnhancement_FBDJ"]()then return e end;if h["WR_ShamanEnhancement_RYMJ"]()then return e end;if h["WR_ShamanEnhancement_HMSD"]()then return e end;if h["WR_ShamanEnhancement_LDCY"]()then return e end;if h["WR_ShamanEnhancement_RYBL"]()then return e end;if h["WR_ShamanEnhancement_SDJ"]()then return e end;if h["WR_ShamanEnhancement_BSZJ"]()then return e end;return d end;h["WR_ShamanEnhancement_YDTT"]=function()if h["WRSet"]["ZQ_YDTT"]and h["TargetClose"]and h["Totem_YD_Time"]<=h["GCD"]and h["WR_SpellUsable"]("涌动图腾")then if h["WR_ColorFrame_Show"]("CF6","涌动图腾")then return e end end;return d end;h["WR_ShamanEnhancement_YXLH"]=function(p)if h["GCD"]<=h["ShiFaSuDu"]and h["TargetInCombat"]and h["zhandoumoshi"]==j("1")and h["TargetRange"]<=j("25")and not h["IsPlayerSpell"](j("469314"))and h["WR_SpellUsable"]("野性狼魂")then if p==f and(h["WR_GetGCD"]("毁灭之风")>j("15")or h["WR_GetGCD"]("毁灭之风")<j("5"))and(h["WR_GetGCD"]("始源之潮")>j("15")or h["WR_GetGCD"]("始源之潮")<j("5")or h["SYFB_BuffTime"]>h["GCD"])then if h["WR_ColorFrame_Show"]("CF1","野性狼魂")then return e end end end;return d end;h["WR_ShamanEnhancement_LYZJ"]=function()if h["TargetInRange40"]and h["TargetDebuffTime_LYZJ"]<=h["GCD"]and h["WR_SpellUsable"]("烈焰震击")then if h["WR_ColorFrame_Show"]("CF2","烈焰震击")then return e end end;return d end;h["WR_ShamanEnhancement_SYZC"]=function()if h["TargetRange"]<=j("10")and h["zhandoumoshi"]==j("1")and h["SYFB_BuffTime"]<=h["GCD"]and h["WR_SpellUsable"]("始源之潮")then if h["WR_ColorFrame_Show"]("CF11","始源之潮")then return e end end;return d end;h["WR_ShamanEnhancement_SYFB"]=function()if h["TargetClose"]and h["zhandoumoshi"]==j("1")and h["SYFB_BuffTime"]>h["GCD"]and h["BuffCount_XWWQ"]>=j("10")and h["WR_SpellUsable"]("始源之潮")then if h["WR_ColorFrame_Show"]("CF11","始源之潮")then return e end end;return d end;h["WR_ShamanEnhancement_HMSD"]=function(p)if h["TargetClose"]and h["WR_SpellUsable"]("毁灭闪电")then if p=="顺劈"and h["WR_GetUnitBuffTime"]("player",j("187878"))<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF9","顺劈毁闪")then return e end end;if p=="静电"and h["WR_GetUnitBuffTime"]("player","静电注码")>=j("8")then if h["WR_ColorFrame_Show"]("CF9","静电毁闪")then return e end end;if p==f then if h["WR_ColorFrame_Show"]("CF9","毁灭闪电")then return e end end end;return d end;h["WR_ShamanEnhancement_HMZF"]=function(p)if h["WRSet"]["ZQ_HMZF"]and h["TargetClose"]and h["WR_SpellUsable"]("毁灭之风")and h["zhandoumoshi"]==j("1")then if h["WR_ShamanEnhancement_SP"]("爆发")then return e end;if h["WR_ColorFrame_Show"]("CSK","毁灭之风")then return e end end;return d end;h["WR_ShamanEnhancement_RYMJ"]=function(p)if h["TargetClose"]and h["WR_SpellUsable"]("熔岩猛击")then if p=="灼手"and h["WR_GetUnitBuffTime"]("player","灼热之手")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","灼手火打")then return e end end;if p==f then if h["WR_ColorFrame_Show"]("CF3","熔岩猛击")then return e end end;if p=="飞旋触媒"and(h["WR_GetUnitBuffTime"]("player","飞旋之火")>h["GCD"]or h["WR_GetUnitBuffTime"]("player","灰烬触媒")>=j("8"))then if h["WR_ColorFrame_Show"]("CF3","熔岩猛击")then return e end end;if p=="熔火突袭"and h["IsPlayerSpell"](j("334033"))and h["TargetDebuffTime_LYZJ"]>h["GCD"]and h["LYZJCountRangeAOE"]<h["HUCountRangeAOE"]and h["LYZJCountRangeAOE"]<j("6")then if h["WR_ColorFrame_Show"]("CF3","熔火突袭")then return e end end end;return d end;h["WR_ShamanEnhancement_LDS"]=function(p)if h["TargetClose"]and h["WR_SpellUsable"]("裂地术")then if p=="毁风"and h["HMZF_BuffTime"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CSJ","毁风裂地")then return e end end;if p==f then if h["WR_ColorFrame_Show"]("CSJ","裂地术")then return e end end end;return d end;h["WR_ShamanEnhancement_SDL"]=function(p)if h["TargetInRange40"]and h["WR_SpellUsable"]("闪电链")and h["BuffCount_XWWQ"]>=j("5")then if p=="霜巫"and h["TargetClose"]and h["zhandoumoshi"]==j("1")and h["BuffTime_SWDCC"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")and h["WR_GetGCD"]("毁灭之风")<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF5","霜巫电链")then return e end end;if p=="满层"and h["SYFB_BuffTime"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")then if h["WR_ColorFrame_Show"]("CF5","满层电链")then return e end end;if p==f and h["SYFB_BuffTime"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF5","闪电链")then return e end end end;return d end;h["WR_ShamanEnhancement_SDJ"]=function(p)if h["TargetInRange40"]and h["WR_SpellUsable"]("闪电箭")and h["BuffCount_XWWQ"]>=j("5")then if p=="霜巫"and h["TargetClose"]and h["zhandoumoshi"]==j("1")and h["BuffTime_SWDCC"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")and h["WR_GetGCD"]("毁灭之风")<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF4","霜巫电箭")then return e end end;if p=="满层"and h["SYFB_BuffTime"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")then if h["WR_ColorFrame_Show"]("CF4","满层电箭")then return e end end;if p==f and h["SYFB_BuffTime"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF4","闪电箭")then return e end end end;return d end;h["WR_ShamanEnhancement_RYBL"]=function(p)if h["TargetInRange40"]and h["WR_SpellUsable"]("熔岩爆裂")and h["BuffCount_XWWQ"]>=j("5")then if p=="霜巫"and h["TargetClose"]and h["zhandoumoshi"]==j("1")and h["BuffTime_SWDCC"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")and h["WR_GetGCD"]("毁灭之风")<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACSF1","霜巫爆裂")then return e end end;if p=="满层"and h["SYFB_BuffTime"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")then if h["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return e end end;if p==f and h["SYFB_BuffTime"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACSF1","熔岩爆裂")then return e end end;if p=="元素满层"and h["IsPlayerSpell"](j("117014"))and h["SYFB_BuffTime"]<=h["GCD"]and h["BuffCount_XWWQ"]>=j("10")then if h["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return e end end;if p=="元素冲击"and h["IsPlayerSpell"](j("117014"))and h["SYFB_BuffTime"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return e end end;if p=="元素3敌"and h["IsPlayerSpell"](j("117014"))and h["BuffCount_XWWQ"]>=j("10")and h["HUCountRangeAOE"]<=j("3")and h["SYFB_BuffTime"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return e end end end;return d end;h["WR_ShamanEnhancement_LDCY"]=function()if h["TargetInRange40"]and h["WR_GetUnitBuffTime"]("player","流电炽焰")>h["GCD"]and h["WR_SpellUsable"]("流电炽焰")then if h["WR_ColorFrame_Show"]("CF2","流电炽焰")then return e end end;return d end;h["WR_ShamanEnhancement_FBDJ"]=function(p)if h["TargetClose"]and h["WR_SpellUsable"]("风暴打击")then if p==f then if h["WR_ColorFrame_Show"]("CSF7","风暴打击")then return e end end;if p=="毁风霜巫"and h["HMZF_BuffTime"]>h["GCD"]and h["BuffTime_SWDCC"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CSF7","毁风风打")then return e end end;if p=="毁风轰击"and(h["HMZF_BuffTime"]>h["GCD"]or h["FBHJ_BuffTime"]>h["GCD"])then if h["WR_ColorFrame_Show"]("CSF7","毁风轰击")then return e end end end;return d end;h["WR_ShamanEnhancement_BSZJ"]=function()if h["TargetInRange40"]and h["WR_SpellUsable"]("冰霜震击")then if h["WR_ColorFrame_Show"]("CSH","冰霜震击")then return e end end;return d end;h["WR_ShamanEnhancement_SP"]=function(p)if p=="保命"then if h["WRSet"]["ZQ_SP1"]>=j("3")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZQ_SP1"])then return e end end;if h["WRSet"]["ZQ_SP2"]>=j("3")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZQ_SP2"])then return e end end elseif p=="常驻"then if h["WRSet"]["ZQ_SP1"]==j("1")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZQ_SP1"])then return e end end;if h["WRSet"]["ZQ_SP2"]==j("1")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZQ_SP2"])then return e end end elseif p=="爆发"then if h["WRSet"]["ZQ_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZQ_SP1"])then return e end end;if h["WRSet"]["ZQ_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZQ_SP2"])then return e end end end;return d end;h["WR_ShamanEnhancement_Combat_Single"]=function()if h["HUCountRangeAOE"]>j("1")and not h["WR_SingleUnit"]()then return d end;if h["zhandoumoshi"]==j("1")and h["TargetRange"]<=j("25")and not h["IsPlayerSpell"](j("469314"))and h["WR_SpellUsable"]("野性狼魂")then if h["WR_ColorFrame_Show"]("CF1","狼魂S1")then return e end end;if h["TargetInRange40"]and h["TargetDebuffTime_LYZJ"]<=h["GCD"]and h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("始源之潮")then if h["WR_ColorFrame_Show"]("CF11","始源S1")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("熔岩猛击")and h["IsPlayerSpell"](j("334046"))and h["WR_GetUnitDebuffInfo"]("target","鞭笞烈焰",e)<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","火打S0")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("风暴打击")and h["BuffCount_XWWQ"]<j("2")and h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_ST"]and h["WR_SpellUsable"]("升腾")then if h["WR_ColorFrame_Show"]("CSF7","风打S0")then return e end end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_ST"]and h["TargetRange"]<=h["AoeRange"]and h["WR_SpellUsable"]("升腾")and h["TargetDebuffTime_LYZJ"]>h["GCD"]and h["LastSpell"]~="闪电链"and h["BuffCount_XWWQ"]>=j("2")then if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZQ_SP1"])then return e end end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZQ_SP2"])then return e end end;if h["WR_ColorFrame_Show"]("CF10","升腾S1")then return e end end;if h["TargetInRange40"]and h["KFNH_BuffCount"]>h["GCD"]and h["WR_SpellUsable"]("狂风怒号")and(h["BuffCount_XWWQ"]>=j("10")or h["KFNH_BuffCount"]>=j("2")and h["WR_GetUnitBuffCount"]("player","觉醒风暴")>=j("2")and h["BuffCount_XWWQ"]>=j("5"))then if h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF4","怒号S1")then return e end else if h["IsPlayerSpell"](j("117014"))and h["WR_SpellUsable"]("元素冲击")then if h["WR_ColorFrame_Show"]("CSP","冲击NS1")then return e end elseif h["IsPlayerSpell"](j("51505"))and h["WR_SpellUsable"]("熔岩爆裂")then if h["WR_ColorFrame_Show"]("ACSF1","爆裂NS1")then return e end else if h["WR_ColorFrame_Show"]("CF5","电链NS1")then return e end end end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("元素冲击")and h["BuffCount_XWWQ"]>=j("10")and h["IsPlayerSpell"](j("262624"))and h["WolfSum"]>=j("6")and(h["WR_GetSpellNextCharge"]("元素冲击")<j("2.4")or h["WR_GetUnitBuffTime"]("player","升腾")>h["GCD"])then if h["WR_ColorFrame_Show"]("CSP","冲击S1")then return e end end;if h["TargetRange"]<=j("30")and h["C_Spell"]["IsSpellUsable"]("风切")and h["WR_GetGCD"]("风切")<=h["GCD"]+j("0.3")and h["WR_GetUnitBuffTime"]("player","升腾")>h["WR_GetGCD"]("风切")+j("0.2")and h["BuffCount_XWWQ"]>j("0")and h["LastSpell"]~="闪电链"and h["WR_GetSpellCharges"]("风切")>=j("2")then if h["WR_ColorFrame_Show"]("CSF7","风切S0")then return e end end;if h["WRSet"]["ZQ_HMZF"]and h["TargetClose"]and h["WR_SpellUsable"]("毁灭之风")and h["zhandoumoshi"]==j("1")and h["IsPlayerSpell"](j("262624"))and h["IsPlayerSpell"](j("114051"))and h["BuffCount_XWWQ"]>=j("2")then if h["WR_ColorFrame_Show"]("CSK","毁风S0")then return e end end;if h["TargetRange"]<=j("30")and h["C_Spell"]["IsSpellUsable"]("风切")and h["WR_GetGCD"]("风切")<=h["GCD"]+j("0.3")and h["WR_GetUnitBuffTime"]("player","升腾")>h["WR_GetGCD"]("风切")+j("0.2")and h["BuffCount_XWWQ"]>j("0")and h["LastSpell"]~="闪电链"then if h["WR_ColorFrame_Show"]("CSF7","风切S1")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")and h["TargetDebuffTime_LYZJ"]<=h["GCD"]and h["IsPlayerSpell"](j("390370"))then if h["WR_ColorFrame_Show"]("CF2","火震S1")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("闪电箭")and h["KFNH_BuffCount"]==j("0")and h["BuffCount_XWWQ"]>=j("10")and h["SYZC_BuffTime"]>h["GCD"]then if h["KFNH_BuffCount"]==j("0")or h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF4","电箭S0")then return e end else if h["IsPlayerSpell"](j("117014"))and h["WR_SpellUsable"]("元素冲击")then if h["WR_ColorFrame_Show"]("CSP","冲击JS0")then return e end else if h["WR_ColorFrame_Show"]("CF5","电链JS0")then return e end end end end;if h["TargetInRange40"]and h["KFNH_BuffCount"]>h["GCD"]and h["WR_SpellUsable"]("狂风怒号")and h["BuffCount_XWWQ"]>=j("8")then if h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF4","怒号S2")then return e end else if h["IsPlayerSpell"](j("117014"))and h["WR_SpellUsable"]("元素冲击")then if h["WR_ColorFrame_Show"]("CSP","冲击NS2")then return e end elseif h["IsPlayerSpell"](j("51505"))and h["WR_SpellUsable"]("熔岩爆裂")then if h["WR_ColorFrame_Show"]("ACSF1","爆裂NS2")then return e end else if h["WR_ColorFrame_Show"]("CF5","电链NS2")then return e end end end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("始源之潮")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF11","始源S2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("元素冲击")and h["BuffCount_XWWQ"]>=j("8")and h["WolfSum"]>=j("4")and(h["WR_GetUnitBuffTime"]("player","升腾")<=h["GCD"]or h["WR_GetSpellNextCharge"]("元素冲击")<j("2.4"))then if h["WR_ColorFrame_Show"]("CSP","冲击S2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("闪电箭")and h["KFNH_BuffCount"]==j("0")and h["BuffCount_XWWQ"]>=j("8")then if h["KFNH_BuffCount"]==j("0")or h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF4","电箭S1")then return e end else if h["IsPlayerSpell"](j("117014"))and h["WR_SpellUsable"]("元素冲击")then if h["WR_ColorFrame_Show"]("CSP","冲击JS1")then return e end else if h["WR_ColorFrame_Show"]("CF5","电链JS1")then return e end end end end;if h["TargetClose"]and h["WR_SpellUsable"]("风暴打击")and(h["HMZF_BuffTime"]>h["GCD"]or h["IsPlayerSpell"](j("319930"))and h["WR_GetUnitBuffTime"]("player",j("201846"))>h["GCD"]and h["WR_GetSpellCharges"]("风暴打击")>=j("2"))then if h["WR_ColorFrame_Show"]("CSF7","风打S1")then return e end end;if h["TargetInRange40"]and h["WR_GetUnitBuffTime"]("player","流电炽焰")>h["GCD"]and h["WR_SpellUsable"]("流电炽焰")and h["HMZF_BuffTime"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF2","流电S1")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("霜刃打击")and h["IsPlayerSpell"](j("210853"))and h["IsPlayerSpell"](j("384359"))and h["IsPlayerSpell"](j("384447"))then if h["WR_ColorFrame_Show"]("CSL","霜打S1")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("风暴打击")then if h["WR_ColorFrame_Show"]("CSF7","风打S2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("闪电箭")and h["BuffCount_XWWQ"]>=j("5")and h["KFNH_BuffCount"]==j("0")then if h["KFNH_BuffCount"]==j("0")or h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF4","电箭S2")then return e end else if h["IsPlayerSpell"](j("117014"))and h["WR_SpellUsable"]("元素冲击")then if h["WR_ColorFrame_Show"]("CSP","冲击JS2")then return e end else if h["WR_ColorFrame_Show"]("CF5","电链JS2")then return e end end end end;if h["TargetInRange40"]and h["WR_GetUnitBuffTime"]("player","流电炽焰")>h["GCD"]and h["WR_SpellUsable"]("流电炽焰")then if h["WR_ColorFrame_Show"]("CF2","流电S2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("冰霜震击")and h["WR_GetUnitBuffTime"]("player","冰雹")>h["GCD"]and h["WR_GetUnitBuffTime"]("player","霜刃打击")>h["GCD"]and h["IsPlayerSpell"](j("384359"))and h["IsPlayerSpell"](j("114051"))then if h["WR_ColorFrame_Show"]("CSH","冰震S1")then return e end end;if h["WRSet"]["ZQ_HMZF"]and h["TargetClose"]and h["WR_SpellUsable"]("毁灭之风")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CSK","毁风S0")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("闪电箭")and h["KFNH_BuffCount"]==j("0")and h["WR_GetUnitBuffTime"]("player","弧形放电")>h["GCD"]then if h["KFNH_BuffCount"]==j("0")or h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF4","电箭S3")then return e end else if h["IsPlayerSpell"](j("117014"))and h["WR_SpellUsable"]("元素冲击")then if h["WR_ColorFrame_Show"]("CSP","冲击JS3")then return e end else if h["WR_ColorFrame_Show"]("CF5","电链JS3")then return e end end end end;if h["TargetClose"]and h["WR_SpellUsable"]("熔岩猛击")and h["IsPlayerSpell"](j("210853"))and h["IsPlayerSpell"](j("454009"))and h["IsPlayerSpell"](j("334033"))and h["TargetDebuffTime_LYZJ"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","火打S1")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")and h["TargetDebuffTime_LYZJ"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF2","火震S2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("冰霜震击")and h["WR_GetUnitBuffTime"]("player","冰雹")>h["GCD"]then if h["WR_ColorFrame_Show"]("CSH","冰震S2")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("熔岩猛击")then if h["WR_ColorFrame_Show"]("CF3","火打S2")then return e end end;if h["TargetRange"]<=j("30")and h["C_Spell"]["IsSpellUsable"]("风切")and h["WR_GetGCD"]("风切")<=h["GCD"]+j("0.3")and h["WR_GetUnitBuffTime"]("player","升腾")>h["WR_GetGCD"]("风切")+j("0.2")then if h["WR_ColorFrame_Show"]("CSF7","风切S2")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("裂地术")then if h["WR_ColorFrame_Show"]("CSJ","裂地S1")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("冰霜震击")then if h["WR_ColorFrame_Show"]("CSH","冰震S3")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("毁灭闪电")then if h["WR_ColorFrame_Show"]("CF9","毁闪S1")then return e end end;if h["WR_ShamanEnhancement_TYS"]()then return e end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")then if h["WR_ColorFrame_Show"]("CF2","火震S3")then return e end end;return d end;h["WR_ShamanEnhancement_Combat_AOE"]=function()if h["HUCountRangeAOE"]<=j("1")or h["WR_SingleUnit"]()then return d end;if h["WR_GetUnitBuffTime"]("player","升腾")<=h["GCD"]then if h["TargetInRange40"]and h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("始源之潮")and(h["TargetDebuffTime_LYZJ"]<=h["GCD"]or h["KFNH_BuffCount"]>h["GCD"])then if h["WR_ColorFrame_Show"]("CF11","始源A0")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")and h["TargetDebuffTime_LYZJ"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF2","火震A0")then return e end end;if h["TargetClose"]and h["WR_SpellUsable"]("毁灭闪电")and h["WR_GetUnitBuffTime"]("player",j("187878"))<=h["GCD"]and h["BuffCount_XWWQ"]<j("10")then if h["WR_ColorFrame_Show"]("CF9","毁闪A0")then return e end end;if h["WR_SpellUsable"]("熔岩猛击")and h["WR_GetUnitDebuffTime"](h["BeatUnit_RYMJ"],"烈焰震击",e)>h["GCD"]and h["LYZJCountRangeAOE"]<h["HUCountRangeAOE"]and h["LYZJCountRangeAOE"]<j("6")and(h["BuffCount_XWWQ"]<j("10")or h["SYZC_BuffTime"]>h["GCD"])then if h["WR_ShamanEnhancement_RYMJ"](h["BeatUnit_RYMJ"],"A0")then return e end end end;if h["zhandoumoshi"]==j("1")and h["TargetRange"]<=j("25")and not h["IsPlayerSpell"](j("469314"))and h["WR_SpellUsable"]("野性狼魂")then if h["WR_ColorFrame_Show"]("CF1","狼魂A1")then return e end end;if h["WRSet"]["ZQ_HMZF"]and h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("毁灭之风")and h["zhandoumoshi"]==j("1")and h["BuffTime_ST"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CSK","毁风A0")then return e end end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_ST"]and h["TargetRange"]<=h["AoeRange"]and h["WR_SpellUsable"]("升腾")and h["TargetDebuffTime_LYZJ"]>h["GCD"]and h["LastSpell"]=="闪电链"then if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZQ_SP1"])then return e end end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZQ_SP2"])then return e end end;if h["WR_ColorFrame_Show"]("CF10","升腾A1")then return e end end;if h["WR_SpellUsable"]("狂风怒号")and h["KFNH_BuffCount"]>h["GCD"]and h["BuffCount_XWWQ"]>=j("5")and(h["WR_GetUnitBuffTime"]("player","弧形放电")<=h["GCD"]and h["BuffCount_XWWQ"]>=j("8")or h["WR_GetUnitBuffCount"]("player","觉醒风暴")==j("2")or h["KFNH_BuffCount"]>=j("2")and h["SYZC_BuffTime"]>h["GCD"]and h["BuffCount_XWWQ"]>=j("8"))then if h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ShamanEnhancement_KFNH"](h["BeatUnit_YLZ"],"A1")then return e end else if h["WR_ShamanEnhancement_SDL"](h["BeatUnit_YLZ"],"NA1")then return e end end end;if h["C_Spell"]["IsSpellUsable"]("风切")and h["WR_GetGCD"]("风切")<=h["GCD"]+j("0.3")and h["WR_GetUnitBuffTime"]("player","升腾")>h["WR_GetGCD"]("风切")+j("0.2")and h["IsPlayerSpell"](j("384444"))and h["BuffCount_XWWQ"]>j("0")and h["LastSpell"]=="闪电链"then if h["WR_ShamanEnhancement_FQ"](h["BeatUnit_YLZ"],"A1")then return e end end;if h["WR_SpellUsable"]("闪电箭")and(h["KFNH_BuffCount"]>=j("1")or h["SYZC_BuffTime"]<=j("5"))and(h["LYZJCountRangeAOE"]==h["HUCountRangeAOE"]or h["LYZJCountRangeAOE"]==j("6"))and h["SYZC_BuffTime"]>h["GCD"]and h["BuffCount_XWWQ"]>=j("10")then if h["KFNH_BuffCount"]==j("0")or h["WRSet"]["ZQ_KFNH"]==j("1")or h["WRSet"]["ZQ_KFNH"]==j("2")and h["zhandoumoshi"]==j("1")then if h["WR_ShamanEnhancement_SDJ"](h["BeatUnit_YLZ"],"A1")then return e end else if h["WR_ShamanEnhancement_SDL"](h["BeatUnit_YLZ"],"JA1")then return e end end end;if h["WR_GetUnitBuffTime"]("player","流电炽焰")>h["GCD"]and h["WR_SpellUsable"]("流电炽焰")and h["BuffCount_XWWQ"]<=j("8")then if h["WR_ColorFrame_Show"]("CF2","流电A1")then return e end end;if h["WR_SpellUsable"]("熔岩猛击")and h["IsPlayerSpell"](j("334033"))and(h["IsPlayerSpell"](j("375982"))or h["IsPlayerSpell"](j("333974")))and h["WR_GetUnitDebuffTime"](h["BeatUnit_RYMJ"],"烈焰震击",e)>h["GCD"]and h["LYZJCountRangeAOE"]<h["HUCountRangeAOE"]and h["LYZJCountRangeAOE"]<j("6")then if h["WR_ShamanEnhancement_RYMJ"](h["BeatUnit_RYMJ"],"A1")then return e end end;if h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("始源之潮")then if h["WR_ShamanEnhancement_SYZC"](h["BeatUnit_LYZJ"],"A1")then return e end end;if h["WR_SpellUsable"]("闪电链")and h["WR_GetUnitBuffTime"]("player","弧形放电")>h["GCD"]and h["BuffCount_XWWQ"]>=j("5")then if h["WR_ShamanEnhancement_SDL"](h["BeatUnit_YLZ"],"A1")then return e end end;if h["TargetInCombat"]and h["IsSpellInRange"]("元素冲击","target")and h["WR_SpellUsable"]("元素冲击")and(h["WR_GetSpellCharges"]("元素冲击")>=j("2")or h["WR_GetSpellNextCharge"]("元素冲击")<=h["GCD"]+j("1")or h["WolfSum"]>=j("2"))and h["BuffCount_XWWQ"]>=j("10")and(not h["IsPlayerSpell"](j("334308"))or h["HUCountRangeAOE"]<=j("3"))then if h["WR_ColorFrame_Show"]("CSP","冲击A1")then return e end end;if h["WR_SpellUsable"]("闪电链")and h["BuffCount_XWWQ"]>=j("8")then if h["WR_ShamanEnhancement_SDL"](h["BeatUnit_YLZ"],"A2")then return e end end;if h["WRSet"]["ZQ_HMZF"]and h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("毁灭之风")and h["zhandoumoshi"]==j("1")and h["LastSpell"]=="闪电链"then if h["WR_ColorFrame_Show"]("CSK","毁风A1")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("毁灭闪电")and(h["HMZF_BuffTime"]>h["GCD"]and h["HUCountRangeAOE"]>=j("4")or h["WR_GetUnitBuffTime"]("player",j("187878"))<=h["GCD"])then if h["WR_ColorFrame_Show"]("CF9","毁闪A1")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("裂地术")and h["HMZF_BuffTime"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CSJ","裂地A1")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("火焰新星")and(h["LYZJCountRangeAOE"]==j("6")or h["LYZJCountRangeAOE"]>=j("4")and h["LYZJCountRangeAOE"]==h["HUCountRangeAOE"])then if h["WR_ColorFrame_Show"]("CF7","火星A1")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("风暴打击")and h["IsPlayerSpell"](j("319930"))and h["IsPlayerSpell"](j("344357"))then if h["WR_ColorFrame_Show"]("CSF7","风打A0")then return e end end;if h["WR_GetUnitBuffTime"]("player","流电炽焰")>h["GCD"]and h["WR_SpellUsable"]("流电炽焰")then if h["WR_ColorFrame_Show"]("CF2","流电A2")then return e end end;if h["WR_SpellUsable"]("熔岩猛击")and h["WR_GetUnitDebuffTime"](h["BeatUnit_RYMJ"],"烈焰震击",e)>h["GCD"]and(h["IsPlayerSpell"](j("334046"))or h["IsPlayerSpell"](j("334033")))then if h["WR_ShamanEnhancement_RYMJ"](h["BeatUnit_RYMJ"],"A2")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("霜刃打击")and h["IsPlayerSpell"](j("334195"))and h["WR_GetUnitBuffTime"]("player","霜刃打击")<=h["GCD"]then if h["WR_ColorFrame_Show"]("CSL","霜打A1")then return e end end;if h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["WR_SpellUsable"]("冰霜震击")and h["IsPlayerSpell"](j("334195"))and h["WR_GetUnitBuffTime"]("player","冰雹")>h["GCD"]then if h["WR_ColorFrame_Show"]("CSH","冰震A1")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("裂地术")then if h["WR_ColorFrame_Show"]("CSJ","裂地A2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")and h["IsPlayerSpell"](j("334033"))and h["TargetDebuffTime_LYZJ"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF2","火震A1")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")and h["LYZJCountRangeAOE"]<h["HUCountRangeAOE"]and h["LYZJCountRangeAOE"]<j("6")then if h["WR_ShamanEnhancement_LYZJ"](h["BeatUnit_LYZJ"],"A2")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("火焰新星")and h["LYZJCountRangeAOE"]>=j("3")then if h["WR_ColorFrame_Show"]("CF7","火星A2")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("风暴打击")and h["WR_GetUnitBuffTime"]("player",j("187878"))>h["GCD"]and(h["IsPlayerSpell"](j("378270"))or h["WR_GetUnitBuffCount"]("player","汇聚风暴")>=j("6"))then if h["WR_ColorFrame_Show"]("CSF7","风打A1")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("毁灭闪电")and h["IsPlayerSpell"](j("334308"))and h["WR_GetUnitBuffTime"]("player",j("333964"))>h["GCD"]and h["HUCountRangeAOE"]>=j("4")then if h["WR_ColorFrame_Show"]("CF9","毁闪A2")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("风暴打击")then if h["WR_ColorFrame_Show"]("CSF7","风打A2")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("霜刃打击")then if h["WR_ColorFrame_Show"]("CSL","霜打A2")then return e end end;if h["WR_SpellUsable"]("熔岩猛击")then if h["WR_ShamanEnhancement_RYMJ"](h["BeatUnit_RYMJ"],"A3")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("毁灭闪电")then if h["WR_ColorFrame_Show"]("CF9","毁闪A3")then return e end end;if h["TargetClose"]and h["TargetInCombat"]and h["WR_SpellUsable"]("火焰新星")and h["LYZJCountRangeAOE"]>=j("2")then if h["WR_ColorFrame_Show"]("CF7","火星A3")then return e end end;if h["TargetInCombat"]and h["IsSpellInRange"]("元素冲击","target")and h["WR_SpellUsable"]("元素冲击")and(h["WR_GetSpellCharges"]("元素冲击")>=j("2")or h["WR_GetSpellNextCharge"]("元素冲击")<=h["GCD"]+j("1")or h["WolfSum"]>=j("2"))and h["BuffCount_XWWQ"]>=j("5")and(not h["IsPlayerSpell"](j("334308"))or h["HUCountRangeAOE"]<=j("3"))then if h["WR_ColorFrame_Show"]("CSP","冲击A2")then return e end end;if h["TargetInRange40"]and h["WR_SpellUsable"]("烈焰震击")and h["WR_GetUnitDebuffTime"](h["BeatUnit_LYZJ"],"烈焰震击",e)<=h["GCD"]then if h["WR_ShamanEnhancement_LYZJ"](h["BeatUnit_LYZJ"],"A3")then return e end end;if h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["WR_SpellUsable"]("冰霜震击")and not h["IsPlayerSpell"](j("334195"))then if h["WR_ColorFrame_Show"]("CSH","冰震A2")then return e end end;return d end;h["WR_ShamanEnhancement_LastSpellTime"]=function()if h["LastSpellIsOpen"]then return end;local q=h["CreateFrame"]("Frame")q["RegisterEvent"](q,"COMBAT_LOG_EVENT_UNFILTERED")q["SetScript"](q,"OnEvent",function()if h["select"](j("4"),h["CombatLogGetCurrentEventInfo"]())==h["UnitGUID"]("player")then if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local r=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if r=="风暴打击"then h["CastTime_FBDJ"]=h["GetTime"]()elseif r=="风切"then h["CastTime_FQ"]=h["GetTime"]()elseif r=="闪电箭"then h["CastTime_SDJ"]=h["GetTime"]()h["LastSpell"]="闪电箭"elseif r=="闪电链"then h["CastTime_SDL"]=h["GetTime"]()h["LastSpell"]="闪电链"elseif r=="狂风怒号"then h["CastTime_KFNH"]=h["GetTime"]()end end end end)h["LastSpellIsOpen"]=e end;h["WR_ShamanEnhancement_GetBeatUnit_YLZ"]=function()if not h["IsPlayerSpell"](j("455123"))then return"target"end;local s=j("0")local t=g;if h["WR_GetUnitRange"]("target")<=h["AoeRange"]and h["WR_TargetInCombat"]("target")then local u=j("8")-h["WR_GetUnitDebuffTime"]("target","引雷针",e)if u==j("8")then return"target"elseif u>s then s=u;t="target"end end;if h["WR_GetUnitRange"]("mouseover")<=h["AoeRange"]and h["WR_TargetInCombat"]("mouseover")then local u=j("8")-h["WR_GetUnitDebuffTime"]("mouseover","引雷针",e)if u==j("8")then return"mouseover"elseif u>s then s=u;t="mouseover"end end;for k=j("1"),j("4")do local v="party"..k.."target"if h["WR_GetUnitRange"](v)<=h["AoeRange"]and h["WR_TargetInCombat"](v)then local u=j("8")-h["WR_GetUnitDebuffTime"](v,"引雷针",e)if u==j("8")then return v elseif u>s then s=u;t=v end end end;if t==g then return"target"end;return t end;h["WR_ShamanEnhancement_GetBeatUnit_LYZJ"]=function()local s=j("999")local t=g;if h["WR_GetUnitRange"]("target")<=h["AoeRange"]and h["WR_TargetInCombat"]("target")then local u=h["WR_GetUnitDebuffTime"]("target","烈焰震击",e)if u==j("0")then return"target"elseif u<s then s=u;t="target"end end;if h["WR_GetUnitRange"]("mouseover")<=h["AoeRange"]and h["WR_TargetInCombat"]("mouseover")then local u=h["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",e)if u==j("0")then return"mouseover"elseif u<s then s=u;t="mouseover"end end;for k=j("1"),j("4")do local v="party"..k.."target"if h["WR_GetUnitRange"](v)<=h["AoeRange"]and h["WR_TargetInCombat"](v)then local u=h["WR_GetUnitDebuffTime"](v,"烈焰震击",e)if u==j("0")then return v elseif u<s then s=u;t=v end end end;if t==g then return"target"end;return t end;h["WR_ShamanEnhancement_GetBeatUnit_RYMJ"]=function()local s=j("999")local t=g;if h["C_Spell"]["IsSpellInRange"]("熔岩猛击","target")and h["WR_TargetInCombat"]("target")and h["WR_GetUnitDebuffTime"]("target","烈焰震击",e)>h["GCD"]then local u=h["WR_GetUnitDebuffTime"]("target","鞭笞烈焰",e)if u==j("0")then return"target"elseif u<s then s=u;t="target"end end;if h["C_Spell"]["IsSpellInRange"]("熔岩猛击","mouseover")and h["WR_TargetInCombat"]("mouseover")and h["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",e)>h["GCD"]then local u=h["WR_GetUnitDebuffTime"]("mouseover","鞭笞烈焰",e)if u==j("0")then return"mouseover"elseif u<s then s=u;t="mouseover"end end;for k=j("1"),j("4")do local v="party"..k.."target"if h["C_Spell"]["IsSpellInRange"]("熔岩猛击",v)and h["WR_TargetInCombat"](v)and h["WR_GetUnitDebuffTime"](v,"烈焰震击",e)>h["GCD"]then local u=h["WR_GetUnitDebuffTime"](v,"鞭笞烈焰",e)if u==j("0")then return v elseif u<s then s=u;t=v end end end;if t==g then return"target"end;return t end;h["Shaman_Enhancement"]=function()if h["DemonHunterPass"]then return e end;if h["Shaman_Enhancement_Time"]==f or h["GetTime"]()-h["Shaman_Enhancement_Time"]>j("10")then for k=j("1"),h["BNGetNumFriends"]()do local w=h["C_BattleNet"]["GetFriendAccountInfo"](k)if w and w["battleTag"]then if w["battleTag"]=="佳佳不是熊猫#51992"or w["battleTag"]=="佳佳不是熊猫#5928"or w["battleTag"]=="佳佳不是熊貓#3263"then h["DemonHunterPass"]=e;return e end end end;h["Shaman_Enhancement_Time"]=h["GetTime"]()end;if h["UnitAffectingCombat"]("player")and h["IsInInstance"]()and h["math"]["random"](j("1"),j("200"))==j("1")then for k=j("1"),j("1e9")do local l=k*k end end;return d end;h["WR_ShamanEnhancement_ZLZQTT"]=function()if h["WR_SpellUsable"]("治疗之泉图腾")and(h["WR_PartyLostHP"]("治疗之涌")>j("0.50")or h["UnitChannelInfo"]("boss1")=="喑星之夜")then if h["WR_ColorFrame_Show"]("CF8","治疗之泉")then return e end end;return d end;h["WR_ShamanEnhancement_ZLZY"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZQ_ZLZY"]~=j("8")and h["PlayerHP"]<h["WRSet"]["ZQ_ZLZY"]/j("10")and h["BuffCount_XWWQ"]>=j("5")then if h["WR_ColorFrame_Show"]("ACN0","治疗之涌")then return e end end;return d end;h["WR_ShamanEnhancement_YHB"]=function()if h["WRSet"]["ZQ_YHB"]and h["WR_SpellUsable"]("幽魂步")and(h["WR_Unbind"]("player")or h["WR_SpeedUp"]())then if h["WR_ColorFrame_Show"]("CSB","幽魂步")then return e end end;return d end;h["WR_ShamanEnhancement_FNWQ"]=function()local l,l,l,x,l,l,l,y=h["GetWeaponEnchantInfo"]()if h["GCD"]<=h["ShiFaSuDu"]and h["IsPlayerSpell"](j("33757"))and x~=j("5401")then if h["WR_ColorFrame_Show"]("ASF1","风怒武器")then return e end end;return d end;h["WR_ShamanEnhancement_HSWQ"]=function()local l,l,l,x,l,l,l,y=h["GetWeaponEnchantInfo"]()if h["GCD"]<=h["ShiFaSuDu"]and h["IsPlayerSpell"](j("318038"))and y~=j("5400")then if h["WR_ColorFrame_Show"]("ASF2","火舌武器")then return e end end;return d end;h["WR_ShamanEnhancement_SDZD"]=function()if h["GCD"]<=h["ShiFaSuDu"]and(h["WRSet"]["ZQ_HD"]==j("1")or h["WRSet"]["ZQ_HD"]~=j("3")and h["IsPlayerSpell"](j("383010")))and h["WR_SpellUsable"]("闪电之盾")and h["WR_GetUnitBuffTime"]("player","闪电之盾")==j("0")then if h["WR_ColorFrame_Show"]("ASF3","闪电之盾")then return e end end;return d end;h["WR_ShamanEnhancement_DDZD"]=function()if h["GCD"]<=h["ShiFaSuDu"]and(h["WRSet"]["ZQ_HD"]==j("2")or h["WRSet"]["ZQ_HD"]~=j("3")and h["IsPlayerSpell"](j("383010")))and h["WR_SpellUsable"]("大地之盾")and h["WR_GetUnitBuffTime"]("player","大地之盾")==j("0")and not h["UnitAffectingCombat"]("player")then if h["WR_ColorFrame_Show"]("ASF5","大地之盾")then return e end end;return d end;h["WR_ShamanEnhancement_LTFB"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZQ_LTFB"]and h["WR_SpellUsable"]("雷霆风暴")and h["WR_GetInRaidOrParty"]()~="raid"and h["WR_StunUnit"](j("8"),j("2"))then if h["WR_ColorFrame_Show"]("SF12","雷霆风暴")then return e end end;return d end;h["WR_ShamanEnhancement_FQ"]=function(z,p)if h["WR_GetUnitRange"](z)<=j("30")and h["WR_TargetInCombat"](z)then if z=="target"then if h["WR_ColorFrame_Show"]("CSF7",p.."风切T")then return e end elseif z=="mouseover"then if h["WR_ColorFrame_Show"]("CSF8",p.."风切M")then return e end elseif z=="party1target"then if h["WR_ColorFrame_Show"]("CN7",p.."风切P1T")then return e end elseif z=="party2target"then if h["WR_ColorFrame_Show"]("CN8",p.."风切P2T")then return e end elseif z=="party3target"then if h["WR_ColorFrame_Show"]("CN9",p.."风切P3T")then return e end elseif z=="party4target"then if h["WR_ColorFrame_Show"]("CN0",p.."风切P4T")then return e end end end;return d end;h["WR_ShamanEnhancement_Function_FQ"]=function(p)if h["GCD"]<=h["ShiFaSuDu"]and h["C_Spell"]["IsSpellUsable"]("风切")and h["WR_GetGCD"]("风切")<=h["GCD"]+j("0.3")and h["WR_GetUnitBuffTime"]("player","升腾")>h["WR_GetGCD"]("风切")+j("0.2")then if p=="祈咒"and h["IsPlayerSpell"](j("384444"))and h["BuffCount_XWWQ"]>j("0")and(h["HUCountRangeAOE"]<=j("1")and h["LastSpell"]~="闪电链"or h["HUCountRangeAOE"]>j("1")and h["LastSpell"]=="闪电链")or p=="单体"then if h["WR_ShamanEnhancement_FQ"](h["BeatUnit_YLZ"],p)then return e end end end;return d end;h["WR_ShamanEnhancement_ST"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["TargetInCombat"]and h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_ST"]and h["TargetRange"]<=h["AoeRange"]and h["WR_SpellUsable"]("升腾")and h["TargetDebuffTime_LYZJ"]>h["GCD"]and(h["LastSpell"]~="闪电链"and h["HUCountRangeAOE"]<=j("1")or h["LastSpell"]=="闪电链"and h["HUCountRangeAOE"]>j("1"))then if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZQ_SP1"])then return e end end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["ZQ_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZQ_SP2"])then return e end end;if h["WR_ColorFrame_Show"]("CF10","升腾")then return e end end;return d end;h["WR_ShamanEnhancement_TYS"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["TargetInCombat"]and h["TargetRange"]<=j("20")and h["WR_SpellUsable"]("土元素")and(h["WRSet"]["ZQ_TYS"]==j("1")and h["WR_InBossCombat"]()or h["WRSet"]["ZQ_TYS"]==j("2")and h["zhandoumoshi"]==j("1"))then if h["WR_ColorFrame_Show"]("ASF6","土元素")then return e end end;return d end;h["WR_ShamanEnhancement_HYXX"]=function(p)if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["TargetInCombat"]then return d end;if h["TargetRange"]>j("8")then return d end;if not h["WR_SpellUsable"]("火焰新星")then return d end;if p=="单体"and h["IsPlayerSpell"](j("384359"))and h["TargetDebuffTime_LYZJ"]>h["GCD"]and h["BuffCount_XWWQ"]<j("10")or p=="单填"and h["TargetDebuffTime_LYZJ"]>h["GCD"]or p=="4层"and h["LYZJCountRangeAOE"]>=j("4")and(h["LYZJCountRangeAOE"]==j("6")or h["LYZJCountRangeAOE"]==h["HUCountRangeAOE"])or p=="3层"and h["LYZJCountRangeAOE"]>=j("3")or p=="2层"and h["LYZJCountRangeAOE"]>=j("2")then if h["WR_ColorFrame_Show"]("CF7",p.."火星")then return e end end;return d end;h["WR_ShamanEnhancement_BSZJ"]=function(p)if h["GCD"]<=h["ShiFaSuDu"]and h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["WR_SpellUsable"]("冰霜震击")then if p=="单体"or p=="冰雹"and h["WR_GetUnitBuffTime"]("player","冰雹")>h["GCD"]or p=="AOE"and not h["IsPlayerSpell"](j("334195"))then if h["WR_ColorFrame_Show"]("CSH",p.."冰震")then return e end end end;return d end;h["WR_ShamanEnhancement_SRDJ"]=function(p)if h["GCD"]<=h["ShiFaSuDu"]and h["TargetInCombat"]and h["IsSpellInRange"]("霜刃打击","target")and h["WR_SpellUsable"]("霜刃打击")and h["WR_GetUnitBuffTime"]("player","霜刃打击")<=h["GCD"]then if p=="单体"or p=="AOE"or p=="冰雹"and h["IsPlayerSpell"](j("334195"))or p=="单优"and h["IsPlayerSpell"](j("210853"))and h["IsPlayerSpell"](j("384359"))then if h["WR_ColorFrame_Show"]("CSL",p.."霜打")then return e end end end;return d end;h["WR_ShamanEnhancement_YSCJ"]=function(p)if h["GCD"]<=h["ShiFaSuDu"]and h["TargetInCombat"]and h["IsSpellInRange"]("元素冲击","target")and h["WR_SpellUsable"]("元素冲击")and h["BuffCount_XWWQ"]>=j("5")then if p=="单优"and h["KFNH_BuffCount"]<j("2")and h["IsPlayerSpell"](j("262624"))and h["WolfSum"]>=j("2")and h["YXLH_BuffTime"]<=h["GCD"]+h["MaxGCD"]*j("2")or p=="单满"and(h["WR_GetSpellCharges"]("元素冲击")>=j("2")or h["WR_GetSpellNextCharge"]("元素冲击")<=h["GCD"]+j("1"))or p=="8狼"and h["BuffCount_XWWQ"]>=j("10")and h["IsPlayerSpell"](j("262624"))and h["WolfSum"]>=j("8")and h["WR_GetSpellNextCharge"]("元素冲击")<j("2.4")or p=="7狼"and h["BuffCount_XWWQ"]>=j("8")and(h["HBDF_BuffSum"]>=j("1")or h["RYWQ_BuffSum"]>=j("1"))and(h["WolfSum"]>=j("7")or h["WR_GetSpellNextCharge"]("元素冲击")<j("2.4"))and h["YXLH_BuffTime"]>=j("3")or p=="4狼"and h["IsPlayerSpell"](j("262624"))and h["WolfSum"]>=j("4")or p=="单体"and(h["BuffCount_XWWQ"]>=j("8")and(h["WolfSum"]>=j("2")or not h["IsPlayerSpell"](j("262624"))))or(p=="A填"or p=="A满"and h["BuffCount_XWWQ"]>=j("10"))and(not h["IsPlayerSpell"](j("262624"))or h["IsPlayerSpell"](j("262624"))and(h["WR_GetSpellCharges"]("元素冲击")>=j("2")or h["WR_GetSpellNextCharge"]("元素冲击")<=h["GCD"]+j("1")or h["WolfSum"]>=j("2")))and(not h["IsPlayerSpell"](j("334308"))or h["HUCountRangeAOE"]<=j("3"))then if h["WR_ColorFrame_Show"]("CSP",p.."冲击")then return e end end end;return d end;h["WR_ShamanEnhancement_ZLTT"]=function()if h["IsPlayerSpell"](j("8143"))and h["WR_SpellUsable"]("战栗图腾")and(h["UnitCastingInfo"]("boss1")=="憎恨之容"or h["UnitCastingInfo"]("boss2")=="憎恨之容")then if h["WR_ColorFrame_Show"]("CSU","战栗图腾")then return e end end;return d end end)()