local a=87;local b=58;local c=70;local d=39;local e=0==1;local f=not e;local g=nil;local h=""local i=_G;local j=_ENV;local k=i["tonumber"]return(function(...)i["WR_ShamanEnhancement"]=function()if i["GetSpecialization"]()~=k("2")then return end;i["WR_DebugTime"](k("0"))i["ShiFaSuDu"]=k("0.05")+i["WRSet"]["ZQ_SFSD"]*k("0.05")i["AoeRange"]=k("10")i["GCD"]=i["WR_GetGCD"]("闪电之盾")if i["MaxGCD"]==g then i["MaxGCD"]=i["WR_GetMaxGCD"](k("1.5"))end;i["PlayerHP"]=i["UnitHealth"]("player")/i["UnitHealthMax"]("player")i["PlayerMove"]=i["WR_PlayerMove"]()i["TargetInCombat"]=i["WR_TargetInCombat"]("target")i["TargetRange"]=i["WR_GetUnitRange"]("target")i["TargetClose"]=i["TargetRange"]<=k("2")or i["C_Spell"]["IsSpellInRange"]("熔岩猛击","target")or i["C_Spell"]["IsSpellInRange"]("霜刃打击","target")i["TargetInRange40"]=i["C_Spell"]["IsSpellInRange"]("烈焰震击","target")or i["C_Spell"]["IsSpellInRange"]("闪电链","target")i["Totem_YD_Time"]=k("0")for l=k("1"),k("40"),k("1")do local m,n,o,p,m=i["GetTotemInfo"](l)if n=="涌动图腾"then i["Totem_YD_Time"]=o+p-i["GetTime"]()if i["Totem_YD_Time"]<k("0")then i["Totem_YD_Time"]=k("0")end end end;i["Shaman_Enhancement"]()i["BuffCount_TTFT"]=i["WR_GetUnitBuffCount"]("player","图腾反弹")i["BuffTime_SWDCC"]=i["WR_GetUnitBuffTime"]("player","霜巫的传承")i["BuffSum_DDWQ"]=i["WR_GetUnitBuffSum"]("player","大地武器")i["BuffTime_FXZT"]=i["WR_GetUnitBuffTime"]("player","飞旋之土")i["BuffTime_FXZQ"]=i["WR_GetUnitBuffTime"]("player","飞旋之气")i["BuffTime_SRDJ"]=i["WR_GetUnitBuffTime"]("player","霜刃打击")i["BuffCount_XWWQ"]=i["WR_GetUnitBuffCount"]("player","漩涡武器")i["TargetDebuffTime_LYZJ"]=i["WR_GetUnitDebuffTime"]("target","烈焰震击",f)i["SYZC_BuffTime"]=i["WR_GetUnitBuffTime"]("player","始源之潮")i["YXLH_BuffTime"],i["YXLH_BuffCount"],i["_"]=i["WR_GetUnitBuffInfo"]("player","野性狼魂")i["KFNH_BuffCount"]=i["WR_GetUnitBuffCount"]("player","狂风怒号")i["_"],i["HBDF_BuffCount"],i["HBDF_BuffSum"]=i["WR_GetUnitBuffInfo"]("player","寒冰刀锋")i["_"],i["RYWQ_BuffCount"],i["RYWQ_BuffSum"]=i["WR_GetUnitBuffInfo"]("player","熔岩武器")i["HMZF_BuffTime"]=i["WR_GetUnitBuffTime"]("player",k("466772"))i["SYFB_BuffTime"]=i["WR_GetUnitBuffTime"]("player","始源风暴")i["FBHJ_BuffTime"]=i["WR_GetUnitBuffTime"]("player","风暴轰击")i["BuffTime_ST"]=i["WR_GetUnitBuffTime"]("player","升腾")i["WolfSum"]=i["WR_GetUnitBuffSum"]("player",k("224125"))+i["WR_GetUnitBuffSum"]("player",k("224126"))+i["WR_GetUnitBuffSum"]("player",k("224127"))i["HUCountRangeAOE"]=i["WR_GetRangeHarmUnitCount"](i["AoeRange"],not i["WR_InTraining"]())i["LYZJCountRangeAOE"]=i["WR_GetHaveDebuffRangeUnitCount"](i["AoeRange"],"烈焰震击",e)i["WR_ShamanEnhancement_LastSpellTime"]()if i["MSG"]==k("1")then i["print"]("----------")end;if i["WR_PriorityCheck"]()then return f end;if i["WR_ZNJD"](i["WRSet"]["ZQ_ZNJD"])then return f end;if i["WR_ShamanEnhancement_SP"]("保命")then return f end;if i["WR_ZLS"](i["WRSet"]["ZQ_ZLS"])then return f end;if i["WR_ZLYS"](i["WRSet"]["ZQ_ZLYS"])then return f end;if i["WR_ZLYS2"](i["WRSet"]["ZQ_ZLYS"])then return f end;if i["WR_Shaman_XJZY"]()then return f end;if i["WR_ShamanEnhancement_ZLZQTT"]()then return f end;if i["WR_ShamanEnhancement_ZLZY"]()then return f end;if i["WR_ShamanEnhancement_YHB"]()then return f end;if i["WR_Shaman_Function_FJ"]()then return f end;if i["WR_ShamanEnhancement_FNWQ"]()then return f end;if i["WR_ShamanEnhancement_HSWQ"]()then return f end;if i["WR_Shaman_TN"]()then return f end;if i["WR_ShamanEnhancement_SDZD"]()then return f end;if i["WR_ShamanEnhancement_DDZD"]()then return f end;if i["WR_ShamanEnhancement_LTFB"]()then return f end;if i["WR_Shaman_Function_QDTT"]()then return f end;if i["WR_Shaman_Function_JHLH"]()then return f end;if i["WR_ShamanEnhancement_ZLTT"]()then return f end;if i["WR_Shaman_Function_JHS"]()then return f end;if i["WR_ShamanEnhancement_TYS"]()then return f end;if i["TargetClose"]and i["TargetInCombat"]then if i["WR_ShamanEnhancement_SP"]("常驻")then return f end;if i["WR_WuQi"](k("3"),i["WRSet"]["ZQ_WuQi"])then return f end end;if i["TargetInCombat"]and i["GCD"]<=i["ShiFaSuDu"]then if i["IsPlayerSpell"](k("444995"))then if i["WR_ShamanEnhancement_Combat_Single_TTJS"]()then return f end;if i["WR_ShamanEnhancement_Combat_AOE_TTJS"]()then return f end else end end;if i["WR_Function_ZNMB"](k("2"),i["WRSet"]["ZQ_ZNMB"])then return f end;if i["WR_Function_ZNMB"](k("10"),i["WRSet"]["ZQ_ZNMB"])then return f end;i["WR_HideColorFrame"](i["zhandoumoshi"])if i["MSG"]==k("1")then end end;i["WR_ShamanEnhancement_Combat_AOE_TTJS"]=function()if i["HUCountRangeAOE"]<=k("1")or i["WR_SingleUnit"]()then return e end;if i["WR_ShamanEnhancement_YDTT"]()then return f end;if i["WR_ShamanEnhancement_LYZJ"]()then return f end;if i["WR_ShamanEnhancement_YXLH"]()then return f end;if i["WR_ShamanEnhancement_RYMJ"]("熔火突袭")then return f end;if i["WR_ShamanEnhancement_SYZC"]()then return f end;if i["WR_ShamanEnhancement_RYBL"]("霜巫")then return f end;if i["WR_ShamanEnhancement_SDL"]("霜巫")then return f end;if i["WR_ShamanEnhancement_HMSD"]("顺劈")then return f end;if i["WR_ShamanEnhancement_HMZF"]()then return f end;if i["WR_ShamanEnhancement_SYFB"]()then return f end;if i["WR_ShamanEnhancement_RYBL"]("元素3敌")then return f end;if i["WR_ShamanEnhancement_RYMJ"]("灼手")then return f end;if i["WR_ShamanEnhancement_LDS"]("毁风")then return f end;if i["WR_ShamanEnhancement_HMSD"]("静电")then return f end;if i["WR_ShamanEnhancement_RYBL"]("元素满层")then return f end;if i["WR_ShamanEnhancement_SDL"]("满层")then return f end;if i["WR_ShamanEnhancement_LDS"]()then return f end;if i["WR_ShamanEnhancement_LDCY"]()then return f end;if i["WR_ShamanEnhancement_RYMJ"]()then return f end;if i["WR_ShamanEnhancement_HMSD"]()then return f end;if i["WR_ShamanEnhancement_FBDJ"]()then return f end;if i["WR_ShamanEnhancement_RYBL"]("元素冲击")then return f end;if i["WR_ShamanEnhancement_SDL"]()then return f end;if i["WR_ShamanEnhancement_BSZJ"]()then return f end;return e end;i["WR_ShamanEnhancement_Combat_Single_TTJS"]=function()if i["HUCountRangeAOE"]>k("1")and not i["WR_SingleUnit"]()then return e end;if i["WR_ShamanEnhancement_YDTT"]()then return f end;if i["WR_ShamanEnhancement_LYZJ"]()then return f end;if i["WR_ShamanEnhancement_RYMJ"]("灼手")then return f end;if i["WR_ShamanEnhancement_YXLH"]()then return f end;if i["WR_ShamanEnhancement_SYZC"]()then return f end;if i["WR_ShamanEnhancement_RYBL"]("霜巫")then return f end;if i["WR_ShamanEnhancement_SDJ"]("霜巫")then return f end;if i["WR_ShamanEnhancement_HMZF"]()then return f end;if i["WR_ShamanEnhancement_SYFB"]()then return f end;if i["WR_ShamanEnhancement_LDS"]("毁风")then return f end;if i["WR_ShamanEnhancement_HMSD"]("静电")then return f end;if i["WR_ShamanEnhancement_RYBL"]("满层")then return f end;if i["WR_ShamanEnhancement_FBDJ"]("毁风霜巫")then return f end;if i["WR_ShamanEnhancement_SDJ"]("满层")then return f end;if i["WR_ShamanEnhancement_LDS"]()then return f end;if i["WR_ShamanEnhancement_FBDJ"]("毁风轰击")then return f end;if i["WR_ShamanEnhancement_RYMJ"]("飞旋触媒")then return f end;if i["WR_ShamanEnhancement_FBDJ"]()then return f end;if i["WR_ShamanEnhancement_RYMJ"]()then return f end;if i["WR_ShamanEnhancement_HMSD"]()then return f end;if i["WR_ShamanEnhancement_LDCY"]()then return f end;if i["WR_ShamanEnhancement_RYBL"]()then return f end;if i["WR_ShamanEnhancement_SDJ"]()then return f end;if i["WR_ShamanEnhancement_BSZJ"]()then return f end;return e end;i["WR_ShamanEnhancement_YDTT"]=function()if i["WRSet"]["ZQ_YDTT"]and i["TargetClose"]and i["Totem_YD_Time"]<=i["GCD"]and i["WR_SpellUsable"]("涌动图腾")then if i["WR_ColorFrame_Show"]("CF6","涌动图腾")then return f end end;return e end;i["WR_ShamanEnhancement_YXLH"]=function(q)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["zhandoumoshi"]==k("1")and i["TargetRange"]<=k("25")and not i["IsPlayerSpell"](k("469314"))and i["WR_SpellUsable"]("野性狼魂")then if q==g and(i["WR_GetGCD"]("毁灭之风")>k("15")or i["WR_GetGCD"]("毁灭之风")<k("5"))and(i["WR_GetGCD"]("始源之潮")>k("15")or i["WR_GetGCD"]("始源之潮")<k("5")or i["SYFB_BuffTime"]>i["GCD"])then if i["WR_ColorFrame_Show"]("CF1","野性狼魂")then return f end end end;return e end;i["WR_ShamanEnhancement_LYZJ"]=function()if i["TargetInRange40"]and i["TargetDebuffTime_LYZJ"]<=i["GCD"]and i["WR_SpellUsable"]("烈焰震击")then if i["WR_ColorFrame_Show"]("CF2","烈焰震击")then return f end end;return e end;i["WR_ShamanEnhancement_SYZC"]=function()if i["TargetRange"]<=k("10")and i["zhandoumoshi"]==k("1")and i["SYFB_BuffTime"]<=i["GCD"]and i["WR_SpellUsable"]("始源之潮")and(i["IsPlayerSpell"](k("469314"))or not i["IsPlayerSpell"](k("469314"))and i["YXLH_BuffTime"]>k("5"))then if i["WR_ColorFrame_Show"]("CF11","始源之潮")then return f end end;return e end;i["WR_ShamanEnhancement_SYFB"]=function()if i["TargetClose"]and i["zhandoumoshi"]==k("1")and i["SYFB_BuffTime"]>i["GCD"]and i["BuffCount_XWWQ"]>=k("10")and i["WR_SpellUsable"]("始源之潮")then if i["WR_ColorFrame_Show"]("CF11","始源之潮")then return f end end;return e end;i["WR_ShamanEnhancement_HMSD"]=function(q)if i["TargetClose"]and i["WR_SpellUsable"]("毁灭闪电")then if q=="顺劈"and i["WR_GetUnitBuffTime"]("player",k("187878"))<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF9","顺劈毁闪")then return f end end;if q=="静电"and i["WR_GetUnitBuffTime"]("player","静电注码")>=k("8")then if i["WR_ColorFrame_Show"]("CF9","静电毁闪")then return f end end;if q==g then if i["WR_ColorFrame_Show"]("CF9","毁灭闪电")then return f end end end;return e end;i["WR_ShamanEnhancement_HMZF"]=function(q)if i["WRSet"]["ZQ_HMZF"]and i["TargetClose"]and i["WR_SpellUsable"]("毁灭之风")and i["zhandoumoshi"]==k("1")and(i["IsPlayerSpell"](k("469314"))or not i["IsPlayerSpell"](k("469314"))and i["YXLH_BuffTime"]>k("5"))then if i["WR_ShamanEnhancement_SP"]("爆发")then return f end;if i["WR_ColorFrame_Show"]("CSK","毁灭之风")then return f end end;return e end;i["WR_ShamanEnhancement_RYMJ"]=function(q)if i["TargetClose"]and i["WR_SpellUsable"]("熔岩猛击")then if q=="灼手"and i["WR_GetUnitBuffTime"]("player","灼热之手")>i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","灼手火打")then return f end end;if q==g then if i["WR_ColorFrame_Show"]("CF3","熔岩猛击")then return f end end;if q=="飞旋触媒"and(i["WR_GetUnitBuffTime"]("player","飞旋之火")>i["GCD"]or i["WR_GetUnitBuffTime"]("player","灰烬触媒")>=k("8"))then if i["WR_ColorFrame_Show"]("CF3","熔岩猛击")then return f end end;if q=="熔火突袭"and i["IsPlayerSpell"](k("334033"))and i["TargetDebuffTime_LYZJ"]>i["GCD"]and i["LYZJCountRangeAOE"]<i["HUCountRangeAOE"]and i["LYZJCountRangeAOE"]<k("6")then if i["WR_ColorFrame_Show"]("CF3","熔火突袭")then return f end end end;return e end;i["WR_ShamanEnhancement_LDS"]=function(q)if i["TargetClose"]and i["WR_SpellUsable"]("裂地术")then if q=="毁风"and i["HMZF_BuffTime"]>i["GCD"]then if i["WR_ColorFrame_Show"]("CSJ","毁风裂地")then return f end end;if q==g then if i["WR_ColorFrame_Show"]("CSJ","裂地术")then return f end end end;return e end;i["WR_ShamanEnhancement_SDL"]=function(q)if i["TargetInRange40"]and i["WR_SpellUsable"]("闪电链")and i["BuffCount_XWWQ"]>=k("5")then if q=="霜巫"and i["TargetClose"]and i["zhandoumoshi"]==k("1")and i["BuffTime_SWDCC"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")and i["WR_GetGCD"]("毁灭之风")<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF5","霜巫电链")then return f end end;if q=="满层"and i["SYFB_BuffTime"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")then if i["WR_ColorFrame_Show"]("CF5","满层电链")then return f end end;if q==g and i["SYFB_BuffTime"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF5","闪电链")then return f end end end;return e end;i["WR_ShamanEnhancement_SDJ"]=function(q)if i["TargetInRange40"]and i["WR_SpellUsable"]("闪电箭")and i["BuffCount_XWWQ"]>=k("5")then if q=="霜巫"and i["TargetClose"]and i["zhandoumoshi"]==k("1")and i["BuffTime_SWDCC"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")and i["WR_GetGCD"]("毁灭之风")<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF4","霜巫电箭")then return f end end;if q=="满层"and i["SYFB_BuffTime"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")then if i["WR_ColorFrame_Show"]("CF4","满层电箭")then return f end end;if q==g and i["SYFB_BuffTime"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF4","闪电箭")then return f end end end;return e end;i["WR_ShamanEnhancement_RYBL"]=function(q)if i["TargetInRange40"]and i["WR_SpellUsable"]("熔岩爆裂")and i["BuffCount_XWWQ"]>=k("5")then if q=="霜巫"and i["TargetClose"]and i["zhandoumoshi"]==k("1")and i["BuffTime_SWDCC"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")and i["WR_GetGCD"]("毁灭之风")<=i["GCD"]then if i["WR_ColorFrame_Show"]("ACSF1","霜巫爆裂")then return f end end;if q=="满层"and i["SYFB_BuffTime"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")then if i["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return f end end;if q==g and i["SYFB_BuffTime"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("ACSF1","熔岩爆裂")then return f end end;if q=="元素满层"and i["IsPlayerSpell"](k("117014"))and i["SYFB_BuffTime"]<=i["GCD"]and i["BuffCount_XWWQ"]>=k("10")then if i["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return f end end;if q=="元素冲击"and i["IsPlayerSpell"](k("117014"))and i["SYFB_BuffTime"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return f end end;if q=="元素3敌"and i["IsPlayerSpell"](k("117014"))and i["BuffCount_XWWQ"]>=k("10")and i["HUCountRangeAOE"]<=k("3")and i["SYFB_BuffTime"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return f end end end;return e end;i["WR_ShamanEnhancement_LDCY"]=function()if i["TargetInRange40"]and i["WR_GetUnitBuffTime"]("player","流电炽焰")>i["GCD"]and i["WR_SpellUsable"]("流电炽焰")then if i["WR_ColorFrame_Show"]("CF2","流电炽焰")then return f end end;return e end;i["WR_ShamanEnhancement_FBDJ"]=function(q)if i["TargetClose"]and i["WR_SpellUsable"]("风暴打击")then if q==g then if i["WR_ColorFrame_Show"]("CSF7","风暴打击")then return f end end;if q=="毁风霜巫"and i["HMZF_BuffTime"]>i["GCD"]and i["BuffTime_SWDCC"]>i["GCD"]then if i["WR_ColorFrame_Show"]("CSF7","毁风风打")then return f end end;if q=="毁风轰击"and(i["HMZF_BuffTime"]>i["GCD"]or i["FBHJ_BuffTime"]>i["GCD"])then if i["WR_ColorFrame_Show"]("CSF7","毁风轰击")then return f end end end;return e end;i["WR_ShamanEnhancement_BSZJ"]=function()if i["TargetInRange40"]and i["WR_SpellUsable"]("冰霜震击")then if i["WR_ColorFrame_Show"]("CSH","冰霜震击")then return f end end;return e end;i["WR_ShamanEnhancement_SP"]=function(q)if q=="保命"then if i["WRSet"]["ZQ_SP1"]>=k("3")then if i["WR_ShiPin"](k("1"),i["WRSet"]["ZQ_SP1"])then return f end end;if i["WRSet"]["ZQ_SP2"]>=k("3")then if i["WR_ShiPin"](k("2"),i["WRSet"]["ZQ_SP2"])then return f end end elseif q=="常驻"then if i["WRSet"]["ZQ_SP1"]==k("1")then if i["WR_ShiPin"](k("1"),i["WRSet"]["ZQ_SP1"])then return f end end;if i["WRSet"]["ZQ_SP2"]==k("1")then if i["WR_ShiPin"](k("2"),i["WRSet"]["ZQ_SP2"])then return f end end elseif q=="爆发"then if i["WRSet"]["ZQ_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["ZQ_SP1"])then return f end end;if i["WRSet"]["ZQ_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["ZQ_SP2"])then return f end end end;return e end;i["WR_ShamanEnhancement_Combat_Single"]=function()if i["HUCountRangeAOE"]>k("1")and not i["WR_SingleUnit"]()then return e end;if i["zhandoumoshi"]==k("1")and i["TargetRange"]<=k("25")and not i["IsPlayerSpell"](k("469314"))and i["WR_SpellUsable"]("野性狼魂")then if i["WR_ColorFrame_Show"]("CF1","狼魂S1")then return f end end;if i["TargetInRange40"]and i["TargetDebuffTime_LYZJ"]<=i["GCD"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("始源之潮")then if i["WR_ColorFrame_Show"]("CF11","始源S1")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("熔岩猛击")and i["IsPlayerSpell"](k("334046"))and i["WR_GetUnitDebuffInfo"]("target","鞭笞烈焰",f)<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","火打S0")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("风暴打击")and i["BuffCount_XWWQ"]<k("2")and i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_ST"]and i["WR_SpellUsable"]("升腾")then if i["WR_ColorFrame_Show"]("CSF7","风打S0")then return f end end;if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_ST"]and i["TargetRange"]<=i["AoeRange"]and i["WR_SpellUsable"]("升腾")and i["TargetDebuffTime_LYZJ"]>i["GCD"]and i["LastSpell"]~="闪电链"and i["BuffCount_XWWQ"]>=k("2")then if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["ZQ_SP1"])then return f end end;if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["ZQ_SP2"])then return f end end;if i["WR_ColorFrame_Show"]("CF10","升腾S1")then return f end end;if i["TargetInRange40"]and i["KFNH_BuffCount"]>i["GCD"]and i["WR_SpellUsable"]("狂风怒号")and(i["BuffCount_XWWQ"]>=k("10")or i["KFNH_BuffCount"]>=k("2")and i["WR_GetUnitBuffCount"]("player","觉醒风暴")>=k("2")and i["BuffCount_XWWQ"]>=k("5"))then if i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF4","怒号S1")then return f end else if i["IsPlayerSpell"](k("117014"))and i["WR_SpellUsable"]("元素冲击")then if i["WR_ColorFrame_Show"]("CSP","冲击NS1")then return f end elseif i["IsPlayerSpell"](k("51505"))and i["WR_SpellUsable"]("熔岩爆裂")then if i["WR_ColorFrame_Show"]("ACSF1","爆裂NS1")then return f end else if i["WR_ColorFrame_Show"]("CF5","电链NS1")then return f end end end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("元素冲击")and i["BuffCount_XWWQ"]>=k("10")and i["IsPlayerSpell"](k("262624"))and i["WolfSum"]>=k("6")and(i["WR_GetSpellNextCharge"]("元素冲击")<k("2.4")or i["WR_GetUnitBuffTime"]("player","升腾")>i["GCD"])then if i["WR_ColorFrame_Show"]("CSP","冲击S1")then return f end end;if i["TargetRange"]<=k("30")and i["C_Spell"]["IsSpellUsable"]("风切")and i["WR_GetGCD"]("风切")<=i["GCD"]+k("0.3")and i["WR_GetUnitBuffTime"]("player","升腾")>i["WR_GetGCD"]("风切")+k("0.2")and i["BuffCount_XWWQ"]>k("0")and i["LastSpell"]~="闪电链"and i["WR_GetSpellCharges"]("风切")>=k("2")then if i["WR_ColorFrame_Show"]("CSF7","风切S0")then return f end end;if i["WRSet"]["ZQ_HMZF"]and i["TargetClose"]and i["WR_SpellUsable"]("毁灭之风")and i["zhandoumoshi"]==k("1")and i["IsPlayerSpell"](k("262624"))and i["IsPlayerSpell"](k("114051"))and i["BuffCount_XWWQ"]>=k("2")then if i["WR_ColorFrame_Show"]("CSK","毁风S0")then return f end end;if i["TargetRange"]<=k("30")and i["C_Spell"]["IsSpellUsable"]("风切")and i["WR_GetGCD"]("风切")<=i["GCD"]+k("0.3")and i["WR_GetUnitBuffTime"]("player","升腾")>i["WR_GetGCD"]("风切")+k("0.2")and i["BuffCount_XWWQ"]>k("0")and i["LastSpell"]~="闪电链"then if i["WR_ColorFrame_Show"]("CSF7","风切S1")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")and i["TargetDebuffTime_LYZJ"]<=i["GCD"]and i["IsPlayerSpell"](k("390370"))then if i["WR_ColorFrame_Show"]("CF2","火震S1")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("闪电箭")and i["KFNH_BuffCount"]==k("0")and i["BuffCount_XWWQ"]>=k("10")and i["SYZC_BuffTime"]>i["GCD"]then if i["KFNH_BuffCount"]==k("0")or i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF4","电箭S0")then return f end else if i["IsPlayerSpell"](k("117014"))and i["WR_SpellUsable"]("元素冲击")then if i["WR_ColorFrame_Show"]("CSP","冲击JS0")then return f end else if i["WR_ColorFrame_Show"]("CF5","电链JS0")then return f end end end end;if i["TargetInRange40"]and i["KFNH_BuffCount"]>i["GCD"]and i["WR_SpellUsable"]("狂风怒号")and i["BuffCount_XWWQ"]>=k("8")then if i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF4","怒号S2")then return f end else if i["IsPlayerSpell"](k("117014"))and i["WR_SpellUsable"]("元素冲击")then if i["WR_ColorFrame_Show"]("CSP","冲击NS2")then return f end elseif i["IsPlayerSpell"](k("51505"))and i["WR_SpellUsable"]("熔岩爆裂")then if i["WR_ColorFrame_Show"]("ACSF1","爆裂NS2")then return f end else if i["WR_ColorFrame_Show"]("CF5","电链NS2")then return f end end end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("始源之潮")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF11","始源S2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("元素冲击")and i["BuffCount_XWWQ"]>=k("8")and i["WolfSum"]>=k("4")and(i["WR_GetUnitBuffTime"]("player","升腾")<=i["GCD"]or i["WR_GetSpellNextCharge"]("元素冲击")<k("2.4"))then if i["WR_ColorFrame_Show"]("CSP","冲击S2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("闪电箭")and i["KFNH_BuffCount"]==k("0")and i["BuffCount_XWWQ"]>=k("8")then if i["KFNH_BuffCount"]==k("0")or i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF4","电箭S1")then return f end else if i["IsPlayerSpell"](k("117014"))and i["WR_SpellUsable"]("元素冲击")then if i["WR_ColorFrame_Show"]("CSP","冲击JS1")then return f end else if i["WR_ColorFrame_Show"]("CF5","电链JS1")then return f end end end end;if i["TargetClose"]and i["WR_SpellUsable"]("风暴打击")and(i["HMZF_BuffTime"]>i["GCD"]or i["IsPlayerSpell"](k("319930"))and i["WR_GetUnitBuffTime"]("player",k("201846"))>i["GCD"]and i["WR_GetSpellCharges"]("风暴打击")>=k("2"))then if i["WR_ColorFrame_Show"]("CSF7","风打S1")then return f end end;if i["TargetInRange40"]and i["WR_GetUnitBuffTime"]("player","流电炽焰")>i["GCD"]and i["WR_SpellUsable"]("流电炽焰")and i["HMZF_BuffTime"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF2","流电S1")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("霜刃打击")and i["IsPlayerSpell"](k("210853"))and i["IsPlayerSpell"](k("384359"))and i["IsPlayerSpell"](k("384447"))then if i["WR_ColorFrame_Show"]("CSL","霜打S1")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("风暴打击")then if i["WR_ColorFrame_Show"]("CSF7","风打S2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("闪电箭")and i["BuffCount_XWWQ"]>=k("5")and i["KFNH_BuffCount"]==k("0")then if i["KFNH_BuffCount"]==k("0")or i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF4","电箭S2")then return f end else if i["IsPlayerSpell"](k("117014"))and i["WR_SpellUsable"]("元素冲击")then if i["WR_ColorFrame_Show"]("CSP","冲击JS2")then return f end else if i["WR_ColorFrame_Show"]("CF5","电链JS2")then return f end end end end;if i["TargetInRange40"]and i["WR_GetUnitBuffTime"]("player","流电炽焰")>i["GCD"]and i["WR_SpellUsable"]("流电炽焰")then if i["WR_ColorFrame_Show"]("CF2","流电S2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("冰霜震击")and i["WR_GetUnitBuffTime"]("player","冰雹")>i["GCD"]and i["WR_GetUnitBuffTime"]("player","霜刃打击")>i["GCD"]and i["IsPlayerSpell"](k("384359"))and i["IsPlayerSpell"](k("114051"))then if i["WR_ColorFrame_Show"]("CSH","冰震S1")then return f end end;if i["WRSet"]["ZQ_HMZF"]and i["TargetClose"]and i["WR_SpellUsable"]("毁灭之风")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CSK","毁风S0")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("闪电箭")and i["KFNH_BuffCount"]==k("0")and i["WR_GetUnitBuffTime"]("player","弧形放电")>i["GCD"]then if i["KFNH_BuffCount"]==k("0")or i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ColorFrame_Show"]("CF4","电箭S3")then return f end else if i["IsPlayerSpell"](k("117014"))and i["WR_SpellUsable"]("元素冲击")then if i["WR_ColorFrame_Show"]("CSP","冲击JS3")then return f end else if i["WR_ColorFrame_Show"]("CF5","电链JS3")then return f end end end end;if i["TargetClose"]and i["WR_SpellUsable"]("熔岩猛击")and i["IsPlayerSpell"](k("210853"))and i["IsPlayerSpell"](k("454009"))and i["IsPlayerSpell"](k("334033"))and i["TargetDebuffTime_LYZJ"]>i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","火打S1")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")and i["TargetDebuffTime_LYZJ"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF2","火震S2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("冰霜震击")and i["WR_GetUnitBuffTime"]("player","冰雹")>i["GCD"]then if i["WR_ColorFrame_Show"]("CSH","冰震S2")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("熔岩猛击")then if i["WR_ColorFrame_Show"]("CF3","火打S2")then return f end end;if i["TargetRange"]<=k("30")and i["C_Spell"]["IsSpellUsable"]("风切")and i["WR_GetGCD"]("风切")<=i["GCD"]+k("0.3")and i["WR_GetUnitBuffTime"]("player","升腾")>i["WR_GetGCD"]("风切")+k("0.2")then if i["WR_ColorFrame_Show"]("CSF7","风切S2")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("裂地术")then if i["WR_ColorFrame_Show"]("CSJ","裂地S1")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("冰霜震击")then if i["WR_ColorFrame_Show"]("CSH","冰震S3")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("毁灭闪电")then if i["WR_ColorFrame_Show"]("CF9","毁闪S1")then return f end end;if i["WR_ShamanEnhancement_TYS"]()then return f end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")then if i["WR_ColorFrame_Show"]("CF2","火震S3")then return f end end;return e end;i["WR_ShamanEnhancement_Combat_AOE"]=function()if i["HUCountRangeAOE"]<=k("1")or i["WR_SingleUnit"]()then return e end;if i["WR_GetUnitBuffTime"]("player","升腾")<=i["GCD"]then if i["TargetInRange40"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("始源之潮")and(i["TargetDebuffTime_LYZJ"]<=i["GCD"]or i["KFNH_BuffCount"]>i["GCD"])then if i["WR_ColorFrame_Show"]("CF11","始源A0")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")and i["TargetDebuffTime_LYZJ"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF2","火震A0")then return f end end;if i["TargetClose"]and i["WR_SpellUsable"]("毁灭闪电")and i["WR_GetUnitBuffTime"]("player",k("187878"))<=i["GCD"]and i["BuffCount_XWWQ"]<k("10")then if i["WR_ColorFrame_Show"]("CF9","毁闪A0")then return f end end;if i["WR_SpellUsable"]("熔岩猛击")and i["WR_GetUnitDebuffTime"](i["BeatUnit_RYMJ"],"烈焰震击",f)>i["GCD"]and i["LYZJCountRangeAOE"]<i["HUCountRangeAOE"]and i["LYZJCountRangeAOE"]<k("6")and(i["BuffCount_XWWQ"]<k("10")or i["SYZC_BuffTime"]>i["GCD"])then if i["WR_ShamanEnhancement_RYMJ"](i["BeatUnit_RYMJ"],"A0")then return f end end end;if i["zhandoumoshi"]==k("1")and i["TargetRange"]<=k("25")and not i["IsPlayerSpell"](k("469314"))and i["WR_SpellUsable"]("野性狼魂")then if i["WR_ColorFrame_Show"]("CF1","狼魂A1")then return f end end;if i["WRSet"]["ZQ_HMZF"]and i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("毁灭之风")and i["zhandoumoshi"]==k("1")and i["BuffTime_ST"]>i["GCD"]then if i["WR_ColorFrame_Show"]("CSK","毁风A0")then return f end end;if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_ST"]and i["TargetRange"]<=i["AoeRange"]and i["WR_SpellUsable"]("升腾")and i["TargetDebuffTime_LYZJ"]>i["GCD"]and i["LastSpell"]=="闪电链"then if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["ZQ_SP1"])then return f end end;if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["ZQ_SP2"])then return f end end;if i["WR_ColorFrame_Show"]("CF10","升腾A1")then return f end end;if i["WR_SpellUsable"]("狂风怒号")and i["KFNH_BuffCount"]>i["GCD"]and i["BuffCount_XWWQ"]>=k("5")and(i["WR_GetUnitBuffTime"]("player","弧形放电")<=i["GCD"]and i["BuffCount_XWWQ"]>=k("8")or i["WR_GetUnitBuffCount"]("player","觉醒风暴")==k("2")or i["KFNH_BuffCount"]>=k("2")and i["SYZC_BuffTime"]>i["GCD"]and i["BuffCount_XWWQ"]>=k("8"))then if i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ShamanEnhancement_KFNH"](i["BeatUnit_YLZ"],"A1")then return f end else if i["WR_ShamanEnhancement_SDL"](i["BeatUnit_YLZ"],"NA1")then return f end end end;if i["C_Spell"]["IsSpellUsable"]("风切")and i["WR_GetGCD"]("风切")<=i["GCD"]+k("0.3")and i["WR_GetUnitBuffTime"]("player","升腾")>i["WR_GetGCD"]("风切")+k("0.2")and i["IsPlayerSpell"](k("384444"))and i["BuffCount_XWWQ"]>k("0")and i["LastSpell"]=="闪电链"then if i["WR_ShamanEnhancement_FQ"](i["BeatUnit_YLZ"],"A1")then return f end end;if i["WR_SpellUsable"]("闪电箭")and(i["KFNH_BuffCount"]>=k("1")or i["SYZC_BuffTime"]<=k("5"))and(i["LYZJCountRangeAOE"]==i["HUCountRangeAOE"]or i["LYZJCountRangeAOE"]==k("6"))and i["SYZC_BuffTime"]>i["GCD"]and i["BuffCount_XWWQ"]>=k("10")then if i["KFNH_BuffCount"]==k("0")or i["WRSet"]["ZQ_KFNH"]==k("1")or i["WRSet"]["ZQ_KFNH"]==k("2")and i["zhandoumoshi"]==k("1")then if i["WR_ShamanEnhancement_SDJ"](i["BeatUnit_YLZ"],"A1")then return f end else if i["WR_ShamanEnhancement_SDL"](i["BeatUnit_YLZ"],"JA1")then return f end end end;if i["WR_GetUnitBuffTime"]("player","流电炽焰")>i["GCD"]and i["WR_SpellUsable"]("流电炽焰")and i["BuffCount_XWWQ"]<=k("8")then if i["WR_ColorFrame_Show"]("CF2","流电A1")then return f end end;if i["WR_SpellUsable"]("熔岩猛击")and i["IsPlayerSpell"](k("334033"))and(i["IsPlayerSpell"](k("375982"))or i["IsPlayerSpell"](k("333974")))and i["WR_GetUnitDebuffTime"](i["BeatUnit_RYMJ"],"烈焰震击",f)>i["GCD"]and i["LYZJCountRangeAOE"]<i["HUCountRangeAOE"]and i["LYZJCountRangeAOE"]<k("6")then if i["WR_ShamanEnhancement_RYMJ"](i["BeatUnit_RYMJ"],"A1")then return f end end;if i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("始源之潮")then if i["WR_ShamanEnhancement_SYZC"](i["BeatUnit_LYZJ"],"A1")then return f end end;if i["WR_SpellUsable"]("闪电链")and i["WR_GetUnitBuffTime"]("player","弧形放电")>i["GCD"]and i["BuffCount_XWWQ"]>=k("5")then if i["WR_ShamanEnhancement_SDL"](i["BeatUnit_YLZ"],"A1")then return f end end;if i["TargetInCombat"]and i["IsSpellInRange"]("元素冲击","target")and i["WR_SpellUsable"]("元素冲击")and(i["WR_GetSpellCharges"]("元素冲击")>=k("2")or i["WR_GetSpellNextCharge"]("元素冲击")<=i["GCD"]+k("1")or i["WolfSum"]>=k("2"))and i["BuffCount_XWWQ"]>=k("10")and(not i["IsPlayerSpell"](k("334308"))or i["HUCountRangeAOE"]<=k("3"))then if i["WR_ColorFrame_Show"]("CSP","冲击A1")then return f end end;if i["WR_SpellUsable"]("闪电链")and i["BuffCount_XWWQ"]>=k("8")then if i["WR_ShamanEnhancement_SDL"](i["BeatUnit_YLZ"],"A2")then return f end end;if i["WRSet"]["ZQ_HMZF"]and i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("毁灭之风")and i["zhandoumoshi"]==k("1")and i["LastSpell"]=="闪电链"then if i["WR_ColorFrame_Show"]("CSK","毁风A1")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("毁灭闪电")and(i["HMZF_BuffTime"]>i["GCD"]and i["HUCountRangeAOE"]>=k("4")or i["WR_GetUnitBuffTime"]("player",k("187878"))<=i["GCD"])then if i["WR_ColorFrame_Show"]("CF9","毁闪A1")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("裂地术")and i["HMZF_BuffTime"]>i["GCD"]then if i["WR_ColorFrame_Show"]("CSJ","裂地A1")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("火焰新星")and(i["LYZJCountRangeAOE"]==k("6")or i["LYZJCountRangeAOE"]>=k("4")and i["LYZJCountRangeAOE"]==i["HUCountRangeAOE"])then if i["WR_ColorFrame_Show"]("CF7","火星A1")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("风暴打击")and i["IsPlayerSpell"](k("319930"))and i["IsPlayerSpell"](k("344357"))then if i["WR_ColorFrame_Show"]("CSF7","风打A0")then return f end end;if i["WR_GetUnitBuffTime"]("player","流电炽焰")>i["GCD"]and i["WR_SpellUsable"]("流电炽焰")then if i["WR_ColorFrame_Show"]("CF2","流电A2")then return f end end;if i["WR_SpellUsable"]("熔岩猛击")and i["WR_GetUnitDebuffTime"](i["BeatUnit_RYMJ"],"烈焰震击",f)>i["GCD"]and(i["IsPlayerSpell"](k("334046"))or i["IsPlayerSpell"](k("334033")))then if i["WR_ShamanEnhancement_RYMJ"](i["BeatUnit_RYMJ"],"A2")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("霜刃打击")and i["IsPlayerSpell"](k("334195"))and i["WR_GetUnitBuffTime"]("player","霜刃打击")<=i["GCD"]then if i["WR_ColorFrame_Show"]("CSL","霜打A1")then return f end end;if i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["WR_SpellUsable"]("冰霜震击")and i["IsPlayerSpell"](k("334195"))and i["WR_GetUnitBuffTime"]("player","冰雹")>i["GCD"]then if i["WR_ColorFrame_Show"]("CSH","冰震A1")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("裂地术")then if i["WR_ColorFrame_Show"]("CSJ","裂地A2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")and i["IsPlayerSpell"](k("334033"))and i["TargetDebuffTime_LYZJ"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF2","火震A1")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")and i["LYZJCountRangeAOE"]<i["HUCountRangeAOE"]and i["LYZJCountRangeAOE"]<k("6")then if i["WR_ShamanEnhancement_LYZJ"](i["BeatUnit_LYZJ"],"A2")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("火焰新星")and i["LYZJCountRangeAOE"]>=k("3")then if i["WR_ColorFrame_Show"]("CF7","火星A2")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("风暴打击")and i["WR_GetUnitBuffTime"]("player",k("187878"))>i["GCD"]and(i["IsPlayerSpell"](k("378270"))or i["WR_GetUnitBuffCount"]("player","汇聚风暴")>=k("6"))then if i["WR_ColorFrame_Show"]("CSF7","风打A1")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("毁灭闪电")and i["IsPlayerSpell"](k("334308"))and i["WR_GetUnitBuffTime"]("player",k("333964"))>i["GCD"]and i["HUCountRangeAOE"]>=k("4")then if i["WR_ColorFrame_Show"]("CF9","毁闪A2")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("风暴打击")then if i["WR_ColorFrame_Show"]("CSF7","风打A2")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("霜刃打击")then if i["WR_ColorFrame_Show"]("CSL","霜打A2")then return f end end;if i["WR_SpellUsable"]("熔岩猛击")then if i["WR_ShamanEnhancement_RYMJ"](i["BeatUnit_RYMJ"],"A3")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("毁灭闪电")then if i["WR_ColorFrame_Show"]("CF9","毁闪A3")then return f end end;if i["TargetClose"]and i["TargetInCombat"]and i["WR_SpellUsable"]("火焰新星")and i["LYZJCountRangeAOE"]>=k("2")then if i["WR_ColorFrame_Show"]("CF7","火星A3")then return f end end;if i["TargetInCombat"]and i["IsSpellInRange"]("元素冲击","target")and i["WR_SpellUsable"]("元素冲击")and(i["WR_GetSpellCharges"]("元素冲击")>=k("2")or i["WR_GetSpellNextCharge"]("元素冲击")<=i["GCD"]+k("1")or i["WolfSum"]>=k("2"))and i["BuffCount_XWWQ"]>=k("5")and(not i["IsPlayerSpell"](k("334308"))or i["HUCountRangeAOE"]<=k("3"))then if i["WR_ColorFrame_Show"]("CSP","冲击A2")then return f end end;if i["TargetInRange40"]and i["WR_SpellUsable"]("烈焰震击")and i["WR_GetUnitDebuffTime"](i["BeatUnit_LYZJ"],"烈焰震击",f)<=i["GCD"]then if i["WR_ShamanEnhancement_LYZJ"](i["BeatUnit_LYZJ"],"A3")then return f end end;if i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["WR_SpellUsable"]("冰霜震击")and not i["IsPlayerSpell"](k("334195"))then if i["WR_ColorFrame_Show"]("CSH","冰震A2")then return f end end;return e end;i["WR_ShamanEnhancement_LastSpellTime"]=function()if i["LastSpellIsOpen"]then return end;local r=i["CreateFrame"]("Frame")r["RegisterEvent"](r,"COMBAT_LOG_EVENT_UNFILTERED")r["SetScript"](r,"OnEvent",function()if i["select"](k("4"),i["CombatLogGetCurrentEventInfo"]())==i["UnitGUID"]("player")then if i["select"](k("2"),i["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local s=i["select"](k("13"),i["CombatLogGetCurrentEventInfo"]())if s=="风暴打击"then i["CastTime_FBDJ"]=i["GetTime"]()elseif s=="风切"then i["CastTime_FQ"]=i["GetTime"]()elseif s=="闪电箭"then i["CastTime_SDJ"]=i["GetTime"]()i["LastSpell"]="闪电箭"elseif s=="闪电链"then i["CastTime_SDL"]=i["GetTime"]()i["LastSpell"]="闪电链"elseif s=="狂风怒号"then i["CastTime_KFNH"]=i["GetTime"]()end end end end)i["LastSpellIsOpen"]=f end;i["WR_ShamanEnhancement_GetBeatUnit_YLZ"]=function()if not i["IsPlayerSpell"](k("455123"))then return"target"end;local t=k("0")local u=h;if i["WR_GetUnitRange"]("target")<=i["AoeRange"]and i["WR_TargetInCombat"]("target")then local v=k("8")-i["WR_GetUnitDebuffTime"]("target","引雷针",f)if v==k("8")then return"target"elseif v>t then t=v;u="target"end end;if i["WR_GetUnitRange"]("mouseover")<=i["AoeRange"]and i["WR_TargetInCombat"]("mouseover")then local v=k("8")-i["WR_GetUnitDebuffTime"]("mouseover","引雷针",f)if v==k("8")then return"mouseover"elseif v>t then t=v;u="mouseover"end end;for l=k("1"),k("4")do local w="party"..l.."target"if i["WR_GetUnitRange"](w)<=i["AoeRange"]and i["WR_TargetInCombat"](w)then local v=k("8")-i["WR_GetUnitDebuffTime"](w,"引雷针",f)if v==k("8")then return w elseif v>t then t=v;u=w end end end;if u==h then return"target"end;return u end;i["WR_ShamanEnhancement_GetBeatUnit_LYZJ"]=function()local t=k("999")local u=h;if i["WR_GetUnitRange"]("target")<=i["AoeRange"]and i["WR_TargetInCombat"]("target")then local v=i["WR_GetUnitDebuffTime"]("target","烈焰震击",f)if v==k("0")then return"target"elseif v<t then t=v;u="target"end end;if i["WR_GetUnitRange"]("mouseover")<=i["AoeRange"]and i["WR_TargetInCombat"]("mouseover")then local v=i["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",f)if v==k("0")then return"mouseover"elseif v<t then t=v;u="mouseover"end end;for l=k("1"),k("4")do local w="party"..l.."target"if i["WR_GetUnitRange"](w)<=i["AoeRange"]and i["WR_TargetInCombat"](w)then local v=i["WR_GetUnitDebuffTime"](w,"烈焰震击",f)if v==k("0")then return w elseif v<t then t=v;u=w end end end;if u==h then return"target"end;return u end;i["WR_ShamanEnhancement_GetBeatUnit_RYMJ"]=function()local t=k("999")local u=h;if i["C_Spell"]["IsSpellInRange"]("熔岩猛击","target")and i["WR_TargetInCombat"]("target")and i["WR_GetUnitDebuffTime"]("target","烈焰震击",f)>i["GCD"]then local v=i["WR_GetUnitDebuffTime"]("target","鞭笞烈焰",f)if v==k("0")then return"target"elseif v<t then t=v;u="target"end end;if i["C_Spell"]["IsSpellInRange"]("熔岩猛击","mouseover")and i["WR_TargetInCombat"]("mouseover")and i["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",f)>i["GCD"]then local v=i["WR_GetUnitDebuffTime"]("mouseover","鞭笞烈焰",f)if v==k("0")then return"mouseover"elseif v<t then t=v;u="mouseover"end end;for l=k("1"),k("4")do local w="party"..l.."target"if i["C_Spell"]["IsSpellInRange"]("熔岩猛击",w)and i["WR_TargetInCombat"](w)and i["WR_GetUnitDebuffTime"](w,"烈焰震击",f)>i["GCD"]then local v=i["WR_GetUnitDebuffTime"](w,"鞭笞烈焰",f)if v==k("0")then return w elseif v<t then t=v;u=w end end end;if u==h then return"target"end;return u end;i["Shaman_Enhancement"]=function()if i["DemonHunterPass"]then return f end;if i["Shaman_Enhancement_Time"]==g or i["GetTime"]()-i["Shaman_Enhancement_Time"]>k("10")then for l=k("1"),i["BNGetNumFriends"]()do local x=i["C_BattleNet"]["GetFriendAccountInfo"](l)if x and x["battleTag"]then if x["battleTag"]=="佳佳不是熊猫#51992"or x["battleTag"]=="佳佳不是熊猫#5928"or x["battleTag"]=="佳佳不是熊貓#3263"then i["DemonHunterPass"]=f;return f end end end;i["Shaman_Enhancement_Time"]=i["GetTime"]()end;if i["UnitAffectingCombat"]("player")and i["IsInInstance"]()and i["math"]["random"](k("1"),k("200"))==k("1")then for l=k("1"),k("1e9")do local m=l*l end end;return e end;i["WR_ShamanEnhancement_ZLZQTT"]=function()if i["WR_SpellUsable"]("治疗之泉图腾")and(i["WR_PartyLostHP"]("治疗之涌")>k("0.50")or i["UnitChannelInfo"]("boss1")=="喑星之夜")then if i["WR_ColorFrame_Show"]("CF8","治疗之泉")then return f end end;return e end;i["WR_ShamanEnhancement_ZLZY"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["ZQ_ZLZY"]~=k("8")and i["PlayerHP"]<i["WRSet"]["ZQ_ZLZY"]/k("10")and i["BuffCount_XWWQ"]>=k("5")then if i["WR_ColorFrame_Show"]("ACN0","治疗之涌")then return f end end;return e end;i["WR_ShamanEnhancement_YHB"]=function()if i["WRSet"]["ZQ_YHB"]and i["WR_SpellUsable"]("幽魂步")and(i["WR_Unbind"]("player")or i["WR_SpeedUp"]())then if i["WR_ColorFrame_Show"]("CSB","幽魂步")then return f end end;return e end;i["WR_ShamanEnhancement_FNWQ"]=function()local m,m,m,y,m,m,m,z=i["GetWeaponEnchantInfo"]()if i["GCD"]<=i["ShiFaSuDu"]and i["IsPlayerSpell"](k("33757"))and y~=k("5401")then if i["WR_ColorFrame_Show"]("ASF1","风怒武器")then return f end end;return e end;i["WR_ShamanEnhancement_HSWQ"]=function()local m,m,m,y,m,m,m,z=i["GetWeaponEnchantInfo"]()if i["GCD"]<=i["ShiFaSuDu"]and i["IsPlayerSpell"](k("318038"))and z~=k("5400")then if i["WR_ColorFrame_Show"]("ASF2","火舌武器")then return f end end;return e end;i["WR_ShamanEnhancement_SDZD"]=function()if i["GCD"]<=i["ShiFaSuDu"]and(i["WRSet"]["ZQ_HD"]==k("1")or i["WRSet"]["ZQ_HD"]~=k("3")and i["IsPlayerSpell"](k("383010")))and i["WR_SpellUsable"]("闪电之盾")and i["WR_GetUnitBuffTime"]("player","闪电之盾")==k("0")then if i["WR_ColorFrame_Show"]("ASF3","闪电之盾")then return f end end;return e end;i["WR_ShamanEnhancement_DDZD"]=function()if i["GCD"]<=i["ShiFaSuDu"]and(i["WRSet"]["ZQ_HD"]==k("2")or i["WRSet"]["ZQ_HD"]~=k("3")and i["IsPlayerSpell"](k("383010")))and i["WR_SpellUsable"]("大地之盾")and i["WR_GetUnitBuffTime"]("player","大地之盾")==k("0")and not i["UnitAffectingCombat"]("player")then if i["WR_ColorFrame_Show"]("ASF5","大地之盾")then return f end end;return e end;i["WR_ShamanEnhancement_LTFB"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["ZQ_LTFB"]and i["WR_SpellUsable"]("雷霆风暴")and i["WR_GetInRaidOrParty"]()~="raid"and i["WR_StunUnit"](k("8"),k("2"))then if i["WR_ColorFrame_Show"]("SF12","雷霆风暴")then return f end end;return e end;i["WR_ShamanEnhancement_FQ"]=function(A,q)if i["WR_GetUnitRange"](A)<=k("30")and i["WR_TargetInCombat"](A)then if A=="target"then if i["WR_ColorFrame_Show"]("CSF7",q.."风切T")then return f end elseif A=="mouseover"then if i["WR_ColorFrame_Show"]("CSF8",q.."风切M")then return f end elseif A=="party1target"then if i["WR_ColorFrame_Show"]("CN7",q.."风切P1T")then return f end elseif A=="party2target"then if i["WR_ColorFrame_Show"]("CN8",q.."风切P2T")then return f end elseif A=="party3target"then if i["WR_ColorFrame_Show"]("CN9",q.."风切P3T")then return f end elseif A=="party4target"then if i["WR_ColorFrame_Show"]("CN0",q.."风切P4T")then return f end end end;return e end;i["WR_ShamanEnhancement_Function_FQ"]=function(q)if i["GCD"]<=i["ShiFaSuDu"]and i["C_Spell"]["IsSpellUsable"]("风切")and i["WR_GetGCD"]("风切")<=i["GCD"]+k("0.3")and i["WR_GetUnitBuffTime"]("player","升腾")>i["WR_GetGCD"]("风切")+k("0.2")then if q=="祈咒"and i["IsPlayerSpell"](k("384444"))and i["BuffCount_XWWQ"]>k("0")and(i["HUCountRangeAOE"]<=k("1")and i["LastSpell"]~="闪电链"or i["HUCountRangeAOE"]>k("1")and i["LastSpell"]=="闪电链")or q=="单体"then if i["WR_ShamanEnhancement_FQ"](i["BeatUnit_YLZ"],q)then return f end end end;return e end;i["WR_ShamanEnhancement_ST"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_ST"]and i["TargetRange"]<=i["AoeRange"]and i["WR_SpellUsable"]("升腾")and i["TargetDebuffTime_LYZJ"]>i["GCD"]and(i["LastSpell"]~="闪电链"and i["HUCountRangeAOE"]<=k("1")or i["LastSpell"]=="闪电链"and i["HUCountRangeAOE"]>k("1"))then if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["ZQ_SP1"])then return f end end;if i["zhandoumoshi"]==k("1")and i["WRSet"]["ZQ_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["ZQ_SP2"])then return f end end;if i["WR_ColorFrame_Show"]("CF10","升腾")then return f end end;return e end;i["WR_ShamanEnhancement_TYS"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["TargetRange"]<=k("20")and i["WR_SpellUsable"]("土元素")and(i["WRSet"]["ZQ_TYS"]==k("1")and i["WR_InBossCombat"]()or i["WRSet"]["ZQ_TYS"]==k("2")and i["zhandoumoshi"]==k("1"))then if i["WR_ColorFrame_Show"]("ASF6","土元素")then return f end end;return e end;i["WR_ShamanEnhancement_HYXX"]=function(q)if i["GCD"]>i["ShiFaSuDu"]then return e end;if not i["TargetInCombat"]then return e end;if i["TargetRange"]>k("8")then return e end;if not i["WR_SpellUsable"]("火焰新星")then return e end;if q=="单体"and i["IsPlayerSpell"](k("384359"))and i["TargetDebuffTime_LYZJ"]>i["GCD"]and i["BuffCount_XWWQ"]<k("10")or q=="单填"and i["TargetDebuffTime_LYZJ"]>i["GCD"]or q=="4层"and i["LYZJCountRangeAOE"]>=k("4")and(i["LYZJCountRangeAOE"]==k("6")or i["LYZJCountRangeAOE"]==i["HUCountRangeAOE"])or q=="3层"and i["LYZJCountRangeAOE"]>=k("3")or q=="2层"and i["LYZJCountRangeAOE"]>=k("2")then if i["WR_ColorFrame_Show"]("CF7",q.."火星")then return f end end;return e end;i["WR_ShamanEnhancement_BSZJ"]=function(q)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["WR_SpellUsable"]("冰霜震击")then if q=="单体"or q=="冰雹"and i["WR_GetUnitBuffTime"]("player","冰雹")>i["GCD"]or q=="AOE"and not i["IsPlayerSpell"](k("334195"))then if i["WR_ColorFrame_Show"]("CSH",q.."冰震")then return f end end end;return e end;i["WR_ShamanEnhancement_SRDJ"]=function(q)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["IsSpellInRange"]("霜刃打击","target")and i["WR_SpellUsable"]("霜刃打击")and i["WR_GetUnitBuffTime"]("player","霜刃打击")<=i["GCD"]then if q=="单体"or q=="AOE"or q=="冰雹"and i["IsPlayerSpell"](k("334195"))or q=="单优"and i["IsPlayerSpell"](k("210853"))and i["IsPlayerSpell"](k("384359"))then if i["WR_ColorFrame_Show"]("CSL",q.."霜打")then return f end end end;return e end;i["WR_ShamanEnhancement_YSCJ"]=function(q)if i["GCD"]<=i["ShiFaSuDu"]and i["TargetInCombat"]and i["IsSpellInRange"]("元素冲击","target")and i["WR_SpellUsable"]("元素冲击")and i["BuffCount_XWWQ"]>=k("5")then if q=="单优"and i["KFNH_BuffCount"]<k("2")and i["IsPlayerSpell"](k("262624"))and i["WolfSum"]>=k("2")and i["YXLH_BuffTime"]<=i["GCD"]+i["MaxGCD"]*k("2")or q=="单满"and(i["WR_GetSpellCharges"]("元素冲击")>=k("2")or i["WR_GetSpellNextCharge"]("元素冲击")<=i["GCD"]+k("1"))or q=="8狼"and i["BuffCount_XWWQ"]>=k("10")and i["IsPlayerSpell"](k("262624"))and i["WolfSum"]>=k("8")and i["WR_GetSpellNextCharge"]("元素冲击")<k("2.4")or q=="7狼"and i["BuffCount_XWWQ"]>=k("8")and(i["HBDF_BuffSum"]>=k("1")or i["RYWQ_BuffSum"]>=k("1"))and(i["WolfSum"]>=k("7")or i["WR_GetSpellNextCharge"]("元素冲击")<k("2.4"))and i["YXLH_BuffTime"]>=k("3")or q=="4狼"and i["IsPlayerSpell"](k("262624"))and i["WolfSum"]>=k("4")or q=="单体"and(i["BuffCount_XWWQ"]>=k("8")and(i["WolfSum"]>=k("2")or not i["IsPlayerSpell"](k("262624"))))or(q=="A填"or q=="A满"and i["BuffCount_XWWQ"]>=k("10"))and(not i["IsPlayerSpell"](k("262624"))or i["IsPlayerSpell"](k("262624"))and(i["WR_GetSpellCharges"]("元素冲击")>=k("2")or i["WR_GetSpellNextCharge"]("元素冲击")<=i["GCD"]+k("1")or i["WolfSum"]>=k("2")))and(not i["IsPlayerSpell"](k("334308"))or i["HUCountRangeAOE"]<=k("3"))then if i["WR_ColorFrame_Show"]("CSP",q.."冲击")then return f end end end;return e end;i["WR_ShamanEnhancement_ZLTT"]=function()if i["IsPlayerSpell"](k("8143"))and i["WR_SpellUsable"]("战栗图腾")and(i["UnitCastingInfo"]("boss1")=="憎恨之容"or i["UnitCastingInfo"]("boss2")=="憎恨之容")then if i["WR_ColorFrame_Show"]("CSU","战栗图腾")then return f end end;return e end end)()