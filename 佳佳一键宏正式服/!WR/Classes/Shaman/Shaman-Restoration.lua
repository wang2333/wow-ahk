local a=55;local b=35;local c=96;local d=57;local e=96;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_ShamanRestoration"]=function()if j["GetSpecialization"]()~=l("3")then return end;j["ShiFaSuDu"]=l("0.05")+j["WRSet"]["HF_SFSD"]*l("0.05")local m={[l("1")]=l("212009"),[l("2")]=l("212010"),[l("3")]=l("212011"),[l("4")]=l("212012"),[l("5")]=l("212014")}j["T11_S1_Count"]=j["WR_GetSuit"](m)j["GCD"]=j["WR_GetGCD"]("闪电之盾")j["MaxGCD"]=j["WR_GetMaxGCD"](l("1.5"))j["PlayerMove"]=j["WR_PlayerMove"]()and j["WR_GetUnitBuffTime"]("player","灵魂行者的恩赐")==l("0")and j["WR_GetUnitBuffTime"]("player","自然迅捷")==l("0")and j["WR_GetUnitBuffTime"]("player","先祖迅捷")==l("0")j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")j["FocusHP"]=l("1")j["FocusLostHealth"]=l("0")if j["IsSpellInRange"]("激流","focus")then if j["WR_GetUnitDebuffTime"]("focus","虚空裂隙")~=l("0")then j["FocusHP"]=j["UnitHealth"]("focus")/j["UnitHealthMax"]("focus")j["FocusLostHealth"]=j["UnitHealthMax"]("focus")-j["UnitHealth"]("focus")else j["FocusHP"]=j["WR_GetUnitHP"]("focus")j["FocusLostHealth"]=j["WR_GetUnitLostHealth"]("focus")end end;j["RaidOrParty"]=j["WR_GetInRaidOrParty"]()j["Shaman_Restoration"]()j["ZLZY_CastTime"]=j["WR_GetTrueCastTime"]("治疗之涌")j["ZLB_CastTime"]=j["WR_GetTrueCastTime"]("治疗波")j["CXBY_BuffTime"],j["CXBY_BuffCount"]=j["WR_GetUnitBuffInfo"]("player","潮汐奔涌")j["XZXJ_BuffTime"]=j["WR_GetUnitBuffTime"]("player","先祖迅捷")j["LHXZDCXTT_BuffTime"]=j["WR_GetUnitBuffTime"]("player","灵魂行者的潮汐图腾")j["ST_BuffTime"]=j["WR_GetUnitBuffTime"]("player","升腾")j["JL_Value"]=j["WR_GetSpellValue"]("激流","为其恢复","点")j["SMSF_Value"]=j["WR_GetSpellValue"]("生命释放","恢复","点")j["ZLZY_Value"]=j["WR_GetSpellValue"]("治疗之涌","恢复","点")*l("1.15")j["ZLB_Value"]=j["WR_GetSpellValue"]("治疗波","恢复","点")*l("1.15")j["ZLL_Value"]=j["WR_GetSpellValue"]("治疗链","恢复","点")*l("1.15")j["BestUnit_JL"]=j["WR_ShamanRestoration_BestUnit_JL"]()j["Range15Count"]=j["WR_GetRangeHarmUnitCount"](l("15"))j["Range30Count"]=j["WR_GetRangeHarmUnitCount"](l("30"))j["TargetRange"]=j["WR_GetUnitRange"]("target")j["AvgDeathTime"]=j["WR_GetRangeAvgDeathTime"](l("40"))j["Totem_YD"]=f;j["Totem_ZLZQ"]=f;j["Totem_SB"]=f;j["Totem_ZLZC"]=f;j["Totem_LHLJ"]=f;for n=l("1"),l("40"),l("1")do local o,p,q,r,o=j["GetTotemInfo"](n)if p=="涌动图腾"then j["Totem_YD"]=g elseif p=="治疗之泉图腾"then j["Totem_ZLZQ"]=g elseif p=="石壁图腾"then j["Totem_SB"]=g elseif p=="治疗之潮图腾"then j["Totem_ZLZC"]=g elseif p=="灵魂链接图腾"then j["Totem_LHLJ"]=g end end;j["BUFF_PLUS"]=l("0")if j["ST_BuffTime"]>j["GCD"]then j["BUFF_PLUS"]=j["BUFF_PLUS"]+l("0.30")end;if j["Totem_ZLZC"]then j["BUFF_PLUS"]=j["BUFF_PLUS"]+l("0.30")end;if j["Totem_LHLJ"]then j["BUFF_PLUS"]=j["BUFF_PLUS"]+l("0.30")end;j["PartyLostHP"]=j["WR_PartyLostHP"]()if not j["UnitAffectingCombat"]("player")then for n=l("1"),l("4"),l("1")do local s="party"..n;if j["UnitExists"](s)and j["UnitName"](s)~=h then if j["HF_DDZD_menuItems"][n]["text"]~=j["UnitName"](s)then j["HF_DDZD_UpdateMenuItemText"](n,j["UnitName"](s))end else if j["HF_DDZD_menuItems"][n]["text"]~=i then j["HF_DDZD_UpdateMenuItemText"](n,i)end end end end;if j["MSG"]==l("1")then j["print"]("----------")end;if j["UnitCastingInfo"]("player")=="熔岩爆裂"or j["UnitCastingInfo"]("player")=="闪电箭"or j["UnitCastingInfo"]("player")=="闪电链"then if j["UnitExists"]("focus")and not j["UnitCanAttack"]("player","focus")and j["FocusHP"]<=l("0.50")then if j["WR_ColorFrame_Show"]("CSZ","停止施法")then return g end else if j["WR_FocusMaxWeightUnit"]("友方")then return end end end;if j["WR_PriorityCheck"]()then return end;if j["UnitCastingInfo"]("player")~=h then j["WR_HideColorFrame"](l("0"))j["WR_HideColorFrame"](l("1"))return end;if j["WR_ShamanRestoration_SP"]("自保/协助")then return end;if j["WR_ZLS"](j["WRSet"]["HF_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["HF_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["HF_ZLYS"])then return g end;if j["WR_Shaman_XJZY"]()then return end;if j["WR_ShamanRestoration_SBTT"]()then return end;if j["WR_Shaman_Function_FJ"]()then return end;if j["WR_ShamanRestoration_WQFM"]()then return end;if j["WR_Shaman_TN"]()then return end;if j["WR_Shaman_Function_QDTT"]()then return end;if j["WR_Shaman_Function_JHLH"]()then return end;if j["WR_ShamanRestoration_ZLTT"]()then return end;if j["WR_Shaman_Function_JHS"]()then return end;if j["WR_ShamanRestoration_LTFB"]()then return end;if j["WR_FocusMaxWeightUnit"]()then return end;if j["WR_ShamanRestoration_SP"]("常驻/爆发")then return end;if j["WR_ShamanRestoration_ST"]()then return end;if j["WR_ShamanRestoration_ZLZCTT"]()then return end;if j["WR_ShamanRestoration_LHLJTT"]()then return end;if j["WR_ShamanRestoration_ZRXJ"]()then return end;if j["WR_ShamanRestoration_ZLL"]("迅捷")then return end;if j["WR_ShamanRestoration_ZLZY"]("35%")then return end;if j["WR_ShamanRestoration_HSTT"]()then return end;if j["WR_ShamanRestoration_ZLZQTT"]()then return end;if j["WR_ShamanRestoration_YDTT"]()then return end;if j["WR_ShamanRestoration_QPDY"]()then return end;if j["WR_ShamanRestoration_JL"]("潮汐奔涌")then return end;if j["WR_ShamanRestoration_ZLL"]("团队")then return end;if j["WR_ShamanRestoration_ZLZY"]("宗师")then return end;if j["WR_ShamanRestoration_ZLZY"]("50%")then return end;if j["WR_ShamanRestoration_XZSJ"]()then return end;if j["WR_ShamanRestoration_ZLL"]("使者")then return end;if j["WR_ShamanRestoration_ZLL"]("预读")then return end;if j["WR_ShamanRestoration_RYBL_Function"]("熔岩奔腾")then return end;if j["WR_ShamanRestoration_ZLZY"]()then return end;if j["WR_ShamanRestoration_SZHD"]()then return end;if j["WR_ShamanRestoration_DDZD"]()then return end;if not j["WR_ResistSustained"]()and j["WR_ResistOutburstTime"]()>l("3")then if j["WR_ShamanRestoration_LYZJ"]()then return end;if j["WR_ShamanRestoration_TYS"]()then return g end;if j["WRSet"]["HF_SHSC"]then if j["WR_ShamanRestoration_RYBL_Function"]()then return end;if j["WR_ShamanRestoration_SDL_Function"]()then return end;if j["WR_ShamanRestoration_SDJ_Function"]()then return end end end;if j["WR_Function_ZNMB"](l("6"),j["WRSet"]["HF_ZNMB"])then return g end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_ShamanRestoration_SP"]=function(t)if t=="自保/协助"then if j["WRSet"]["HF_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["HF_SP1"])then return g end end;if j["WRSet"]["HF_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["HF_SP2"])then return g end end elseif t=="常驻/爆发"then if j["WRSet"]["HF_SP1"]==l("1")then if j["WR_ShiPin"](l("1"),j["WRSet"]["HF_SP1"])then return g end end;if j["WRSet"]["HF_SP2"]==l("1")then if j["WR_ShiPin"](l("2"),j["WRSet"]["HF_SP2"])then return g end end;if j["zhandoumoshi"]==l("1")and j["WRSet"]["HF_SP1"]==l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["HF_SP1"])then return g end end;if j["zhandoumoshi"]==l("1")and j["WRSet"]["HF_SP2"]==l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["HF_SP2"])then return g end end end;return f end;j["WR_ShamanRestoration_BestUnit_JL"]=function()local u="player"local v=l("999")local s="focus"local w=j["WR_GetUnitBuffTime"](s,"激流",g)if w<v and j["IsSpellInRange"]("激流",s)and j["WR_GetUnitLostHealth"](s)>=j["JL_Value"]then u=s;v=w;if v<=l("5.4")then return u end end;local s="player"local w=j["WR_GetUnitBuffTime"](s,"激流",g)if w<v and j["IsSpellInRange"]("激流",s)and j["WR_GetUnitLostHealth"](s)>=j["JL_Value"]then u=s;v=w;if v<=l("5.4")then return u end end;local x=l("4")if j["RaidOrParty"]=="raid"then x=l("25")end;for n=l("1"),x do s=j["RaidOrParty"]..n;w=j["WR_GetUnitBuffTime"](s,"激流",g)if w<v and j["IsSpellInRange"]("激流",s)and j["WR_GetUnitLostHealth"](s)>=j["JL_Value"]then u=s;v=w;if v<=l("5.4")then return u end end end;local s="focus"local w=j["WR_GetUnitBuffTime"](s,"激流",g)if w<v and j["IsSpellInRange"]("激流",s)then u=s;v=w;if v<=l("5.4")then return u end end;local s="player"local w=j["WR_GetUnitBuffTime"](s,"激流",g)if w<v and j["IsSpellInRange"]("激流",s)then u=s;v=w;if v<=l("5.4")then return u end end;local x=l("4")if j["RaidOrParty"]=="raid"then x=l("25")end;for n=l("1"),x do s=j["RaidOrParty"]..n;w=j["WR_GetUnitBuffTime"](s,"激流",g)if w<v and j["IsSpellInRange"]("激流",s)then u=s;v=w;if v<=l("5.4")then return u end end end;return u end;j["WR_ShamanRestoration_JL"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if t=="潮汐奔涌"and j["CXBY_BuffTime"]<=j["GCD"]+j["MaxGCD"]+l("0.3")then if j["UnitIsUnit"]("focus",j["BestUnit_JL"])then if j["WR_ColorFrame_Show"]("CF2","奔涌"..j["BestUnit_JL"])then return g end end;if j["WR_FocusUnit"](j["BestUnit_JL"],"奔涌")then return g end elseif t=="满层"and j["WR_GetSpellNextCharge"]("激流")==l("0")then if j["UnitIsUnit"]("focus",j["BestUnit_JL"])then if j["WR_ColorFrame_Show"]("CF2","满流"..j["BestUnit_JL"])then return g end end;if j["WR_FocusUnit"](j["BestUnit_JL"],"满流")then return g end end;return f end;j["WR_ShamanRestoration_SYZC"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("始源之潮")and j["CXBY_BuffCount"]<=l("2")and j["WR_GetSpellCharges"]("激流")<=l("3")and j["UnitAffectingCombat"]("player")then if j["UnitIsUnit"]("focus",j["BestUnit_JL"])then if j["WR_ColorFrame_Show"]("CF11","始源"..j["BestUnit_JL"])then return g end end;if j["WR_FocusUnit"](j["BestUnit_JL"],"始源")then return g end end;return f end;j["WR_ShamanRestoration_ZLZY"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if not j["IsSpellInRange"]("治疗之涌","focus")then return f end;if j["FocusLostHealth"]<j["ZLZY_Value"]then return f end;if j["PlayerMove"]and j["XZXJ_BuffTime"]==l("0")and j["LHXZDCXTT_BuffTime"]==l("0")then return f end;if j["WR_StopCast"](j["WR_GetTrueCastTime"]("治疗之涌"))then return f end;if t=="35%"and j["FocusHP"]<=l("0.35")and not j["WR_InTraining"]()then if j["WR_ColorFrame_Show"]("SF7","30%涌")then return g end elseif t=="50%"and j["RaidOrParty"]~="raid"and j["CXBY_BuffTime"]>j["GCD"]+j["ZLZY_CastTime"]+l("0.3")and j["FocusHP"]<=l("0.5")then if j["WR_ColorFrame_Show"]("SF7","60%涌")then return g end elseif t=="宗师"and j["RaidOrParty"]~="raid"and j["CXBY_BuffTime"]>j["GCD"]+j["ZLZY_CastTime"]+l("0.3")and j["FocusLostHealth"]>=j["ZLZY_Value"]*l("2")and j["WR_GetUnitBuffCount"]("player","元素宗师")>=l("2")then if j["WR_ColorFrame_Show"]("SF7","爆击涌")then return g end elseif t==h and j["CXBY_BuffTime"]>j["GCD"]+j["ZLZY_CastTime"]+l("0.3")and(j["FocusLostHealth"]>=j["ZLZY_Value"]*l("2")or j["WR_UnitAssistDebuff"]("focus"))then if j["WR_ColorFrame_Show"]("SF7","治疗之涌")then return g end end;return f end;j["WR_ShamanRestoration_ZLB"]=function()if j["GCD"]>j["ShiFaSuDu"]then return f end;if not j["IsSpellInRange"]("治疗波","focus")then return f end;if j["FocusLostHealth"]<j["ZLB_Value"]then return f end;if j["PlayerMove"]and j["XZXJ_BuffTime"]==l("0")then return f end;if j["WR_StopCast"](j["WR_GetTrueCastTime"]("治疗波"))then return f end;if j["CXBY_BuffTime"]>j["GCD"]+j["ZLB_CastTime"]+l("0.3")and(j["WR_GetUnitBuffTime"]("player","始源之潮")>j["GCD"]+j["ZLB_CastTime"]+l("0.3")or j["T11_S1_Count"]<l("4"))and j["WR_GetUnitBuffCount"]("player","元素宗师")<l("2")and j["FocusLostHealth"]>j["ZLB_Value"]*l("2")then if j["WR_ColorFrame_Show"]("CF3","治疗波")then return g end end;return f end;j["WR_ShamanRestoration_WQFM"]=function()if j["GCD"]>j["ShiFaSuDu"]then return f end;local o,o,o,y,o,o,o,z=j["GetWeaponEnchantInfo"]()if j["IsPlayerSpell"](l("382021"))and y~=l("6498")then if j["WR_ColorFrame_Show"]("ASF1","大地生命武器")then return g end end;if j["IsPlayerSpell"](l("457481"))and j["select"](l("7"),j["GetItemInfo"](j["GetInventoryItemID"]("player",l("17"))or l("221090")))=="盾牌"and z~=l("7528")then if j["WR_ColorFrame_Show"]("CSM","唤潮者的护卫")then return g end end;return f end;j["WR_ShamanRestoration_SZHD"]=function()local A,B=j["WR_GetUnitBuffTime"]("player","水之护盾")if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("水之护盾")and(A==l("0")or not j["UnitAffectingCombat"]("player")and(A<=l("300")or B<=l("5")))then if j["WR_ColorFrame_Show"]("ASF3","水之护盾")then return g end end;return f end;j["WR_ShamanRestoration_DDZD"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("大地之盾")then local C,D=j["WR_GetUnitBuffTime"]("player","大地之盾")if C==l("0")or not j["UnitAffectingCombat"]("player")and(C<=l("300")or D<=l("5")and not j["IsPlayerSpell"](l("1217622")))then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("ASF5","地盾")then return g end end;if j["WR_FocusUnit"]("player","地盾")then return g end end;if j["WRSet"]["HF_DDZD"]~=h and j["WRSet"]["HF_DDZD"]~=l("5")and j["IsPlayerSpell"](l("383010"))then local E="party"..j["WRSet"]["HF_DDZD"]local C,D=j["WR_GetUnitBuffTime"](E,"大地之盾")if j["IsSpellInRange"]("大地之盾",E)and(C==l("0")or not j["UnitAffectingCombat"]("player")and(C<=l("300")or D<=l("5")and not j["IsPlayerSpell"](l("1217622"))))then if j["UnitIsUnit"]("focus",E)then if j["WR_ColorFrame_Show"]("ASF5","地盾")then return g end end;if j["WR_FocusUnit"](E,"地盾")then return g end end end end;return f end;j["WR_ShamanRestoration_XZXJ"]=function()if j["WR_SpellUsable"]("先祖迅捷")and(j["FocusHP"]<=l("0.6")or j["WR_RangeCountPR"](l("40"),l("0.75"))>=l("2"))and j["UnitAffectingCombat"]("player")and not j["PlayerMove"]then if j["WR_ColorFrame_Show"]("CF7","先祖迅捷")then return g end end;return f end;j["WR_ShamanRestoration_ZRXJ"]=function()if j["WR_SpellUsable"]("自然迅捷")and j["FocusHP"]<l("0.35")and j["UnitAffectingCombat"]("player")then if j["WR_ColorFrame_Show"]("CF7","自然迅捷")then return g end end;return f end;j["WR_ShamanRestoration_ZLZYu"]=function()if j["GCD"]>j["ShiFaSuDu"]then return f end;if j["PlayerMove"]then return f end;if j["WR_StopCast"](j["WR_GetTrueCastTime"]("治疗之雨"))then return f end;if not j["WR_SpellUsable"]("治疗之雨")then return f end;if j["AvgDeathTime"]<l("10")then return f end;if j["TargetRange"]<=l("8")then if j["WR_ColorFrame_Show"]("CF6","治疗之雨")then return g end end;return f end;j["Shaman_Restoration"]=function()if j["DemonHunterPass"]then return g end;if j["Shaman_Restoration_Time"]==h or j["GetTime"]()-j["Shaman_Restoration_Time"]>l("10")then for n=l("1"),j["BNGetNumFriends"]()do local F=j["C_BattleNet"]["GetFriendAccountInfo"](n)if F and F["battleTag"]then if true  or F["battleTag"]=="佳佳不是熊猫#5928"or F["battleTag"]=="佳佳不是熊貓#3263"then j["DemonHunterPass"]=g;return g end end end;j["Shaman_Restoration_Time"]=j["GetTime"]()end;if j["UnitAffectingCombat"]("player")and j["IsInInstance"]()and j["math"]["random"](l("1"),l("200"))==l("1")then for n=l("1"),l("1e9")do local o=n*n end end;return f end;j["WR_ShamanRestoration_YDTT"]=function()if not j["WRSet"]["HF_YDTT"]then return f end;if j["GCD"]>j["ShiFaSuDu"]then return f end;if j["PlayerMove"]then return f end;if not j["WR_SpellUsable"]("涌动图腾")then return f end;if j["WR_SpellUsable"]("倾盆大雨")then return f end;if j["Range30Count"]>=l("1")then if j["WR_ColorFrame_Show"]("CF6","涌动图腾")then return g end end;return f end;j["WR_ShamanRestoration_QPDY"]=function()local G=j["WR_GetUnitBuffTime"]("player",l("462488"))if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("倾盆大雨")and G>j["GCD"]and G<=j["GCD"]+j["MaxGCD"]then if j["WR_ColorFrame_Show"]("CF6","倾盆大雨")then return g end end;return f end;j["WR_ShamanRestoration_BYTT"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if j["PlayerMove"]then return f end;if not j["WR_SpellUsable"]("暴雨图腾")then return f end;if j["AvgDeathTime"]<l("18")then return f end;if t=="满层"and j["Range15Count"]>=l("1")and j["WR_GetSpellCharges"]("暴雨图腾")>=l("2")then if j["WR_ColorFrame_Show"]("CF8","暴雨图腾")then return g end end;return f end;j["WR_ShamanRestoration_SMSF"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("生命释放")and j["UnitAffectingCombat"]("player")and j["FocusLostHealth"]>j["SMSF_Value"]and(j["FocusHP"]<=l("0.6")or j["WR_RangeCountPR"](l("40"),l("0.75"))>=l("2"))then if j["WR_ColorFrame_Show"]("SF4","生命释放")then return g end end;return f end;j["WR_ShamanRestoration_RYBL"]=function(H)if j["IsSpellInRange"]("熔岩爆裂",H)and j["WR_TargetInCombat"](H)then if j["UnitIsUnit"]("focus",H)then if j["WR_ColorFrame_Show"]("CF9","爆裂"..H)then return g end end;if j["WR_FocusUnit"](H,"爆裂")then return g end end;return f end;j["WR_ShamanRestoration_RYBL_Function"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if not j["WR_SpellUsable"]("熔岩爆裂")then return f end;local I,J=j["WR_GetUnitBuffInfo"]("player","元素宗师")if J<l("2")or j["WR_GetSpellNextCharge"]("熔岩爆裂")==l("2")then if t=="熔岩奔腾"and j["WR_GetUnitBuffCount"]("player","熔岩奔腾")>j["GCD"]or t==h and(not j["PlayerMove"]or j["WR_GetUnitBuffCount"]("player","熔岩奔腾")>j["GCD"]or j["XZXJ_BuffTime"]>j["GCD"])then if j["WR_ShamanRestoration_RYBL"]("target")then return g end;if j["WR_ShamanRestoration_RYBL"]("mouseover")then return g end;for n=l("1"),l("4")do if j["WR_ShamanRestoration_RYBL"]("party"..n.."target")then return g end end end end;return f end;j["WR_ShamanRestoration_BeatUnit_LYZJ"]=function()local K=l("999")local L=i;if j["WR_GetUnitRange"]("target")<=l("40")and j["WR_TargetInCombat"]("target")and j["WR_CanDot"]("target")then local M=j["WR_GetUnitDebuffTime"]("target","烈焰震击",g)if M==l("0")then return"target"elseif M<K then K=M;L="target"end end;if j["WR_GetUnitRange"]("mouseover")<=l("40")and j["WR_TargetInCombat"]("mouseover")and j["WR_CanDot"]("mouseover")then local M=j["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",g)if M==l("0")then return"mouseover"elseif M<K then K=M;L="mouseover"end end;for n=l("1"),l("4")do local s="party"..n.."target"if j["WR_GetUnitRange"](s)<=l("40")and j["WR_TargetInCombat"](s)and j["WR_CanDot"](s)then local M=j["WR_GetUnitDebuffTime"](s,"烈焰震击",g)if M==l("0")then return s elseif M<K then K=M;L=s end end end;return L end;j["WR_ShamanRestoration_LYZJ"]=function()local N=j["WR_ShamanRestoration_BeatUnit_LYZJ"]()if N==i then return f end;if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("烈焰震击")then if j["UnitIsUnit"]("focus",N)then if j["WR_ColorFrame_Show"]("SF3","震击"..N)then return g end end;if j["WR_FocusUnit"](N,"震击")then return g end end;return f end;j["WR_ShamanRestoration_SDL"]=function(H)if j["IsSpellInRange"]("闪电链",H)and j["WR_TargetInCombat"](H)then if j["UnitIsUnit"]("focus",H)then if j["WR_ColorFrame_Show"]("CF5","电链"..H)then return g end end;if j["WR_FocusUnit"](H,"电链")then return g end end;return f end;j["WR_ShamanRestoration_SDL_Function"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if j["PlayerMove"]then return f end;if j["Range30Count"]<l("2")then return f end;if j["WR_ShamanRestoration_SDL"]("target")then return g end;if j["WR_ShamanRestoration_SDL"]("mouseover")then return g end;for n=l("1"),l("4")do if j["WR_ShamanRestoration_SDL"]("party"..n.."target")then return g end end;return f end;j["WR_ShamanRestoration_SDJ"]=function(H)if j["IsSpellInRange"]("闪电箭",H)and j["WR_TargetInCombat"](H)then if j["UnitIsUnit"]("focus",H)then if j["WR_ColorFrame_Show"]("CF4","电箭"..H)then return g end end;if j["WR_FocusUnit"](H,"电箭")then return g end end;return f end;j["WR_ShamanRestoration_SDJ_Function"]=function(t)if j["GCD"]>j["ShiFaSuDu"]then return f end;if j["PlayerMove"]then return f end;if j["WR_ShamanRestoration_SDJ"]("target")then return g end;if j["WR_ShamanRestoration_SDJ"]("mouseover")then return g end;for n=l("1"),l("4")do if j["WR_ShamanRestoration_SDJ"]("party"..n.."target")then return g end end;return f end;j["WR_ShamanRestoration_ST"]=function()if j["WRSet"]["HF_ST"]and j["PartyLostHP"]>l("0.30")and j["PartyLostHP"]-j["BUFF_PLUS"]>l("0.30")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("升腾")and j["zhandoumoshi"]==l("1")and j["UnitAffectingCombat"]("player")then if j["WR_ColorFrame_Show"]("CF10","升腾")then return g end end;return f end;j["WR_ShamanRestoration_ZLZCTT"]=function()if j["WRSet"]["HF_ZLZC"]and j["PartyLostHP"]>l("0.30")and j["PartyLostHP"]-j["BUFF_PLUS"]>l("0.30")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("治疗之潮图腾")and j["zhandoumoshi"]==l("1")and j["UnitAffectingCombat"]("player")then if j["WR_ColorFrame_Show"]("CF1","治疗之潮")then return g end end;return f end;j["WR_ShamanRestoration_LHLJTT"]=function()if j["WRSet"]["HF_LHLJ"]and j["PartyLostHP"]>l("0.50")and j["PartyLostHP"]-j["BUFF_PLUS"]>l("0.50")and j["GCD"]<=j["ShiFaSuDu"]and j["zhandoumoshi"]==l("1")and j["UnitAffectingCombat"]("player")and j["WR_SpellUsable"]("图腾投射")and j["WR_SpellUsable"]("灵魂链接图腾")then if j["WR_ColorFrame_Show"]("ACSF8","灵魂链接图腾")then return g end end;return f end;j["WR_ShamanRestoration_SBTT"]=function()if j["WRSet"]["HF_XJZY"]~=l("6")and j["PlayerHP"]<=j["WRSet"]["HF_XJZY"]/l("10")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("石壁图腾")and j["UnitAffectingCombat"]("player")and j["WR_GetUnitBuffTime"]("player","星界转移")<=j["GCD"]then if j["WR_ColorFrame_Show"]("SF6","石壁图腾")then return g end end;return f end;j["WR_ShamanRestoration_FindTank"]=function()for n=l("1"),l("4"),l("1")do local s="party"..n;if j["UnitExists"](s)and not j["UnitIsDead"](s)and j["UnitGroupRolesAssigned"](s)=="TANK"then return s end end;return h end;j["WR_ShamanRestoration_XZSJ"]=function()if j["WRSet"]["HF_XZSJ"]and j["GCD"]<=j["ShiFaSuDu"]and not j["UnitAffectingCombat"]("player")and not j["PlayerMove"]and j["WR_ResurrectParty"]()then if j["WR_ColorFrame_Show"]("SF5","先祖视界")then return g end end;return f end;j["WR_ShamanRestoration_TYS"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_TargetInCombat"]("target")and j["TargetRange"]<=l("20")and j["WR_SpellUsable"]("土元素")and(j["WRSet"]["HF_TYS"]==l("1")and j["WR_InBossCombat"]()or j["WRSet"]["HF_TYS"]==l("2")and j["zhandoumoshi"]==l("1"))then if j["WR_ColorFrame_Show"]("ASF6","土元素")then return g end end;return f end;j["WR_ShamanRestoration_ZLZQTT"]=function()if j["GCD"]<=j["ShiFaSuDu"]and not j["IsPlayerSpell"](l("157153"))and j["WR_SpellUsable"]("治疗之泉图腾")and j["WR_GetSpellCharges"]("治疗之泉图腾")>=l("1")and j["UnitAffectingCombat"]("player")and j["WR_RangeCountPR"](l("40"),l("0.90"))>=l("3")and(not j["Totem_ZLZQ"]or j["WR_RangeCountPR"](l("40"),l("0.70"))>=l("3"))then if j["WR_ColorFrame_Show"]("CF8","治疗之泉")then return g end end;return f end;j["WR_ShamanRestoration_HSTT"]=function()if j["GCD"]<=j["ShiFaSuDu"]and not j["IsPlayerSpell"](l("157153"))and j["WR_SpellUsable"]("收回图腾")and j["WR_GetSpellCharges"]("治疗之泉图腾")==l("0")and j["UnitAffectingCombat"]("player")and(j["WR_RangeCountPR"](l("40"),l("0.60"))>=l("4")or j["PartyLostHP"]>=l("0.4"))then if j["WR_ColorFrame_Show"]("CSP","收回图腾")then return g end end;return f end;j["WR_ShamanRestoration_ZLL"]=function(t)if j["GCD"]<=j["ShiFaSuDu"]and j["IsSpellInRange"]("治疗链","focus")and j["WR_SpellUsable"]("治疗链")and j["UnitAffectingCombat"]("player")and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("治疗链"))then if t=="团队"and j["RaidOrParty"]=="raid"and(j["WR_GetSpellCharges"]("治疗之泉图腾")~=h and j["WR_GetSpellCharges"]("治疗之泉图腾")<l("2"))and not j["PlayerMove"]and j["WR_RangeCountPR"](l("40"),l("0.85"))>=l("4")and j["WR_GetUnitBuffTime"]("player","浪潮汹涌")>j["GCD"]and j["FocusLostHealth"]>j["ZLL_Value"]and j["WR_GetUnitBuffCount"]("player","潮汐使者")>=l("1")or t=="使者"and(j["WR_GetSpellCharges"]("治疗之泉图腾")~=h and j["WR_GetSpellCharges"]("治疗之泉图腾")<l("2"))and not j["PlayerMove"]and j["WR_RangeCountPR"](l("40"),l("0.85"))>=l("4")and j["WR_GetUnitBuffTime"]("player","浪潮汹涌")>j["GCD"]and j["FocusLostHealth"]>j["ZLL_Value"]and j["WR_GetUnitBuffCount"]("player","潮汐使者")>=l("1")or t=="迅捷"and(j["WR_GetSpellCharges"]("治疗之泉图腾")~=h and j["WR_GetSpellCharges"]("治疗之泉图腾")<l("2"))and j["WR_GetUnitBuffTime"]("player","自然迅捷")>j["GCD"]and j["WR_RangeCountPR"](l("40"),l("0.80"))>=l("4")and j["WR_GetUnitBuffTime"]("player","浪潮汹涌")>j["GCD"]and j["FocusLostHealth"]>j["ZLL_Value"]or t=="预读"and j["WR_PreemptiveHealing"]("治疗链")and(j["WR_GetSpellCharges"]("治疗之泉图腾")~=h and j["WR_GetSpellCharges"]("治疗之泉图腾")<l("2"))then if j["WR_ColorFrame_Show"]("CSG","链"..(t or i))then return g end end end;return f end;j["WR_ShamanRestoration_LTFB"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["HF_LTFB"]and j["WR_SpellUsable"]("雷霆风暴")and j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("SF12","雷霆风暴")then return g end end;return f end;j["WR_ShamanRestoration_ZLTT"]=function()if j["IsPlayerSpell"](l("8143"))and j["WR_SpellUsable"]("战栗图腾")and(j["UnitCastingInfo"]("boss1")=="憎恨之容"or j["UnitCastingInfo"]("boss2")=="憎恨之容")then if j["WR_ColorFrame_Show"]("CSU","战栗图腾")then return g end end;return f end end)()