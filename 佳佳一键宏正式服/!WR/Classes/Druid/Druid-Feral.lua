local a=77;local b=48;local c=16;local d=30;local e=68;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_DruidFeral"]=function()if j["GetSpecialization"]()~=l("2")then return end;j["ShiFaSuDu"]=l("0.05")+j["WRSet"]["YX_SFSD"]*l("0.05")if j["UnitAffectingCombat"]("player")==f then j["LastSpell"]=i end;j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")j["PlayerMove"]=j["WR_PlayerMove"]()j["TargetIsNearby"]=j["IsSpellInRange"]("撕碎","target")j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["GCD"]=j["WR_GetGCD"]("野性印记")j["MaxGCD"]=j["WR_GetMaxGCD"](l("1.5"))j["ResistOutburstTime"]=j["WR_ResistOutburstTime"]()j["MustDefenseTime_Bear"]=j["ResistOutburstTime"]<=j["GCD"]+j["MaxGCD"]+l("0.5")j["ComboPoints"]=j["UnitPower"]("player",l("4"))if j["ComboPoints"]<l("5")and j["LastSpell"]=="野性狂乱"and j["GetTime"]()-j["YXKLTime"]<l("1.5")then j["ComboPoints"]=l("5")end;j["Energy"]=j["UnitPower"]("player",l("3"))j["MaxEnergy"]=j["UnitPowerMax"]("player",l("3"))j["_"],j["PowerRegen"]=j["GetPowerRegen"]()j["CatForm"]=j["WR_GetUnitBuffTime"]("player","猎豹形态")~=l("0")j["BearForm"]=j["WR_GetUnitBuffTime"]("player","熊形态")~=l("0")j["BuffTime_MHZN"]=j["WR_GetUnitBuffTime"]("player","猛虎之怒")j["BuffCount_XXZJ"]=j["WR_GetUnitBuffCount"]("player","血腥爪击")j["BuffTime_KB"]=j["math"]["max"](j["WR_GetUnitBuffTime"]("player","狂暴"),j["WR_GetUnitBuffTime"]("player","化身：阿莎曼之灵"))j["TargetGLDebuffTime"]=j["WR_GetUnitDebuffTime"]("target","割裂",g)j["TargetDeathTime"]=j["WR_GetUnitDeathTime"]("target")j["HUCountRange5"]=j["math"]["max"](j["WR_GetSpellRangeHarmUnitCount"]("撕碎",f),j["WR_GetRangeHarmUnitCount"](l("5"),f))j["CombatTime"]=j["WR_GetCombatTime"]()j["WR_DruidFeral_LastSpellTime"]()j["xuezhualianjiji"]=l("0")if j["XLTime"]~=h and j["GetTime"]()+j["GCD"]-j["XLTime"]<l("4")then j["xuezhualianjiji"]=j["xuezhualianjiji"]+l("1")end;if j["SSTime"]~=h and j["GetTime"]()+j["GCD"]-j["SSTime"]<l("4")then j["xuezhualianjiji"]=j["xuezhualianjiji"]+l("1")end;if j["TJTime"]~=h and j["GetTime"]()+j["GCD"]-j["TJTime"]<l("4")then j["xuezhualianjiji"]=j["xuezhualianjiji"]+l("1")end;if j["YHSTime"]~=h and j["GetTime"]()+j["GCD"]-j["YHSTime"]<l("4")then j["xuezhualianjiji"]=j["xuezhualianjiji"]+l("1")end;if j["YMHKTime"]~=h and j["GetTime"]()+j["GCD"]-j["YMHKTime"]<l("4")then j["xuezhualianjiji"]=j["xuezhualianjiji"]+l("1")end;j["TargetClass"]=j["UnitClassification"]("target")if j["WR_InTraining"]()or j["TargetClass"]=="worldboss"or j["TargetClass"]=="rareelite"or j["TargetClass"]=="rare"or j["TargetClass"]=="elite"then j["TargetClass"]="精英"end;if not j["IsPlayerSpell"](l("319439"))or j["BuffCount_XXZJ"]>l("0")then j["Have_XXZJ"]=g else j["Have_XXZJ"]=f end;j["Druid_Feral"]()if j["MSG"]==l("1")then j["print"]("----------")end;if j["WR_PriorityCheck"]()then return end;if j["WR_ZNJD"](j["WRSet"]["YX_ZNJD"])then return end;if j["WR_Druid_SPS"]()then return end;if j["WR_Druid_SCBN"]()then return end;if j["WR_Druid_GL"]()then return end;if j["WR_DruidFeral_SP"]("保命")then return g end;if j["WR_ZLS"](j["WRSet"]["YX_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["YX_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["YX_ZLYS"])then return g end;if j["WR_DruidFeral_ZRDSH"]()then return end;if j["WR_DruidFeral_JCDS"]()then return end;if j["WR_DruidFeral_KBHF"]()then return end;if j["WR_DruidFeral_BXFY"]()then return end;if j["WR_Druid_Function_YTTJ"]()then return end;if j["WR_DruidFeral_BXZT"]()then return end;if j["WR_DruidFeral_YH"]()then return end;if j["WR_Druid_Function_FS"]()then return end;if j["WR_Druid_Function_DHPX"]()then return end;if j["WR_Druid_Function_AF"]()then return end;if j["WR_Druid_Function_YXYJ"]()then return end;if j["WR_Druid_Function_XM"]()then return end;if j["WR_Druid_Function_QCFS"]()then return end;if j["WR_DruidFeral_QHXLMB"]("前置")then return end;if j["WR_DruidFeral_JBFQ"]("脱战")then return end;if j["WR_DruidFeral_QX"]()then return end;if j["WR_DruidFeral_LBXT"]()then return end;if j["WR_DruidFeral_MHZN"]()then return end;if j["WR_DruidFeral_XL"]("潜行")then return end;if j["TargetIsNearby"]and j["TargetInCombat"]then if j["WR_DruidFeral_SP"]("常驻")then return g end;if j["WR_WuQi"](l("3"),j["WRSet"]["YX_WuQi"])then return g end end;if j["WR_DruidFeral_KBHS"]()then return end;if j["WR_DruidFeral_YXKL"]()then return end;if j["WR_DruidFeral_WLZZ"]()then return end;if j["WR_DruidFeral_XMSY"]("大赢家")then return end;if j["WR_DruidFeral_YSZN"]()then return end;if j["WR_DruidFeral_GL"]()then return end;if j["WR_DruidFeral_XMSY"]()then return end;if j["HUCountRange5"]>l("1")then if j["WR_DruidFeral_YMHK"]("狂暴")then return g end;if j["WR_DruidFeral_TJ"]()then return g end;if j["WR_DruidFeral_YMHK"]()then return g end;if j["WR_DruidFeral_XL"]()then return end;if j["WR_DruidFeral_YHS"]()then return end;if j["WR_DruidFeral_SS"]()then return end else if j["WR_DruidFeral_JBFQ"]("目标")then return end;if j["WR_DruidFeral_XL"]()then return end;if j["WR_DruidFeral_SS"]("狂暴")then return end;if j["WR_DruidFeral_YMHK"]()then return g end;if j["WR_DruidFeral_YHS"]()then return end;if j["WR_DruidFeral_TJ"]("无狂暴")then return g end;if j["WR_DruidFeral_SS"]()then return end;if j["WR_DruidFeral_TJ"]()then return g end end;if j["WR_DruidFeral_JBFQ"]()then return end;if j["WR_DruidFeral_XMSY"]("免费")then return end;if j["WR_DruidFeral_QHXLMB"]("后置")then return end;if j["WRSet"]["YX_ZNMB"]<=l("2")then if j["WR_Function_ZNMB"](l("2"),j["WRSet"]["YX_ZNMB"])then return g end elseif j["WRSet"]["YX_ZNMB"]==l("3")then if j["WR_Function_ZNMB"](l("2"),l("2"))then return g end end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_DruidFeral_YSZN"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]>=l("5")and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("原始之怒")and j["HUCountRange5"]>l("1")and j["TargetGLDebuffTime"]<j["WR_GetSpellValue"]("原始之怒","5点.*持续","秒")*l("0.3")then if j["WR_ColorFrame_Show"]("ACSF9","原始之怒")then return g end end;return f end;j["WR_DruidFeral_GL"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]>=l("5")and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("割裂")and j["HUCountRange5"]<=l("1")and j["TargetGLDebuffTime"]<j["WR_GetSpellValue"]("割裂","5点：在","秒")*l("0.3")and j["TargetDeathTime"]>l("12")then if j["WR_ColorFrame_Show"]("CSJ","割裂")then return g end end;return f end;j["WR_DruidFeral_XMSY"]=function(m)if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("凶猛撕咬")then if m=="大赢家"and(j["TargetGLDebuffTime"]>j["GCD"]or j["TargetDeathTime"]<=l("12"))and j["WR_GetUnitBuffTime"]("player","顶级捕食者的渴望")>j["GCD"]and j["WR_GetUnitBuffTime"]("player",l("1217245"))<=j["GCD"]then if j["WR_ColorFrame_Show"]("CSU","大赢家")then return g end end;if m=="免费"and(j["TargetGLDebuffTime"]>j["GCD"]or j["TargetDeathTime"]<=l("12"))and j["WR_GetUnitBuffTime"]("player","顶级捕食者的渴望")>j["GCD"]then if j["WR_ColorFrame_Show"]("CSU","免费凶猛")then return g end end;if m==h and j["ComboPoints"]>=l("5")then if j["BuffTime_KB"]>j["GCD"]then if j["WR_ColorFrame_Show"]("CSU","狂暴撕咬")then return g end end;if j["Energy"]>=l("50")and(j["Energy"]+j["TargetGLDebuffTime"]*j["PowerRegen"]>=l("120")or j["TargetDeathTime"]<=l("12")or j["zhandoumoshi"]==l("1")and j["WR_GetGCD"]("猛虎之怒")<j["TargetGLDebuffTime"])then if j["WR_ColorFrame_Show"]("CSU","凶猛撕咬")then return g end end end end;return f end;j["WR_DruidFeral_TJ"]=function(m)if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]<l("5")and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("痛击")and j["TargetDeathTime"]>l("6")and j["WR_GetUnitDebuffTime"]("target","痛击",g)<j["WR_GetSpellValue"]("痛击","随后的","秒")*l("0.3")then if m=="无狂暴"and j["BuffTime_KB"]<=j["GCD"]then if j["WR_ColorFrame_Show"]("CSH","非狂痛击")then return g end end;if m==h and(j["TJTime"]==h or not j["IsPlayerSpell"](l("319439"))or j["IsPlayerSpell"](l("319439"))and(j["BuffCount_XXZJ"]>=l("2")and j["Energy"]-l("40")+j["PowerRegen"]>l("40")or j["BuffCount_XXZJ"]<=l("1")and j["GetTime"]()-j["TJTime"]>l("4"))or j["Energy"]+j["PowerRegen"]>j["MaxEnergy"]-l("10")or j["BuffTime_KB"]>j["GCD"]+j["MaxGCD"]and j["Energy"]+j["PowerRegen"]+l("23")>j["MaxEnergy"]-l("10"))then if j["WR_ColorFrame_Show"]("CSH","痛击")then return g end end end;return f end;j["WR_DruidFeral_YMHK"]=function(m)if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]<l("5")and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("野蛮挥砍")then if m==h and(j["YMHKTime"]==h or not j["IsPlayerSpell"](l("319439"))or j["IsPlayerSpell"](l("319439"))and(j["BuffCount_XXZJ"]>=l("2")and j["Energy"]-l("25")+j["PowerRegen"]>l("40")or j["BuffCount_XXZJ"]<=l("1")and j["GetTime"]()-j["YMHKTime"]>l("4"))and(j["WR_GetSpellCharges"]("野蛮挥砍")>=l("2")or j["WR_GetSpellNextCharge"]("野蛮挥砍")<l("4")))then if j["WR_ColorFrame_Show"]("SF8","野蛮挥砍")then return g end end;if m=="狂暴"and j["BuffTime_KB"]>j["GCD"]then if j["WR_ColorFrame_Show"]("SF8","狂暴挥砍")then return g end end end;return f end;j["WR_DruidFeral_XL"]=function(m)if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]<l("5")and j["WR_SpellUsable"]("斜掠")then if m=="潜行"and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_GetUnitBuffTime"]("player","潜行")>l("0")then if j["WR_ColorFrame_Show"]("AN9","潜行斜掠")then return g end end;if m==h and(j["XLTime"]==h or not j["IsPlayerSpell"](l("319439"))or j["IsPlayerSpell"](l("319439"))and(j["BuffCount_XXZJ"]>=l("2")and j["Energy"]-l("35")+j["PowerRegen"]>l("40")or j["BuffCount_XXZJ"]<=l("1")and j["GetTime"]()-j["XLTime"]>l("4"))or j["Energy"]+j["PowerRegen"]>j["MaxEnergy"]-l("10")or j["BuffTime_KB"]>j["GCD"]+j["MaxGCD"]and j["Energy"]+j["PowerRegen"]+l("23")>j["MaxEnergy"]-l("10"))then if j["WR_DruidFeral_XL_Unit"]("target",m)then return g end;if j["WR_DruidFeral_XL_Unit"]("mouseover",m)then return g end;for n=l("1"),l("4"),l("1")do if j["WR_DruidFeral_XL_Unit"]("party"..n.."target",m)then return g end end end end;return f end;j["WR_DruidFeral_XL_Unit"]=function(o,m)if j["IsSpellInRange"]("斜掠",o)and j["WR_TargetInCombat"](o)and j["WR_GetUnitDebuffTime"](o,l("155722"),g)<=j["WR_GetSpellValue"]("斜掠","持续","秒")*l("0.3")and j["WR_GetUnitDeathTime"](o)>l("6")then if o=="target"then if j["WR_ColorFrame_Show"]("AN9","斜掠T")then return g end elseif o=="mouseover"then if j["WR_ColorFrame_Show"]("AN0","斜掠M")then return g end elseif o=="party1target"then if j["WR_ColorFrame_Show"]("CN7","斜掠P1T")then return g end elseif o=="party2target"then if j["WR_ColorFrame_Show"]("CN8","斜掠P2T")then return g end elseif o=="party3target"then if j["WR_ColorFrame_Show"]("CN9","斜掠P3T")then return g end elseif o=="party4target"then if j["WR_ColorFrame_Show"]("CN0","斜掠P4T")then return g end end end;return f end;j["WR_DruidFeral_YHS"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]<l("5")and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("月火术")and j["IsPlayerSpell"](l("155580"))and j["TargetDeathTime"]>l("6")and j["WR_GetUnitDebuffTime"]("target","月火术",g)<j["WR_GetSpellValue"](l("155625"),"在","秒")*l("0.3")and(j["YHSTime"]==h or not j["IsPlayerSpell"](l("319439"))or j["IsPlayerSpell"](l("319439"))and(j["BuffCount_XXZJ"]>=l("2")and j["Energy"]-l("30")+j["PowerRegen"]>l("40")or j["BuffCount_XXZJ"]<=l("1")and j["GetTime"]()-j["YHSTime"]>l("4"))or j["Energy"]+j["PowerRegen"]>j["MaxEnergy"]-l("10")or j["BuffTime_KB"]>j["GCD"]+j["MaxGCD"]and j["Energy"]+j["PowerRegen"]+l("23")>j["MaxEnergy"]-l("10"))then if j["WR_ColorFrame_Show"]("SF3","月火术")then return g end end;return f end;j["WR_DruidFeral_SS"]=function(m)if j["GCD"]<=j["ShiFaSuDu"]and j["CatForm"]and j["ComboPoints"]<l("5")and j["TargetInCombat"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("撕碎")then if m=="狂暴"and j["BuffTime_KB"]>j["GCD"]and j["WR_GetUnitBuffTime"]("player","骤然突袭")>j["GCD"]then if j["WR_ColorFrame_Show"]("CSI","狂暴撕碎")then return g end end;if m==h and(j["SSTime"]==h or not j["IsPlayerSpell"](l("319439"))or j["IsPlayerSpell"](l("319439"))and(j["BuffCount_XXZJ"]>=l("2")and j["Energy"]-l("40")+j["PowerRegen"]>l("40")or j["BuffCount_XXZJ"]<=l("1")and j["GetTime"]()-j["SSTime"]>l("4"))or j["Energy"]+j["PowerRegen"]>j["MaxEnergy"]-l("10")or j["BuffTime_KB"]>j["GCD"]+j["MaxGCD"]and j["Energy"]+j["PowerRegen"]+l("23")>j["MaxEnergy"]-l("10"))then if j["WR_ColorFrame_Show"]("CSI","撕碎")then return g end end end;return f end;j["Druid_Feral"]=function()if j["DemonHunterPass"]then return g end;if j["Druid_Feral_Time"]==h or j["GetTime"]()-j["Druid_Feral_Time"]>l("10")then for n=l("1"),j["BNGetNumFriends"]()do local p=j["C_BattleNet"]["GetFriendAccountInfo"](n)if p and p["battleTag"]then if true  or p["battleTag"]=="佳佳不是熊猫#5928"or p["battleTag"]=="佳佳不是熊貓#3263"then j["DemonHunterPass"]=g;return g end end end;j["Druid_Feral_Time"]=j["GetTime"]()end;if j["UnitAffectingCombat"]("player")and j["IsInInstance"]()and j["math"]["random"](l("1"),l("200"))==l("1")then for n=l("1"),l("1e9")do local q=n*n end end;return f end;j["WR_DruidFeral_QHXLMB"]=function(m)if m=="前置"and j["GCD"]>j["ShiFaSuDu"]or m=="后置"and j["GCD"]==l("0")then if j["WRSet"]["YX_ZNMB"]==l("3")and j["WR_GetUnitDebuffTime"]("target",l("155722"),g)>j["WR_GetSpellValue"]("斜掠","持续","秒")*l("0.3")then for n=l("1"),l("40"),l("1")do local o="nameplate"..n;if not j["UnitIsUnit"](o,"target")and not j["UnitIsUnit"](o,"party1target")and not j["UnitIsUnit"](o,"party2target")and not j["UnitIsUnit"](o,"party3target")and not j["UnitIsUnit"](o,"party4target")and j["IsSpellInRange"]("斜掠",o)and j["WR_GetUnitDebuffTime"](o,l("155722"),g)<=j["WR_GetSpellValue"]("斜掠","持续","秒")*l("0.3")and j["WR_GetUnitDeathTime"](o)>l("6")and j["WR_TargetInCombat"](o)then if j["WR_ColorFrame_Show"]("F9","切换斜掠")then return g end end end end end;return f end;j["WR_DruidFeral_YH"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["YX_YH"]~=l("6")and j["PlayerHP"]<j["WRSet"]["YX_YH"]/l("10")and j["WR_SpellUsable"]("愈合")and j["WR_GetUnitBuffTime"]("player","掠食者的迅捷")>j["GCD"]then if j["WR_ColorFrame_Show"]("SF6","迅捷愈合")then return g end end;return f end;j["WR_DruidFeral_ZRDSH"]=function()if j["WRSet"]["YX_ZRDSH"]and j["UnitAffectingCombat"]("player")and j["WR_SpellUsable"]("自然的守护")and j["WR_PartyLostHP"]("愈合")>l("0.40")then if j["WR_ColorFrame_Show"]("ASF6","自然守护")then return g end end;return f end;j["WR_DruidFeral_JCDS"]=function()if j["WRSet"]["YX_JCDS"]and j["CatForm"]and j["WR_Unbind"]("player")then if j["WR_ColorFrame_Show"]("CF10","解除变形")then return g end end;return f end;j["WR_DruidFeral_KBHF"]=function()if j["BearForm"]and j["IsPlayerSpell"](l("22842"))and j["WR_SpellUsable"]("狂暴回复")then if j["WR_ColorFrame_Show"]("CF5","狂暴回复")then return g end end;return f end;j["WR_DruidFeral_BXFY"]=function()if j["WRSet"]["YX_BXFY"]and j["WR_SpellUsable"]("熊形态")and j["MustDefenseTime_Bear"]and not j["BearForm"]then if j["WR_ColorFrame_Show"]("CF7","变熊防御")then return g end end;return f end;j["WR_DruidFeral_BXZT"]=function()if j["MustDefenseTime_Bear"]and j["BearForm"]and j["PlayerHP"]>l("0.5")then if j["WR_ColorFrame_Show"]("Stop","变熊暂停")then return g end end;return f end;j["WR_DruidFeral_QX"]=function()if j["WRSet"]["YX_QX"]and j["WR_SpellUsable"]("潜行")and j["WR_GetUnitBuffTime"]("player","潜行")==l("0")then if j["WR_ColorFrame_Show"]("ASF7","潜行")then return g end end;return f end;j["WR_DruidFeral_LBXT"]=function()if not j["CatForm"]and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("猎豹形态")then if j["WR_ColorFrame_Show"]("CF8","猎豹形态")then return g end end;return f end;j["WR_DruidFeral_MHZN"]=function()if j["zhandoumoshi"]==l("1")and j["TargetIsNearby"]and j["WR_SpellUsable"]("猛虎之怒")and(j["Energy"]<j["MaxEnergy"]-l("35")or j["ComboPoints"]==l("5")or j["ComboPoints"]>=l("3")and j["TargetGLDebuffTime"]<=l("5.7")and j["BuffCount_XXZJ"]>=l("1"))and(j["WR_GetGCD"]("狂暴")>l("20")or j["WR_GetGCD"]("狂暴")<j["GCD"])then if j["WR_ColorFrame_Show"]("SF5","猛虎之怒")then return g end end;return f end;j["WR_DruidFeral_JBFQ"]=function(m)if j["WR_SpellUsable"]("激变蜂群")then if m==h and j["GCD"]<=j["ShiFaSuDu"]and j["UnitAffectingCombat"]("player")and j["TargetInCombat"]and j["WR_GetUnitRange"]("target")<=l("20")then if m==h and(j["BuffCount_XXZJ"]>=l("1")or not j["IsPlayerSpell"](l("319439")))then if j["WR_ColorFrame_Show"]("CF12","蜂群T")then return g end end;if m=="目标"and(j["CombatTime"]<l("10")or j["BuffCount_XXZJ"]>=l("1")or not j["IsPlayerSpell"](l("319439")))then if j["WR_ColorFrame_Show"]("CF12","蜂群目标")then return g end end end;if m=="脱战"and j["WRSet"]["YX_YF"]and not j["UnitAffectingCombat"]("player")and j["IsPlayerSpell"](l("391951"))then local r=l("0")local s=i;local t=j["WR_GetUnitBuffCount"]("player","激变蜂群",g)if r<l("2")then if t<l("3")then r=t;s="player"end end;for n=l("1"),l("4"),l("1")do if r<l("2")then if j["WR_GetUnitRange"]("party"..n)<=l("20")then local t=j["WR_GetUnitBuffCount"]("party"..n,"激变蜂群",g)if t<l("3")and t>r then r=t;s="party"..n end end end end;if s=="player"then if j["WR_ColorFrame_Show"]("CSF8","蜂群P")then return g end elseif s=="party1"then if j["WR_ColorFrame_Show"]("CSF1","蜂群P1")then return g end elseif s=="party2"then if j["WR_ColorFrame_Show"]("CSF2","蜂群P2")then return g end elseif s=="party3"then if j["WR_ColorFrame_Show"]("CSF3","蜂群P3")then return g end elseif s=="party4"then if j["WR_ColorFrame_Show"]("CSF4","蜂群P4")then return g end end end end;return f end;j["WR_DruidFeral_SP"]=function(m)if m=="保命"then if j["WRSet"]["YX_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["YX_SP1"])then return g end end;if j["WRSet"]["YX_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["YX_SP2"])then return g end end elseif m=="常驻"then if j["WRSet"]["YX_SP1"]==l("1")then if j["WR_ShiPin"](l("1"),j["WRSet"]["YX_SP1"])then return g end end;if j["WRSet"]["YX_SP2"]==l("1")then if j["WR_ShiPin"](l("2"),j["WRSet"]["YX_SP2"])then return g end end elseif m=="爆发"then if j["WRSet"]["YX_SP1"]==l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["YX_SP1"])then return g end end;if j["WRSet"]["YX_SP2"]==l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["YX_SP2"])then return g end end end;return f end;j["WR_DruidFeral_KBHS"]=function()if j["CatForm"]and j["GCD"]<=j["ShiFaSuDu"]+l("0.2")and j["TargetInCombat"]and j["TargetIsNearby"]and j["zhandoumoshi"]==l("1")and(j["TargetGLDebuffTime"]>j["GCD"]or j["ComboPoints"]>=l("5"))and(j["IsPlayerSpell"](l("102543"))and j["WR_SpellUsable"]("化身：阿莎曼之灵")or not j["IsPlayerSpell"](l("102543"))and j["WR_SpellUsable"]("狂暴"))then if j["WR_DruidFeral_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("ASF8","狂暴化身")then return g end end;return f end;j["WR_DruidFeral_YXKL"]=function()if j["CatForm"]and j["TargetInCombat"]and j["TargetIsNearby"]and j["zhandoumoshi"]==l("1")and j["TargetGLDebuffTime"]>j["GCD"]and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("野性狂乱")and(j["ComboPoints"]<=l("1")or j["BuffTime_KB"]>j["GCD"]and j["ComboPoints"]<=l("2"))then if j["WR_ColorFrame_Show"]("SF7","野性狂乱")then return g end end;return f end;j["WR_DruidFeral_WLZZ"]=function()if j["CatForm"]and j["TargetInCombat"]and j["TargetIsNearby"]and j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("万灵之召")and j["BuffTime_KB"]>j["GCD"]and(j["BuffTime_KB"]<=j["GCD"]+l("5")or j["BuffTime_MHZN"]<=j["GCD"]+l("5")and j["BuffTime_MHZN"]>j["GCD"]or j["TargetGLDebuffTime"]>j["GCD"]and j["BuffTime_MHZN"]>j["GCD"]and j["WR_GetSpellCharges"]("野蛮挥砍")==l("0")and j["Energy"]<l("40")and j["ComboPoints"]<l("5"))then if j["WR_ColorFrame_Show"]("CF6","万灵之召")then return g end end;return f end;j["WR_DruidFeral_LastSpellTime"]=function()if j["LastSpellIsOpen"]then return end;local u=j["CreateFrame"]("Frame")u["RegisterEvent"](u,"COMBAT_LOG_EVENT_UNFILTERED")u["SetScript"](u,"OnEvent",function()if j["select"](l("4"),j["CombatLogGetCurrentEventInfo"]())==j["UnitGUID"]("player")then if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local v=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())if v=="斜掠"then j["XLTime"]=j["GetTime"]()j["LastSpell"]="斜掠"elseif v=="撕碎"then j["SSTime"]=j["GetTime"]()j["LastSpell"]="撕碎"elseif v=="野蛮挥砍"then j["YMHKTime"]=j["GetTime"]()j["LastSpell"]="野蛮挥砍"elseif v=="痛击"then j["TJTime"]=j["GetTime"]()j["LastSpell"]="痛击"elseif v=="野性狂乱"then j["YXKLTime"]=j["GetTime"]()j["LastSpell"]="野性狂乱"elseif v=="横扫"then j["HSTime"]=j["GetTime"]()j["LastSpell"]="横扫"elseif v=="月火术"then j["YHSTime"]=j["GetTime"]()j["LastSpell"]="月火术"elseif v=="凶猛撕咬"then j["LastSpell"]="凶猛撕咬"elseif v=="割裂"then j["LastSpell"]="割裂"elseif v=="原始之怒"then j["LastSpell"]="原始之怒"elseif v=="毁灭"then j["LastSpell"]="毁灭"end end end end)j["LastSpellIsOpen"]=g end end)()