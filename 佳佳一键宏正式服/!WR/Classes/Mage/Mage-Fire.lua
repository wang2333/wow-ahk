local a=88;local b=36;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_MageFire"]=function()if g["GetSpecialization"]()~=i("2")then return end;g["ShiFaSuDu"]=i("0.3")g["Latency"]=g["WR_GetMaxLatency"]()g["GCD"]=g["WR_GetGCD"]("奥术智慧")+g["Latency"]g["MaxGCD"]=g["WR_GetMaxGCD"](i("1.5"))g["PlayerHP"]=g["WR_GetUnitHP"]("player")g["PlayerMove"]=g["WR_PlayerMove"]()g["Training"]=g["WR_InTraining"]()g["TargetHP"]=i("1")if g["UnitExists"]("target")then g["TargetHP"]=g["UnitHealth"]("target")/g["UnitHealthMax"]("target")end;g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["TargetRange"]=g["WR_GetUnitRange"]("target")g["TargetSingle"]=g["WR_SingleUnit"]()g["TargetDeathTime"]=g["WR_GetUnitDeathTime"]("target")g["AvgDeathTime"]=g["WR_GetRangeAvgDeathTime"](i("40"))g["FlyTime"]=g["WR_GetUnitRange"]("target")/i("40")g["HUCountRange40"]=g["WR_GetRangeHarmUnitCount"](i("40"),not g["Training"])g["BuffTime_RS"]=g["WR_GetUnitBuffTime"]("player","燃烧")g["BuffTime_TYWDNH"]=g["WR_GetUnitBuffTime"]("player","太阳王的怒火")g["BuffCount_TYZWDZF"]=g["WR_GetUnitBuffCount"]("player","太阳之王的祝福")g["BuffTime_RLBF"]=g["WR_GetUnitBuffTime"]("player","热力迸发")g["BuffTime_CRLJ"]=g["WR_GetUnitBuffTime"]("player","炽热连击！")g["BuffTime_GRGW"]=g["WR_GetUnitBuffTime"]("player","过热高温")g["BuffTime_FB"]=g["WR_GetUnitBuffTime"]("player","浮冰")g["BuffTime_LYHT"]=g["WR_GetUnitBuffTime"]("player","烈焰护体")g["BuffTime_LYCM"]=g["WR_GetUnitBuffTime"]("player","烈焰触媒")g["BuffTime_SHZX"]=g["WR_GetUnitBuffTime"]("player","霜火增效")g["BuffTime_DRDHS"]=g["WR_GetUnitBuffTime"]("player","点燃导火索")g["BuffTime_YLHS"]=g["WR_GetUnitBuffTime"]("player","溢流寒霜")g["BuffTime_YLFH"]=g["WR_GetUnitBuffTime"]("player","溢流飞火")g["DebuffTime_FSYH"],g["DebuffCount_FSYH"],g["_"]=g["WR_GetUnitDebuffInfo"]("target","焚身余灰",d)g["MaxDebuff_DR_Unit"]=g["WR_MageFire_MaxDebuff_DR"]()g["WR_MageFire_LastSpellTime"]()if g["BSNZY_FiyTime"]~=e and g["GetTime"]()-g["BSNZY_FiyTime"]>=g["FlyTime"]+g["Latency"]then g["BSNZY_FiyTime"]=e end;if g["BSNZY_DamageTime"]~=e and g["GetTime"]()-g["BSNZY_DamageTime"]>i("0.15")then g["BSNZY_FiyTime"]=e;g["BSNZY_DamageTime"]=e end;if g["YBS_FiyTime"]~=e and g["GetTime"]()-g["YBS_FiyTime"]>=g["FlyTime"]+g["Latency"]then g["YBS_FiyTime"]=e end;if g["YBS_DamageTime"]~=e and g["GetTime"]()-g["YBS_DamageTime"]>i("0.15")then g["YBS_FiyTime"]=e;g["YBS_DamageTime"]=e end;if g["HQS_FiyTime"]~=e and g["GetTime"]()-g["HQS_FiyTime"]>=g["FlyTime"]+g["Latency"]then g["HQS_FiyTime"]=e end;if g["HQS_DamageTime"]~=e and g["GetTime"]()-g["HQS_DamageTime"]>i("0.15")then g["HQS_FiyTime"]=e;g["HQS_DamageTime"]=e end;if g["SHZJ_FiyTime"]~=e and g["GetTime"]()-g["SHZJ_FiyTime"]>=g["FlyTime"]+g["Latency"]then g["SHZJ_FiyTime"]=e end;if g["SHZJ_DamageTime"]~=e and g["GetTime"]()-g["SHZJ_DamageTime"]>i("0.15")then g["SHZJ_FiyTime"]=e;g["SHZJ_DamageTime"]=e end;if g["YBS_FiyTime"]~=e or g["BSNZY_FiyTime"]~=e or g["HQS_FiyTime"]~=e or g["SHZJ_FiyTime"]~=e then g["SpellFiying"]=d else g["SpellFiying"]=c end;if g["HYCJ_FiyTime"]==e or g["GetTime"]()-g["HYCJ_FiyTime"]>i("0.2")then g["LastSpell_Not_HYCJ"]=d else g["LastSpell_Not_HYCJ"]=c end;if g["MSG"]==i("1")then g["print"]("GCD:",g["GCD"])g["print"]("技能在飞行中:",g["SpellFiying"])g["print"]("----------")end;if g["WR_MageFire_HYCJ"]("变易幻能")then return end;if(g["UnitCastingInfo"]("player")=="炎爆术"or g["UnitCastingInfo"]("player")=="烈焰风暴")and g["WR_GetCombatTime"]()>i("5")then if g["WR_ColorFrame_Show"]("CN8","停止施法")then return d end end;if g["WR_PriorityCheck"]()then return end;if g["WR_Function_ZNMB"](i("40"),g["WRSet"]["HF_ZNMB"])then return d end;if g["WR_ZNJD"](g["WRSet"]["HF_ZNJD"])then return end;if g["WR_MageFire_SP"]("保命")then return d end;if g["WR_ZLS"](g["WRSet"]["HF_ZLS"])then return d end;if g["WR_ZLYS"](g["WRSet"]["HF_ZLYS"])then return d end;if g["WR_ZLYS2"](g["WRSet"]["HF_ZLYS"])then return d end;if g["WR_MageFire_HBPZ"]()then return d end;if g["WR_MageFire_QHYX"]()then return d end;if g["WR_MageFire_FSFZ"]()then return d end;if g["WR_MageFire_JX"]()then return d end;if g["WR_MageFire_QTPZ"]()then return d end;if g["WR_MageFire_JCZZ"]()then return d end;if g["WR_MageFire_FSXQ"]()then return d end;if g["WR_MageFire_CJXX"]()then return d end;if g["WR_MageFire_CJB"]()then return d end;if g["WR_MageFire_LYHT"]()then return d end;if g["WR_MageFire_ASZH"]()then return d end;if g["TargetInCombat"]and g["TargetRange"]<=i("40")and(g["UnitCastingInfo"]("player")~=e and g["GCD"]<g["WR_GetTrueCastTime"](g["UnitCastingInfo"]("player"))/i("2")or g["UnitCastingInfo"]("player")==e and g["GCD"]<=g["ShiFaSuDu"])then if g["WR_MageFire_YBS_LYFB"]()then return end;if g["WR_MageFire_RS"]()then return end;if g["WR_MageFire_BYHN"]()then return d end;if g["WR_MageFire_HYCJ"]("燃烧")then return end;if g["WR_MageFire_BSNZY"]("燃烧")then return end;if g["WR_MageFire_ZS"]("燃烧")then return end;if g["WR_MageFire_HYCJ"]("灼烧")then return end;if g["WR_MageFire_HYCJ"]("火球")then return end;if g["WR_MageFire_BSNZY"]("灼烧")then return end;if g["WR_MageFire_ZS"]("斩杀")then return end;if g["WR_MageFire_BSNZY"]("火球")then return end;if g["WR_MageFire_BSNZY"]("补")then return end;if g["WR_MageFire_HQS"]()then return end end;g["WR_HideColorFrame"](g["zhandoumoshi"])if g["MSG"]==i("1")then end end;g["WR_MageFire_LastSpellTime"]=function()if g["MageFireLastSpellIsOpen"]==d then return end;local j=g["CreateFrame"]("Frame")j["RegisterEvent"](j,"COMBAT_LOG_EVENT_UNFILTERED")j["SetScript"](j,"OnEvent",function()if g["select"](i("4"),g["CombatLogGetCurrentEventInfo"]())==g["UnitGUID"]("player")then if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local k=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())if k=="炎爆术"then g["YBS_FiyTime"]=g["GetTime"]()end;if k=="不死鸟之焰"then g["BSNZY_FiyTime"]=g["GetTime"]()end;if k=="火球术"then g["HQS_FiyTime"]=g["GetTime"]()end;if k=="霜火之箭"then g["SHZJ_FiyTime"]=g["GetTime"]()end;if k=="灼烧"then g["ZS_FiyTime"]=g["GetTime"]()end;if k=="火焰冲击"then g["HYCJ_FiyTime"]=g["GetTime"]()end end;if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local k=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())local l=g["select"](i("21"),g["CombatLogGetCurrentEventInfo"]())if k=="炎爆术"then if l then g["YBS_DamageTime"]=g["GetTime"]()else g["YBS_FiyTime"]=e end end;if k=="不死鸟之焰"then if l then g["BSNZY_DamageTime"]=g["GetTime"]()else g["BSNZY_FiyTime"]=e end end;if k=="火球术"then if l then g["HQS_DamageTime"]=g["GetTime"]()else g["HQS_FiyTime"]=e end end;if k=="霜火之箭"then if l then g["SHZJ_DamageTime"]=g["GetTime"]()else g["SHZJ_FiyTime"]=e end end end end end)g["MageFireLastSpellIsOpen"]=d end;g["WR_MageFire_RS"]=function()if g["WRSet"]["HF_RS"]and g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("燃烧")and g["AvgDeathTime"]>=i("15")and g["BuffTime_RS"]<=i("3.6")and not g["SpellFiying"]and(g["UnitCastingInfo"]("player")=="火球术"or g["WR_MageFire_Crit_ZS"]())then if g["WR_ColorFrame_Show"]("CN7","燃烧")then return d end end;return c end;g["WR_MageFire_Crit_ZS"]=function()if g["UnitCastingInfo"]("player")=="灼烧"and(g["TargetHP"]<i("0.3")or g["BuffTime_RS"]>g["GCD"])then return d end;return c end;g["WR_MageFire_Crit_Spell"]=function()if g["UnitCastingInfo"]("player")~=e and(g["BuffTime_RS"]>g["GCD"]+g["FlyTime"]or g["WR_MageFire_Crit_ZS"]()or g["BuffTime_TYWDNH"]>g["GCD"]and g["UnitCastingInfo"]("player")=="炎爆术")then return d end;return c end;g["WR_MageFire_GCD_RLBF"]=function()if g["BuffTime_CRLJ"]==i("0")and(g["BuffTime_RLBF"]>g["GCD"]and not g["WR_MageFire_Crit_Spell"]()or g["BuffTime_RLBF"]==i("0")and g["WR_MageFire_Crit_Spell"]())then return d end;return c end;g["WR_MageFire_YBS_LYFB"]=function()if g["WR_SpellUsable"]("炎爆术")and(g["BuffTime_CRLJ"]>g["GCD"]or g["BuffTime_RLBF"]>g["GCD"]and g["WR_MageFire_Crit_ZS"]()or g["BuffTime_GRGW"]>g["GCD"])then if g["WRSet"]["HF_LYFB"]<=i("8")and g["WR_GetRangeHarmUnitCount"](i("20"))>=g["WRSet"]["HF_LYFB"]then if g["WR_ColorFrame_Show"]("SF1","烈焰风暴")then return d end else if g["WR_ColorFrame_Show"]("CF2","炎爆术")then return d end end end;return c end;g["WR_MageFire_HYCJ"]=function(m)if g["WR_SpellUsable"]("火焰冲击")and g["LastSpell_Not_HYCJ"]and not g["SpellFiying"]then if m=="燃烧"and g["BuffTime_RS"]>g["GCD"]and(g["BuffTime_RLBF"]>g["GCD"]or g["BuffTime_RLBF"]<=g["GCD"]and g["WR_MageFire_Crit_ZS"]())then if g["WR_ColorFrame_Show"]("F12","燃烧冲击")then return d end end;if m=="灼烧"and g["WR_MageFire_Crit_ZS"]()and g["BuffTime_RLBF"]<=g["GCD"]and g["WR_MageFire_GCD_RLBF"]()then if g["WR_ColorFrame_Show"]("F12","灼烧冲击")then return d end end;if m=="火球"and g["UnitCastingInfo"]("player")=="火球术"and g["BuffTime_RLBF"]>g["GCD"]and g["WR_MageFire_GCD_RLBF"]()then if g["WR_ColorFrame_Show"]("F12","火球冲击")then return d end end;if m=="变易幻能"and g["UnitChannelInfo"]("player")=="变易幻能"and g["BuffTime_RLBF"]>g["GCD"]and g["WR_MageFire_GCD_RLBF"]()then if g["WR_ColorFrame_Show"]("F12","幻能冲击")then return d end end end;return c end;g["WR_MageFire_BSNZY"]=function(m)if g["WR_SpellUsable"]("不死鸟之焰")then if m=="补"and not g["SpellFiying"]and g["BuffTime_RLBF"]>g["GCD"]and g["UnitCastingInfo"]("player")==e and g["LastSpell_Not_HYCJ"]and g["WR_GetSpellCharges"]("火焰冲击")==i("0")and g["WR_GetSpellNextCharge"]("火焰冲击")>g["GCD"]+g["WR_GetTrueCastTime"]("火球术")/i("2")then if g["WR_ColorFrame_Show"]("CF7","补不死鸟")then return d end end;if m=="燃烧"and g["LastSpell_Not_HYCJ"]and not g["SpellFiying"]and g["BuffTime_RS"]>g["GCD"]+g["FlyTime"]then if g["WR_ColorFrame_Show"]("CF7","燃烧不死鸟")then return d end end;if m=="火球"and g["BuffTime_RLBF"]==i("0")and g["UnitCastingInfo"]("player")=="火球术"and g["LastSpell_Not_HYCJ"]and(g["WR_GetSpellCharges"]("火焰冲击")>=i("1")or g["WR_GetSpellNextCharge"]("火焰冲击")<g["GCD"]+g["MaxGCD"]+g["WR_GetTrueCastTime"]("火球术")/i("2"))then if g["WR_ColorFrame_Show"]("CF7","火球不死鸟")then return d end end;if m=="灼烧"and g["BuffTime_RLBF"]==i("0")and g["UnitCastingInfo"]("player")=="灼烧"and g["LastSpell_Not_HYCJ"]and(g["WR_GetSpellCharges"]("火焰冲击")==i("0")and g["WR_GetSpellNextCharge"]("火焰冲击")>g["GCD"])then if g["WR_ColorFrame_Show"]("CF7","灼烧不死鸟")then return d end end end;return c end;g["WR_MageFire_HQS"]=function(m)if g["WR_SpellUsable"]("火球术")and(g["BuffTime_FB"]>g["GCD"]or not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("火球术")))and(not g["SpellFiying"]or g["BuffTime_RS"]<=g["GCD"]and g["WR_GetSpellCharges"]("火焰冲击")>=i("1"))and g["TargetHP"]>=i("0.3")and g["LastSpell_Not_HYCJ"]then if g["WR_ColorFrame_Show"]("CF4","火球术")then return d end end;return c end;g["WR_MageFire_ZS"]=function(m)if g["WR_SpellUsable"]("灼烧")and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("灼烧"))and not g["SpellFiying"]then if m=="斩杀"and g["TargetHP"]<i("0.3")and g["LastSpell_Not_HYCJ"]then if g["WR_ColorFrame_Show"]("CF3","斩杀灼烧")then return d end end;if m=="燃烧"and g["LastSpell_Not_HYCJ"]and not g["SpellFiying"]and g["BuffTime_RS"]>g["GCD"]+g["WR_GetTrueCastTime"]("灼烧")then if g["WR_ColorFrame_Show"]("CF3","燃烧灼烧")then return d end end end;return c end;g["WR_MageFire_FB"]=function()if g["WRSet"]["HF_FB"]and g["WR_SpellUsable"]("浮冰")and g["BuffTime_FB"]==i("0")then if g["WR_ColorFrame_Show"]("F7","浮冰")then return d end end;return c end;g["WR_MageFire_BYHN"]=function()if g["zhandoumoshi"]==i("1")and g["BuffTime_RS"]<=g["GCD"]and not g["PlayerMove"]and not g["SpellFiying"]and g["BuffTime_RLBF"]<=g["GCD"]and g["BuffTime_GRGW"]<=g["GCD"]and g["WR_GetSpellCharges"]("不死鸟之焰")==i("0")and g["WR_GetSpellCharges"]("火焰冲击")<=i("1")and g["WR_GetGCD"]("燃烧")>i("15")and not g["WR_StopCast"](g["WR_GetTrueCastTime"]("变易幻能"))and g["WR_SpellUsable"]("变易幻能")then if g["WR_MageFire_FB"]()then return d end;if g["WR_ColorFrame_Show"]("CSP","变易幻能")then return d end end;return c end;g["WR_MageFire_DR_Value"]=function(n)for o=i("1"),i("40"),i("1")do local p=g["C_UnitAuras"]["GetAuraDataByIndex"](n,o,"HARMFUL")if p~=e and p["name"]=="点燃"and p["sourceUnit"]=="player"then return p["points"][i("1")]end end;return i("0")end;g["WR_MageFire_MaxDebuff_DR"]=function()local q="target"local r=g["WR_MageFire_DR_Value"]("target")g["Temp_DR"]=g["WR_MageFire_DR_Value"]("mouseover")if g["Temp_DR"]>=r and g["WR_GetUnitRange"]("mouseover")<=i("40")and g["WR_TargetInCombat"]("mouseover")then q="mouseover"r=g["Temp_DR"]end;for o=i("1"),i("4"),i("1")do g["Temp_DR"]=g["WR_MageFire_DR_Value"]("party"..o.."target")if g["Temp_DR"]>=r and g["WR_GetUnitRange"]("party"..o.."target")<=i("40")and g["WR_TargetInCombat"]("party"..o.."target")then q="party"..o.."target"r=g["Temp_DR"]end end;return q end;g["WR_MageFire_SP"]=function(m)if m=="保命"then if g["WRSet"]["HF_SP1"]>=i("3")then if g["WR_ShiPin"](i("1"),g["WRSet"]["HF_SP1"])then return d end end;if g["WRSet"]["HF_SP2"]>=i("3")then if g["WR_ShiPin"](i("2"),g["WRSet"]["HF_SP2"])then return d end end elseif m=="常驻"then if g["WRSet"]["HF_SP1"]==i("1")then if g["WR_ShiPin"](i("1"),g["WRSet"]["HF_SP1"])then return d end end;if g["WRSet"]["HF_SP2"]==i("1")then if g["WR_ShiPin"](i("2"),g["WRSet"]["HF_SP2"])then return d end end elseif m=="爆发"then if g["WRSet"]["HF_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["HF_SP1"])then return d end end;if g["WRSet"]["HF_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["HF_SP2"])then return d end end end;return c end;g["WR_MageFire_HBPZ"]=function()if g["WRSet"]["HF_HBPZ"]~=i("5")and g["WR_SpellUsable"]("寒冰屏障")and g["PlayerHP"]<g["WRSet"]["HF_HBPZ"]/i("10")and g["UnitAffectingCombat"]("player")and g["WR_GetUnitBuffTime"]("player",i("113862"))==i("0")then if g["WR_ColorFrame_Show"]("F9","寒冰屏障")then return d end end;return c end;g["WR_MageFire_QHYX"]=function()if g["WRSet"]["HF_QHYX"]~=i("5")and g["IsPlayerSpell"](i("110959"))and g["WR_SpellUsable"]("强化隐形术")and g["PlayerHP"]<g["WRSet"]["HF_QHYX"]/i("10")and g["UnitAffectingCombat"]("player")and g["WR_GetUnitBuffTime"]("player","深寒凝冰")==i("0")and g["WR_GetUnitBuffTime"]("player","寒冰屏障")==i("0")then if g["WR_ColorFrame_Show"]("SF7","强化隐形")then return d end end;return c end;g["WR_MageFire_FSFZ_Unit"]=function(n)if g["IsSpellInRange"]("法术反制",n)and g["WR_GetCastInterruptible"](n,g["InterruptTime"],g["WR_MageFire_FSFZ_Important"])then if n=="target"then if g["WR_ColorFrame_Show"]("AN5","反制T")then return d end elseif n=="mouseover"then if g["WR_ColorFrame_Show"]("AN6","反制M")then return d end elseif n=="focus"then if g["WR_ColorFrame_Show"]("AN7","反制F")then return d end elseif n=="party1target"then if g["WR_ColorFrame_Show"]("AN1","反制P1T")then return d end elseif n=="party2target"then if g["WR_ColorFrame_Show"]("AN2","反制P2T")then return d end elseif n=="party3target"then if g["WR_ColorFrame_Show"]("AN3","反制P3T")then return d end elseif n=="party4target"then if g["WR_ColorFrame_Show"]("AN4","反制P4T")then return d end end end;return c end;g["WR_MageFire_FSFZ"]=function()if not g["WR_SpellUsable"]("法术反制")then return c end;if g["UnitChannelInfo"]("player")~=e then return c end;if g["WRSet"]["HF_FSFZ"]<=i("4")then g["WR_MageFire_FSFZ_Important"]=c else g["WR_MageFire_FSFZ_Important"]=d end;if g["WRSet"]["HF_FSFZ"]==i("9")then return c elseif g["WRSet"]["HF_FSFZ"]==i("1")or g["WRSet"]["HF_FSFZ"]==i("5")or(g["WRSet"]["HF_FSFZ"]==i("4")or g["WRSet"]["HF_FSFZ"]==i("8"))and(not g["UnitExists"]("focus")or g["UnitIsDead"]("focus")or not g["UnitCanAttack"]("player","focus"))then if g["WR_MageFire_FSFZ_Unit"]("focus")then return d end;if g["WR_MageFire_FSFZ_Unit"]("target")then return d end;if g["WR_MageFire_FSFZ_Unit"]("mouseover")then return d end;for o=i("1"),i("4"),i("1")do if g["WR_MageFire_FSFZ_Unit"]("party"..o.."target")then return d end end elseif g["WRSet"]["HF_FSFZ"]==i("2")or g["WRSet"]["HF_FSFZ"]==i("6")then if g["WR_MageFire_FSFZ_Unit"]("target")then return d end elseif g["WRSet"]["HF_FSFZ"]==i("3")or g["WRSet"]["HF_FSFZ"]==i("7")then if g["WR_MageFire_FSFZ_Unit"]("mouseover")then return d end elseif g["WRSet"]["HF_FSFZ"]==i("4")or g["WRSet"]["HF_FSFZ"]==i("8")then if g["WR_MageFire_FSFZ_Unit"]("focus")then return d end end;return c end;g["WR_MageFire_JX"]=function(m)if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["HF_JX"]~=i("7")and g["WR_SpellUsable"]("镜像")and g["BuffTime_RS"]<=g["GCD"]then if g["WRSet"]["HF_JX"]<=i("5")and g["PlayerHP"]<g["WRSet"]["HF_JX"]/i("10")then if g["WR_ColorFrame_Show"]("CF11","镜像")then return d end end;if g["WRSet"]["HF_JX"]==i("6")and g["zhandoumoshi"]==i("1")and(g["WR_SpellUsable"]("燃烧")or g["BuffTime_RS"]>i("10"))then if g["WR_ColorFrame_Show"]("CF11","爆发镜像")then return d end end end;return c end;g["WR_MageFire_QTPZ"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["HF_QTPZ"]~=i("10")and g["WR_SpellUsable"]("群体屏障")and g["UnitAffectingCombat"]("player")and g["WR_PartyLostHP"]()>g["WRSet"]["HF_QTPZ"]/i("10")then if g["WR_ColorFrame_Show"]("SF5","群体屏障")then return d end end;return c end;g["WR_MageFire_JCZZ_Unit"]=function(n)if g["IsSpellInRange"]("解除诅咒",n)and g["WR_CanRemoveUnitDebuff"](n)then if n=="mouseover"then if g["WR_ColorFrame_Show"]("CN5","解咒M")then return d end elseif n=="player"then if g["WR_ColorFrame_Show"]("CN6","解咒P")then return d end elseif n=="party1"then if g["WR_ColorFrame_Show"]("CN1","解咒P1")then return d end elseif n=="party2"then if g["WR_ColorFrame_Show"]("CN2","解咒P2")then return d end elseif n=="party3"then if g["WR_ColorFrame_Show"]("CN3","解咒P3")then return d end elseif n=="party4"then if g["WR_ColorFrame_Show"]("CN4","解咒P4")then return d end end end;return c end;g["WR_MageFire_JCZZ"]=function()if not g["WR_SpellUsable"]("解除诅咒")then return c end;if g["WRSet"]["HF_JCZZ"]==i("4")then return c end;if g["WRSet"]["HF_JCZZ"]==i("1")then if g["WR_MageFire_JCZZ_Unit"]("mouseover")then return d end;if g["WR_MageFire_JCZZ_Unit"]("player")then return d end;for o=i("1"),i("4"),i("1")do if g["WR_MageFire_JCZZ_Unit"]("party"..o)then return d end end end;if g["WRSet"]["HF_JCZZ"]==i("2")then if g["WR_MageFire_JCZZ_Unit"]("mouseover")then return d end end;if g["WRSet"]["HF_JCZZ"]==i("3")then if g["WR_MageFire_JCZZ_Unit"]("player")then return d end end;return c end;g["WR_MageFire_FSXQ"]=function()if g["WRSet"]["HF_FSXQ"]and g["IsSpellInRange"]("法术吸取","target")and g["WR_SpellUsable"]("法术吸取")and g["WR_GetUnitBuffTime"]("target",g["StealBuffName"])~=i("0")then if g["WR_ColorFrame_Show"]("CF9","法术吸取")then return d end end;return c end;g["WR_MageFire_CJXX_Unit"]=function(n)if g["C_Spell"]["IsSpellInRange"]("超级新星",n)and g["WR_StunSpell"](n,i("2"))then if n=="target"then if g["WR_ColorFrame_Show"]("CSF5","超星T")then return d end elseif n=="focus"then if g["WR_ColorFrame_Show"]("CSF6","超星F")then return d end elseif n=="mouseover"then if g["WR_ColorFrame_Show"]("CSF7","超星M")then return d end elseif n=="party1target"then if g["WR_ColorFrame_Show"]("CSF1","超星P1T")then return d end elseif n=="party2target"then if g["WR_ColorFrame_Show"]("CSF2","超星P2T")then return d end elseif n=="party3target"then if g["WR_ColorFrame_Show"]("CSF3","超星P3T")then return d end elseif n=="party4target"then if g["WR_ColorFrame_Show"]("CSF4","超星P4T")then return d end end end;return c end;g["WR_MageFire_CJXX"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["HF_CJXX"]and g["WR_SpellUsable"]("超级新星")then if g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("CSF7","超星P")then return d end end;if g["WR_MageFire_CJXX_Unit"]("target")then return d end;if g["WR_MageFire_CJXX_Unit"]("focus")then return d end;if g["WR_MageFire_CJXX_Unit"]("mouseover")then return d end;for o=i("1"),i("4"),i("1")do if g["WR_MageFire_CJXX_Unit"]("party"..o.."target")then return d end end end;return c end;g["WR_MageFire_CJB"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["HF_CJB"]and g["WR_SpellUsable"]("冲击波")then if g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("SF4","冲击波")then return d end end end;return c end;g["WR_MageFire_LYHT"]=function()if g["WRSet"]["HF_LYHT"]and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("烈焰护体")and g["WR_GetUnitBuffTime"]("player","烈焰护体")<=g["GCD"]then if g["WR_ColorFrame_Show"]("ASF1","烈焰护体")then return d end end;return c end;g["WR_MageFire_ASZH"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("奥术智慧")and(g["WR_GetUnitBuffTime"]("player","奥术智慧")<=g["GCD"]or not g["UnitAffectingCombat"]("player")and(g["WR_GetUnitBuffTime"]("player","奥术智慧")<i("600")or g["WR_PartyNotBuff"]("奥术智慧")))then if g["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return d end end;return c end end)()