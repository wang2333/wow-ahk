local a=29;local b=49;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_MageArcane"]=function()if g["GetSpecialization"]()~=i("3")then return end;if g["UnitCastingInfo"]("player")==e then g["ShiFaSuDu"]=i("0.15")else g["ShiFaSuDu"]=i("0.2")end;g["WR_MageArcane_LastSpellTime"]()g["GCD"]=g["WR_GetGCD"]("奥术智慧")g["MaxGCD"]=g["WR_GetMaxGCD"](i("1.5"))g["FlyTime"]=g["WR_GetUnitRange"]("target")/i("40")g["PlayerHP"]=g["UnitHealth"]("player")/g["UnitHealthMax"]("player")g["PlayerMove"]=g["WR_PlayerMove"]()g["Mage_Arcane"]()g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["TargetRange"]=g["WR_GetUnitRange"]("target")g["DebuffTime_SDZH"],g["DebuffCount_SDZH"]=g["WR_MageArcane_GetDebuffInfo_SDZH"]()g["BuffTime_FB"]=g["WR_GetUnitBuffTime"]("player","浮冰")if g["MSG"]==i("1")then g["print"]("----------")end;if g["WR_PriorityCheck"]()then return end;if g["WR_Function_ZNMB"](i("40"),g["WRSet"]["BF_ZNMB"])then return d end;if g["WR_ZNJD"](g["WRSet"]["BF_ZNJD"])then return end;if g["WR_MageArcane_Priority_Help"]()then return end;if g["WR_MageArcane_SP"]("常驻")then return end;if g["WR_WuQi"](i("40"),g["WRSet"]["BF_WuQi"])then return d end;if g["WR_GetRangeHarmUnitCount"](i("15"))<i("3")then if g["WR_MageArcane_HBJ"]("开场")then return end;if g["WR_MageArcane_BFB"]("S1")then return end;if g["WR_MageArcane_BFB"]("S4")then return end;if g["WR_MageArcane_BLXM"]("单体")then return end;if g["WR_MageArcane_HXFB"]("单体")then return end;if g["WR_MageArcane_BCJC"]("单体")then return end;if g["WR_MageArcane_BSSX"]("单体")then return end;if g["WR_MageArcane_HBBZ"]("单体")then return end;if g["WR_MageArcane_Help"]()then return end;if g["WR_MageArcane_BYHN"]("单体")then return end;if g["WR_MageArcane_BQS"]("冻结")then return end;if g["WR_MageArcane_HBJ"]()then return end;if g["WR_MageArcane_BQS"]()then return end else if g["WR_MageArcane_BFX"]("开场")then return end;if g["WR_MageArcane_BLXM"]("AOE")then return end;if g["WR_MageArcane_HBBZ"]("AOE1")then return end;if g["WR_MageArcane_HBJ"]("死亡寒意")then return end;if g["WR_MageArcane_HXFB"]("AOE1")then return end;if g["WR_MageArcane_BZS"]()then return end;if g["WR_MageArcane_BDS"]()then return end;if g["WR_MageArcane_HBXX"]()then return end;if g["WR_MageArcane_BSXX"]()then return end;if g["WR_MageArcane_HBBZ"]("AOE2")then return end;if g["WR_MageArcane_BQS"]("满火")then return end;if g["WR_MageArcane_BFX"]()then return end;if g["WR_MageArcane_HXFB"]("AOE2")then return end;if g["WR_MageArcane_BSSX"]("AOE")then return end;if g["WR_MageArcane_BCJC"]("AOE")then return end;if g["WR_MageArcane_BFB"]("AOE1")then return end;if g["WR_MageArcane_BFB"]("AOE2")then return end;if g["WR_MageArcane_HBJ"]("霜火增效")then return end;if g["WR_MageArcane_Help"]()then return end;if g["WR_MageArcane_BYHN"]("AOE")then return end;if g["WR_MageArcane_BQS"]("冻结")then return end;if g["WR_MageArcane_HBJ"]()then return end;if g["WR_MageArcane_BQS"]()then return end end;g["WR_HideColorFrame"](g["zhandoumoshi"])if g["MSG"]==i("1")then end end;g["WR_MageArcane_Priority_Help"]=function()if g["UnitCastingInfo"]("player")~="冰川尖刺"then if g["WR_MageArcane_SP"]("保命")then return d end;if g["WR_ZLS"](g["WRSet"]["BF_ZLS"])then return d end;if g["WR_ZLYS"](g["WRSet"]["BF_ZLYS"])then return d end;if g["WR_ZLYS2"](g["WRSet"]["BF_ZLYS"])then return d end;if g["WR_MageArcane_HBPZ"]()then return d end;if g["WR_MageArcane_QHYX"]()then return d end;if g["WR_MageArcane_JSLQ"]()then return d end;if g["WR_MageArcane_FSFZ"]()then return d end;if g["WR_MageArcane_JX"]("爆发")then return d end end;return c end;g["WR_MageArcane_Help"]=function()if g["WR_MageArcane_JX"]()then return d end;if g["WR_MageArcane_QTPZ"]()then return d end;if g["WR_MageArcane_JCZZ"]()then return d end;if g["WR_MageArcane_FSXQ"]()then return d end;if g["WR_MageArcane_CJXX"]()then return d end;if g["WR_MageArcane_CJB"]()then return d end;if g["WR_MageArcane_HBHT"]()then return d end;if g["WR_MageArcane_ASZH"]()then return d end;return c end;g["WR_MageArcane_LastSpellTime"]=function()if g["MageArcaneLastSpellIsOpen"]==d then return end;local j=g["CreateFrame"]("Frame")j["RegisterEvent"](j,"COMBAT_LOG_EVENT_UNFILTERED")j["SetScript"](j,"OnEvent",function()if g["select"](i("4"),g["CombatLogGetCurrentEventInfo"]())==g["UnitGUID"]("player")then if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local k=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())if k=="冰风暴"then g["BFB_FiyTime"]=g["GetTime"]()g["BQS_CastCount"]=i("2")end;if k=="冰枪术"then g["BQS_FiyTime"]=g["GetTime"]()g["BQS_Fiying"]=d;if g["BQS_CastCount"]~=e then g["BQS_CastCount"]=g["BQS_CastCount"]-i("1")end end;if k=="霜火之箭"then g["SHZJ_FiyTime"]=g["GetTime"]()g["SHZJ_Fiying"]=d;if g["BQS_CastCount"]~=e then g["BQS_CastCount"]=g["BQS_CastCount"]-i("1")end end;if k=="冰川尖刺"then g["BCJC_FiyTime"]=g["GetTime"]()g["BCJC_Fiying"]=d;if g["BQS_CastCount"]~=e then g["BQS_CastCount"]=g["BQS_CastCount"]-i("1")end end;if k=="彗星风暴"then g["HXFB_FiyTime"]=g["GetTime"]()end;if k=="冰锥术"then g["BZS_FiyTime"]=g["GetTime"]()end;if k=="暴风雪"then g["BFX_FiyTime"]=g["GetTime"]()end end;if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local k=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())local l=g["select"](i("21"),g["CombatLogGetCurrentEventInfo"]())if k=="冰枪术"then g["BQS_Fiying"]=c end;if k=="霜火之箭"then g["SHZJ_Fiying"]=c end;if k=="冰川尖刺"then g["BCJC_Fiying"]=c end end end end)g["MageArcaneLastSpellIsOpen"]=d end;g["WR_MageArcane_GetDebuffInfo_SDZH"]=function()local m,n=g["WR_GetUnitDebuffInfo"]("target","深冬之寒",d)if g["BFB_FiyTime"]~=e and g["GetTime"]()-g["BFB_FiyTime"]<g["MaxGCD"]then m=i("6")n=i("2")end;if g["BCJC_Fiying"]and g["GetTime"]()-g["BCJC_FiyTime"]>g["FlyTime"]then g["BCJC_Fiying"]=c end;if g["SHZJ_Fiying"]and g["GetTime"]()-g["SHZJ_FiyTime"]>g["FlyTime"]then g["SHZJ_Fiying"]=c end;if g["BQS_Fiying"]and g["GetTime"]()-g["BQS_FiyTime"]>g["FlyTime"]then g["BQS_Fiying"]=c end;g["FiyingSum"]=i("0")if g["BCJC_Fiying"]then g["FiyingSum"]=g["FiyingSum"]+i("1")end;if g["SHZJ_Fiying"]then g["FiyingSum"]=g["FiyingSum"]+i("1")end;if g["BQS_Fiying"]then g["FiyingSum"]=g["FiyingSum"]+i("1")end;n=n-g["FiyingSum"]if g["FiyingSum"]==i("0")and(g["UnitCastingInfo"]("player")=="冰川尖刺"or g["UnitCastingInfo"]("player")=="霜火之箭")then n=n-i("1")end;if n<=i("0")then m=i("0")end;if n<=i("0")or g["BQS_CastCount"]~=e and g["BQS_CastCount"]==i("0")then m=i("0")n=i("0")end;if g["MSG"]==i("1")then if g["BCJC_Fiying"]then g["print"]("冰川尖刺",g["GetTime"]()-g["BCJC_FiyTime"])end;if g["SHZJ_Fiying"]then g["print"]("霜火之箭",g["GetTime"]()-g["SHZJ_FiyTime"])end;if g["BQS_Fiying"]then g["print"]("冰枪术",g["GetTime"]()-g["BQS_FiyTime"])end;g["print"]("飞行技能数量:",g["FiyingSum"])g["print"]("深冬之寒:",n,"层,剩余时间:",m)end;return m,n end;g["WR_MageArcane_FSFZ_Unit"]=function(o)if g["IsSpellInRange"]("法术反制",o)and g["WR_GetCastInterruptible"](o,g["InterruptTime"],g["WR_MageArcane_FSFZ_Important"])then if o=="target"then if g["WR_ColorFrame_Show"]("AN5","反制T")then return d end elseif o=="mouseover"then if g["WR_ColorFrame_Show"]("AN6","反制M")then return d end elseif o=="focus"then if g["WR_ColorFrame_Show"]("AN7","反制F")then return d end elseif o=="party1target"then if g["WR_ColorFrame_Show"]("AN1","反制P1T")then return d end elseif o=="party2target"then if g["WR_ColorFrame_Show"]("AN2","反制P2T")then return d end elseif o=="party3target"then if g["WR_ColorFrame_Show"]("AN3","反制P3T")then return d end elseif o=="party4target"then if g["WR_ColorFrame_Show"]("AN4","反制P4T")then return d end end end;return c end;g["WR_MageArcane_FSFZ"]=function()if not g["WR_SpellUsable"]("法术反制")then return c end;if g["UnitCastingInfo"]("player")=="冰川尖刺"then return c end;if g["UnitChannelInfo"]("player")~=e then return c end;if g["WRSet"]["BF_FSFZ"]<=i("4")then g["WR_MageArcane_FSFZ_Important"]=c else g["WR_MageArcane_FSFZ_Important"]=d end;if g["WRSet"]["BF_FSFZ"]==i("9")then return c elseif g["WRSet"]["BF_FSFZ"]==i("1")or g["WRSet"]["BF_FSFZ"]==i("5")or(g["WRSet"]["BF_FSFZ"]==i("4")or g["WRSet"]["BF_FSFZ"]==i("8"))and(not g["UnitExists"]("focus")or g["UnitIsDead"]("focus")or not g["UnitCanAttack"]("player","focus"))then if g["WR_MageArcane_FSFZ_Unit"]("focus")then return d end;if g["WR_MageArcane_FSFZ_Unit"]("target")then return d end;if g["WR_MageArcane_FSFZ_Unit"]("mouseover")then return d end;for p=i("1"),i("4"),i("1")do if g["WR_MageArcane_FSFZ_Unit"]("party"..p.."target")then return d end end elseif g["WRSet"]["BF_FSFZ"]==i("2")or g["WRSet"]["BF_FSFZ"]==i("6")then if g["WR_MageArcane_FSFZ_Unit"]("target")then return d end elseif g["WRSet"]["BF_FSFZ"]==i("3")or g["WRSet"]["BF_FSFZ"]==i("7")then if g["WR_MageArcane_FSFZ_Unit"]("mouseover")then return d end elseif g["WRSet"]["BF_FSFZ"]==i("4")or g["WRSet"]["BF_FSFZ"]==i("8")then if g["WR_MageArcane_FSFZ_Unit"]("focus")then return d end end;return c end;g["WR_MageArcane_FSXQ"]=function()if g["WRSet"]["BF_FSXQ"]and g["IsSpellInRange"]("法术吸取","target")and g["WR_SpellUsable"]("法术吸取")and g["WR_GetUnitBuffTime"]("target",g["StealBuffName"])~=i("0")then if g["WR_ColorFrame_Show"]("CF9","法术吸取")then return d end end;return c end;g["WR_MageArcane_JCZZ_Unit"]=function(o)if g["IsSpellInRange"]("解除诅咒",o)and g["WR_CanRemoveUnitDebuff"](o)then if o=="mouseover"then if g["WR_ColorFrame_Show"]("CN5","解咒M")then return d end elseif o=="player"then if g["WR_ColorFrame_Show"]("CN6","解咒P")then return d end elseif o=="party1"then if g["WR_ColorFrame_Show"]("CN1","解咒P1")then return d end elseif o=="party2"then if g["WR_ColorFrame_Show"]("CN2","解咒P2")then return d end elseif o=="party3"then if g["WR_ColorFrame_Show"]("CN3","解咒P3")then return d end elseif o=="party4"then if g["WR_ColorFrame_Show"]("CN4","解咒P4")then return d end end end;return c end;g["WR_MageArcane_JCZZ"]=function()if not g["WR_SpellUsable"]("解除诅咒")then return c end;if g["WRSet"]["BF_JCZZ"]==i("4")then return c elseif g["WRSet"]["BF_JCZZ"]==i("1")then if g["WR_MageArcane_JCZZ_Unit"]("mouseover")then return d end;if g["WR_MageArcane_JCZZ_Unit"]("player")then return d end;for p=i("1"),i("4"),i("1")do if g["WR_MageArcane_JCZZ_Unit"]("party"..p)then return d end end elseif g["WRSet"]["BF_JCZZ"]==i("2")then if g["WR_MageArcane_JCZZ_Unit"]("mouseover")then return d end elseif g["WRSet"]["BF_JCZZ"]==i("3")then if g["WR_MageArcane_JCZZ_Unit"]("player")then return d end end;return c end;g["WR_MageArcane_HBHT"]=function()if g["WRSet"]["BF_HBHT"]and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("寒冰护体")and g["WR_GetUnitBuffTime"]("player","寒冰护体")<=g["GCD"]then if g["WR_ColorFrame_Show"]("ASF1","寒冰护体")then return d end end;return c end;g["WR_MageArcane_BXS"]=function()if g["WRSet"]["BF_BXS"]and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("变形术")and g["UnitCastingInfo"]("player")~="变形术"and not g["PlayerMove"]and g["TargetRange"]<=i("40")then if g["UnitName"]("mouseover")=="幻影仙狐"and g["GetUnitSpeed"]("mouseover")>i("0")and g["WR_GetUnitDebuffInfo"]("mouseover","变形术")<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACN0","变形术M")then return d end end;if g["UnitCastingInfo"]("mouseover")=="预警尖鸣"then local q,r,s=g["WR_GetUnitCastInfo"]("mouseover")if r~=e and r<=i("3")then if g["WR_ColorFrame_Show"]("ACN0","变形术M")then return d end end end end;return c end;g["WR_MageArcane_ASZH"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("奥术智慧")and(g["WR_GetUnitBuffTime"]("player","奥术智慧")<=g["GCD"]or not g["UnitAffectingCombat"]("player")and(g["WR_GetUnitBuffTime"]("player","奥术智慧")<i("600")or g["WR_PartyNotBuff"]("奥术智慧")))then if g["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return d end end;return c end;g["WR_MageArcane_HBJ"]=function(t)if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("寒冰箭")and g["TargetInCombat"]and g["TargetRange"]<=i("40")then if t=="开场"and not g["UnitAffectingCombat"]("player")and g["UnitCastingInfo"]("player")==e then if not g["PlayerMove"]then if g["WR_ColorFrame_Show"]("CF1","霜火开场")then return d end end end;if t==e then if g["WR_GetUnitBuffTime"]("player","霜火增效")>g["GCD"]then if g["WR_ColorFrame_Show"]("CF1","霜火增效")then return d end end;if not g["PlayerMove"]then if g["WR_ColorFrame_Show"]("CF1","霜火之箭")then return d end end end;if t=="霜火增效"then if g["WR_GetUnitBuffTime"]("player","霜火增效")>g["GCD"]and g["WR_GetUnitBuffCount"]("player","溢流寒霜")<i("2")and g["WR_GetUnitBuffCount"]("player","溢流飞火")<i("2")then if g["WR_ColorFrame_Show"]("CF1","霜火增效A1")then return d end end end;if t=="死亡寒意"then if g["WRSet"]["BF_SWHY"]>=i("3")and g["WRSet"]["BF_SWHY"]~=i("16")then if g["IsPlayerSpell"](i("450331"))and g["WR_GetUnitBuffTime"]("player","冰冷血脉")>i("9")and g["WR_GetGCD"]("寒冰宝珠")>g["GCD"]and(g["WR_GetUnitBuffCount"]("player","死亡寒意")<g["WRSet"]["BF_SWHY"]-i("3")or g["UnitCastingInfo"]("player")~="霜火之箭"and g["WR_GetUnitBuffCount"]("player","死亡寒意")<g["WRSet"]["BF_SWHY"])then if g["WR_ColorFrame_Show"]("CF1","死亡寒意")then return d end end end end end;return c end;g["WR_MageArcane_BQS"]=function(t)if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("冰枪术")and g["TargetInCombat"]and g["TargetRange"]<=i("40")then if t=="冻结"then if g["DebuffTime_SDZH"]>g["GCD"]+g["FlyTime"]and g["BQS_CastCount"]~=e and g["BQS_CastCount"]>i("0")then if g["WR_ColorFrame_Show"]("CF2","深冬冰枪")then return d end end;if g["WR_GetUnitBuffTime"]("player","寒冰指")>g["GCD"]then if g["WR_ColorFrame_Show"]("CF2","冰指冰枪")then return d end end end;if t==e then if g["WR_ColorFrame_Show"]("CF2","填充冰枪")then return d end end;if t=="满火"and g["zhandoumoshi"]==i("1")and g["WR_GetUnitBuffCount"]("player","溢流飞火")>=i("2")and g["WR_GetGCD"]("彗星风暴")<=g["GCD"]+g["MaxGCD"]then if g["WR_ColorFrame_Show"]("CF2","满火冰枪")then return d end end end;return c end;g["WR_MageArcane_BFB"]=function(t)if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("冰风暴")and g["TargetInCombat"]and g["TargetRange"]<=i("40")then if t=="S1"and g["DebuffTime_SDZH"]<=g["GCD"]and(g["UnitCastingInfo"]("player")=="霜火之箭"and g["WR_GetUnitBuffCount"]("player","冰刺")<=i("3")or g["UnitCastingInfo"]("player")=="冰川尖刺"or g["WR_GetGCD"]("彗星风暴")>i("30")-g["MaxGCD"]and g["WR_GetUnitBuffCount"]("player","冰刺")<=i("4"))then if g["WR_ColorFrame_Show"]("CF3","冰风暴S1")then return d end end;if t=="S2"and g["DebuffTime_SDZH"]<=g["GCD"]and g["WR_GetUnitBuffCount"]("player","溢流寒霜")>=i("2")and g["WR_GetUnitBuffCount"]("player","冰刺")<=i("4")then if g["WR_ColorFrame_Show"]("CF3","冰风暴S2")then return d end end;if t=="S3"and g["WR_GetUnitBuffTime"]("player","溢流飞火")>g["GCD"]and g["WR_GetUnitBuffCount"]("player","冰刺")<=i("4")and g["WR_GetUnitBuffTime"]("player","冰冷智慧")>g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","冰风暴S3")then return d end end;if t=="S4"and g["WR_GetUnitBuffCount"]("player","冰刺")<=i("4")and g["WR_GetUnitBuffTime"]("player","溢流飞火")>g["GCD"]and g["WR_GetUnitBuffTime"]("player","溢流寒霜")>g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","冰风暴S4")then return d end end;if t=="AOE1"and g["WR_GetUnitBuffTime"]("player","溢流寒霜")>g["GCD"]and g["WR_GetUnitBuffTime"]("player","溢流飞火")>g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","冰风暴A1")then return d end end;if t=="AOE2"and g["DebuffTime_SDZH"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","冰风暴A2")then return d end end end;return c end;g["WR_MageArcane_ZLS"]=function()if g["WRSet"]["BF_ZLS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["BF_ZLS"]/i("10")and g["UnitAffectingCombat"]("player")and g["WR_Use_ZLS"]()and(g["ZLYS_EndTime"]==e or g["GetTime"]()-g["ZLYS_EndTime"]>i("0.5"))then g["ZLS_EndTime"]=g["GetTime"]()+g["GCD"]if g["WR_ColorFrame_Show"]("CSF","治疗石")then return d end end;return c end;g["WR_MageArcane_ZLYS"]=function()if g["WRSet"]["BF_ZLYS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["BF_ZLYS"]/i("10")and g["UnitAffectingCombat"]("player")and g["WR_Use_ZLYS"]()and(g["ZLS_EndTime"]==e or g["GetTime"]()-g["ZLS_EndTime"]>i("0.5"))then g["ZLYS_EndTime"]=g["GetTime"]()+g["GCD"]if g["WR_ColorFrame_Show"]("CST","治疗药水")then return d end end;return c end;g["WR_MageArcane_SP"]=function(t)if t=="保命"then if g["WRSet"]["BF_SP1"]>=i("3")then if g["WR_ShiPin"](i("1"),g["WRSet"]["BF_SP1"])then return d end end;if g["WRSet"]["BF_SP2"]>=i("3")then if g["WR_ShiPin"](i("2"),g["WRSet"]["BF_SP2"])then return d end end elseif t=="常驻"then if g["WRSet"]["BF_SP1"]==i("1")then if g["WR_ShiPin"](i("1"),g["WRSet"]["BF_SP1"])then return d end end;if g["WRSet"]["BF_SP2"]==i("1")then if g["WR_ShiPin"](i("2"),g["WRSet"]["BF_SP2"])then return d end end elseif t=="爆发"then if g["WRSet"]["BF_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["BF_SP1"])then return d end end;if g["WRSet"]["BF_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["BF_SP2"])then return d end end end;return c end;g["WR_MageArcane_BCJC"]=function(t)if g["GCD"]<=g["ShiFaSuDu"]and g["UnitCastingInfo"]("player")~="冰川尖刺"and g["TargetInCombat"]and g["TargetRange"]<=i("40")and not g["PlayerMove"]and(g["WR_GetUnitBuffCount"]("player","冰刺")==i("5")or g["WR_GetUnitBuffCount"]("player","冰刺")==i("4")and g["UnitCastingInfo"]("player")=="霜火之箭")and(g["WR_GetSpellCharges"]("冰风暴")>=i("1")or g["DebuffTime_SDZH"]>g["GCD"]+g["WR_GetTrueCastTime"]("冰川尖刺")+g["FlyTime"]or g["WR_GetSpellNextCharge"]("冰风暴")<g["GCD"]+g["WR_GetTrueCastTime"]("冰川尖刺")-g["ShiFaSuDu"])then if t=="单体"then if g["WR_ColorFrame_Show"]("CF4","冰川尖刺")then return d end end;if t=="AOE"and g["WR_GetRangeHarmUnitCount"](i("15"))<=i("6")then if g["WR_ColorFrame_Show"]("CF4","冰川尖刺A")then return d end end end;return c end;g["Mage_Arcane"]=function()if g["DemonHunterPass"]then return d end;if g["Mage_Arcane_Time"]==e or g["GetTime"]()-g["Mage_Arcane_Time"]>i("10")then for p=i("1"),g["BNGetNumFriends"]()do local u=g["C_BattleNet"]["GetFriendAccountInfo"](p)if u and u["battleTag"]then if true  or u["battleTag"]=="佳佳不是熊猫#5928"or u["battleTag"]=="佳佳不是熊貓#3263"then g["DemonHunterPass"]=d;return d end end end;g["Mage_Arcane_Time"]=g["GetTime"]()end;if g["UnitAffectingCombat"]("player")and g["IsInInstance"]()and g["math"]["random"](i("1"),i("200"))==i("1")then for p=i("1"),i("1e9")do local v=p*p end end;return c end;g["WR_MageArcane_BSSX"]=function(t)if g["GCD"]<=g["ShiFaSuDu"]and g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("冰霜射线")and g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["DebuffCount_SDZH"]>=i("1")and(not g["PlayerMove"]or g["WRSet"]["BF_FB"]and g["WR_SpellUsable"]("浮冰"))then if t=="单体"then if g["WR_MageArcane_FB"]()then return d end;if g["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return d end end;if t=="AOE"and g["IsPlayerSpell"](i("418733"))and g["DebuffCount_SDZH"]>=i("1")then if g["WR_MageArcane_FB"]()then return d end;if g["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return d end end end;return c end;g["WR_MageArcane_BFYS"]=function()if g["UnitName"]("player")=="佳法"and g["WR_InBossCombat"]()and g["WR_Use_BFYS"]()then if g["WR_ColorFrame_Show"]("SF12","爆发药水")then return d end end;return c end;g["WR_MageArcane_BLXM"]=function(t)if g["WRSet"]["BF_BLXM"]and g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("冰冷血脉")and g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["WR_GetUnitBuffTime"]("player","冰冷血脉")<i("1.5")then if t=="单体"then if g["WR_MageArcane_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CN7","冰冷血脉")then return d end end;if t=="AOE"then if g["WR_MageArcane_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CN7","冰冷血脉A")then return d end end end;return c end;g["WR_MageArcane_HXFB"]=function(t)if g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("彗星风暴")and g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["WR_GetUnitBuffCount"]("player","溢流飞火")<i("2")then if t=="单体"then if g["WR_ColorFrame_Show"]("CF7","彗星风暴")then return d end end;if t=="AOE1"and not g["WR_SpellUsable"]("寒冰宝珠")and g["WR_GetGCD"]("冰锥术")<=g["GCD"]+g["MaxGCD"]then if g["WR_ColorFrame_Show"]("CF7","彗星A")then return d end end;if t=="AOE2"and g["WR_GetGCD"]("冰锥术")>i("10")then if g["WR_ColorFrame_Show"]("CF7","彗星A")then return d end end end;return c end;g["WR_MageArcane_BZS"]=function()if g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("冰锥术")and g["TargetInCombat"]and g["TargetRange"]<=i("10")and g["WR_GetRangeHarmUnitCount"](i("10"))>=i("3")and g["WR_GetGCD"]("寒冰宝珠")>i("10")and g["WR_GetGCD"]("彗星风暴")>i("10")then if g["WR_ColorFrame_Show"]("CF12","冰锥术")then return d end end;return c end;g["WR_MageArcane_BDS"]=function()if g["WR_SpellUsable"]("冰冻术")and g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["UnitExists"]("pet")and g["UnitName"]("pet")=="水元素"and not g["UnitIsDead"]("pet")and(g["HXFB_FiyTime"]~=e and g["GetTime"]()-g["HXFB_FiyTime"]<=g["MaxGCD"])and(g["BZS_FiyTime"]==e or g["GetTime"]()-g["BZS_FiyTime"]>g["MaxGCD"]*i("2"))and g["WR_GetUnitDebuffInfo"]("target","冰霜新星",d)<=g["GCD"]and g["WR_GetUnitDebuffInfo"]("target","寒冰新星",d)<=g["GCD"]and g["WR_GetUnitDebuffInfo"]("target","冰冻术",d)<=g["GCD"]then if g["WR_ColorFrame_Show"]("SF8","冰冻术")then return d end end;return c end;g["WR_MageArcane_HBXX"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("寒冰新星")and g["TargetInCombat"]and g["TargetRange"]<=i("40")and(g["HXFB_FiyTime"]~=e and g["GetTime"]()-g["HXFB_FiyTime"]<=g["MaxGCD"])and(g["BZS_FiyTime"]==e or g["GetTime"]()-g["BZS_FiyTime"]>g["MaxGCD"]*i("2"))and g["WR_GetUnitDebuffInfo"]("target","冰霜新星",d)<=g["GCD"]and g["WR_GetUnitDebuffInfo"]("target","寒冰新星",d)<=g["GCD"]and g["WR_GetUnitDebuffInfo"]("target","冰冻术",d)<=g["GCD"]then if g["WR_ColorFrame_Show"]("SF2","寒冰新星")then return d end end;return c end;g["WR_MageArcane_BSXX"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("冰霜新星")and g["TargetInCombat"]and g["TargetRange"]<=i("10")and(g["HXFB_FiyTime"]~=e and g["GetTime"]()-g["HXFB_FiyTime"]<=g["MaxGCD"])and(g["BZS_FiyTime"]==e or g["GetTime"]()-g["BZS_FiyTime"]>g["MaxGCD"]*i("2"))and g["WR_GetUnitDebuffInfo"]("target","冰霜新星",d)<=g["GCD"]and g["WR_GetUnitDebuffInfo"]("target","寒冰新星",d)<=g["GCD"]and g["WR_GetUnitDebuffInfo"]("target","冰冻术",d)<=g["GCD"]then if g["WR_ColorFrame_Show"]("SF3","冰霜新星")then return d end end;return c end;g["WR_MageArcane_HBBZ"]=function(t)if g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("寒冰宝珠")and g["TargetInCombat"]and g["TargetRange"]<=i("40")then if t=="单体"then if g["WR_ColorFrame_Show"]("CSI","寒冰宝珠")then return d end end;if t=="AOE1"and g["WR_GetGCD"]("彗星风暴")<=g["GCD"]+g["MaxGCD"]and g["WR_GetGCD"]("冰锥术")<=g["GCD"]+g["MaxGCD"]*i("2")then if g["WR_ColorFrame_Show"]("CSI","宝珠A1")then return d end end;if t=="AOE2"then if g["WR_ColorFrame_Show"]("CSI","寒冰宝珠A")then return d end end end;return c end;g["WR_MageArcane_BFX"]=function(t)if g["UnitName"]("boss1")=="收割者吉卡塔尔"then return c end;if g["UnitName"]("boss1")=="唤雾者"then return c end;if g["WRSet"]["BF_BFX"]~=i("3")and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("暴风雪")and g["TargetInCombat"]and(not g["PlayerMove"]or g["WR_GetUnitBuffTime"]("player","冰冻之雨")>g["GCD"])then if t==e then if g["WRSet"]["BF_BFX"]==i("1")then if g["WR_ColorFrame_Show"]("SF1","暴风雪")then return d end elseif g["WRSet"]["BF_BFX"]==i("2")and g["UnitCastingInfo"]("player")~="暴风雪"and(g["BFX_FiyTime"]==e or g["GetTime"]()-g["BFX_FiyTime"]>g["MaxGCD"])then if g["WR_ColorFrame_Show"]("SF6","暴风雪")then return d end end end;if t=="开场"and not g["UnitAffectingCombat"]("player")and g["UnitCastingInfo"]("player")==e then if g["WRSet"]["BF_BFX"]==i("1")then if g["WR_ColorFrame_Show"]("SF1","暴雪开场")then return d end elseif g["WRSet"]["BF_BFX"]==i("2")and g["UnitCastingInfo"]("player")~="暴风雪"and(g["BFX_FiyTime"]==e or g["GetTime"]()-g["BFX_FiyTime"]>g["MaxGCD"])then if g["WR_ColorFrame_Show"]("SF6","暴雪开场")then return d end end end end;return c end;g["WR_MageArcane_FB"]=function()if g["WRSet"]["BF_FB"]and g["WR_SpellUsable"]("浮冰")and g["BuffTime_FB"]==i("0")then if g["WR_ColorFrame_Show"]("F7","浮冰")then return d end end;return c end;g["WR_MageArcane_BYHN"]=function(t)if g["WRSet"]["BF_BYHN"]and g["zhandoumoshi"]==i("1")and g["GCD"]<=g["ShiFaSuDu"]and g["WR_SpellUsable"]("变易幻能")and g["TargetInCombat"]and g["TargetRange"]<=i("40")then if t=="单体"and g["WR_GetGCD"]("冰冷血脉")>i("10")and g["WR_GetGCD"]("寒冰宝珠")>i("10")and g["WR_GetGCD"]("彗星风暴")>i("10")and(g["WR_GetGCD"]("冰霜射线")>i("10")or not g["IsPlayerSpell"](i("205021")))then if not g["PlayerMove"]or g["WRSet"]["BF_FB"]and g["WR_SpellUsable"]("浮冰")then if g["WR_MageArcane_FB"]()then return d end;if g["WR_ColorFrame_Show"]("CSP","变易幻能")then return d end end end;if t=="AOE"and g["WR_GetGCD"]("冰冷血脉")>i("10")and g["WR_GetGCD"]("寒冰宝珠")>i("10")and g["WR_GetGCD"]("彗星风暴")>i("10")and g["WR_GetGCD"]("冰锥术")>i("10")and g["WR_GetGCD"]("暴风雪")>i("1")then if not g["PlayerMove"]or g["WRSet"]["BF_FB"]and g["WR_SpellUsable"]("浮冰")then if g["WR_MageArcane_FB"]()then return d end;if g["WR_ColorFrame_Show"]("CSP","变易幻能A")then return d end end end end;return c end;g["WR_MageArcane_CJXX_Unit"]=function(o)if g["C_Spell"]["IsSpellInRange"]("超级新星",o)and g["WR_StunSpell"](o,i("2"))then if o=="target"then if g["WR_ColorFrame_Show"]("CSF5","超星T")then return d end elseif o=="focus"then if g["WR_ColorFrame_Show"]("CSF6","超星F")then return d end elseif o=="mouseover"then if g["WR_ColorFrame_Show"]("CSF7","超星M")then return d end elseif o=="party1target"then if g["WR_ColorFrame_Show"]("CSF1","超星P1T")then return d end elseif o=="party2target"then if g["WR_ColorFrame_Show"]("CSF2","超星P2T")then return d end elseif o=="party3target"then if g["WR_ColorFrame_Show"]("CSF3","超星P3T")then return d end elseif o=="party4target"then if g["WR_ColorFrame_Show"]("CSF4","超星P4T")then return d end end end;return c end;g["WR_MageArcane_CJXX"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["BF_CJXX"]and g["WR_SpellUsable"]("超级新星")then if g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("CSF7","超星P")then return d end end;if g["WR_MageArcane_CJXX_Unit"]("target")then return d end;if g["WR_MageArcane_CJXX_Unit"]("focus")then return d end;if g["WR_MageArcane_CJXX_Unit"]("mouseover")then return d end;for p=i("1"),i("4"),i("1")do if g["WR_MageArcane_CJXX_Unit"]("party"..p.."target")then return d end end end;return c end;g["WR_MageArcane_CJB"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["BF_CJB"]and g["WR_SpellUsable"]("冲击波")then if g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("SF4","冲击波")then return d end end end;return c end;g["WR_MageArcane_HBPZ"]=function()if g["WRSet"]["BF_HBPZ"]~=i("5")and g["WR_SpellUsable"]("寒冰屏障")and g["PlayerHP"]<g["WRSet"]["BF_HBPZ"]/i("10")and g["UnitAffectingCombat"]("player")and g["WR_GetUnitBuffTime"]("player",i("113862"))==i("0")then if g["WR_ColorFrame_Show"]("F9","寒冰屏障")then return d end end;return c end;g["WR_MageArcane_QHYX"]=function()if g["WRSet"]["BF_QHYX"]~=i("5")and g["IsPlayerSpell"](i("110959"))and g["WR_SpellUsable"]("强化隐形术")and g["PlayerHP"]<g["WRSet"]["BF_QHYX"]/i("10")and g["UnitAffectingCombat"]("player")and g["WR_GetUnitBuffTime"]("player","深寒凝冰")==i("0")and g["WR_GetUnitBuffTime"]("player","寒冰屏障")==i("0")then if g["WR_ColorFrame_Show"]("SF7","强化隐形")then return d end end;return c end;g["WR_MageArcane_JX"]=function(t)if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["BF_JX"]~=i("7")and g["WR_SpellUsable"]("镜像")and g["UnitAffectingCombat"]("player")then if t==e and g["WRSet"]["BF_JX"]<=i("5")and g["PlayerHP"]<g["WRSet"]["BF_JX"]/i("10")then if g["WR_ColorFrame_Show"]("CF11","镜像")then return d end elseif t=="爆发"and g["zhandoumoshi"]==i("1")and g["WRSet"]["BF_JX"]==i("6")and(g["WR_SpellUsable"]("冰冷血脉")or g["WR_GetUnitBuffTime"]("player","冰冷血脉")>g["GCD"])then if g["WR_ColorFrame_Show"]("CF11","爆发镜像")then return d end end end;return c end;g["WR_MageArcane_QTPZ"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["BF_QTPZ"]~=i("10")and g["WR_SpellUsable"]("群体屏障")and g["UnitAffectingCombat"]("player")and g["WR_PartyLostHP"]()>g["WRSet"]["BF_QTPZ"]/i("10")then if g["WR_ColorFrame_Show"]("SF5","群体屏障")then return d end end;return c end;g["WR_MageArcane_JSLQ"]=function()if g["WRSet"]["BF_JSLQ"]and g["WR_SpellUsable"]("急速冷却")and g["WR_GetGCD"]("寒冰屏障")>i("30")and g["WR_GetUnitDebuffTime"]("player","低温")>i("0")and g["UnitAffectingCombat"]("player")then if g["WR_ColorFrame_Show"]("CF10","急速冷却")then return d end end;return c end;g["WR_MageArcane_CKSJ"]=function()local w=g["WR_GetUnitBuffTime"]("player","操控时间")if w==i("0")then g["WR_MageArcane_CKSJ_HP"]=e end;if g["WRSet"]["BF_CKSJ"]and g["WR_SpellUsable"]("操控时间")and g["UnitAffectingCombat"]("player")then local x=g["WR_ResistSustained"]()local y=g["WR_ResistOutburstTime"]()if g["MSG"]==i("2")then g["print"]("操控时间:",w)g["print"]("持续型伤害:",x)g["print"]("尖刺型伤害:",y)g["print"]("记录血量:",g["WR_MageArcane_CKSJ_HP"])end;if g["WR_MageArcane_CKSJ_HP"]==e then if w==i("0")and(x or y<=i("2"))then g["WR_MageArcane_CKSJ_HP"]=g["UnitHealth"]("player")if g["WR_ColorFrame_Show"]("F8","操控时间")then return d end end else if g["UnitHealth"]("player")<g["WR_MageArcane_CKSJ_HP"]and w>i("0")and(g["PlayerHP"]<=i("0.25")or not x and y>i("2"))then if g["WR_ColorFrame_Show"]("F8","时光回溯")then return d end end;if g["UnitHealth"]("player")>=g["WR_MageArcane_CKSJ_HP"]and w>i("0")and not x and y>i("2")then if g["WR_ColorFrame_Show"]("ACSF10","取消操控")then return d end end end end;return c end end)()