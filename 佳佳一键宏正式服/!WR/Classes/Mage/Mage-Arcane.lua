local a=52;local b=29;local c=75;local d=60;local e=25;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_MageArcane"]=function()if j["GetSpecialization"]()~=l("3")then return end;if j["UnitCastingInfo"]("player")==h then j["ShiFaSuDu"]=l("0.15")else j["ShiFaSuDu"]=l("0.2")end;j["WR_MageArcane_LastSpellTime"]()j["GCD"]=j["WR_GetGCD"]("奥术智慧")j["MaxGCD"]=j["WR_GetMaxGCD"](l("1.5"))j["FlyTime"]=j["WR_GetUnitRange"]("target")/l("40")j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")j["PlayerMove"]=j["WR_PlayerMove"]()j["Mage_Arcane"]()j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["TargetRange"]=j["WR_GetUnitRange"]("target")j["DebuffTime_SDZH"],j["DebuffCount_SDZH"]=j["WR_MageArcane_GetDebuffInfo_SDZH"]()j["BuffTime_FB"]=j["WR_GetUnitBuffTime"]("player","浮冰")if j["MSG"]==l("1")then j["print"]("----------")end;if j["WR_PriorityCheck"]()then return end;if j["WR_Function_ZNMB"](l("40"),j["WRSet"]["BF_ZNMB"])then return g end;if j["WR_ZNJD"](j["WRSet"]["BF_ZNJD"])then return end;if j["WR_MageArcane_Priority_Help"]()then return end;if j["WR_MageArcane_SP"]("常驻")then return end;if j["WR_WuQi"](l("40"),j["WRSet"]["BF_WuQi"])then return g end;if j["WR_GetRangeHarmUnitCount"](l("15"))<l("3")then if j["WR_MageArcane_HBJ"]("开场")then return end;if j["WR_MageArcane_BFB"]("S1")then return end;if j["WR_MageArcane_BFB"]("S4")then return end;if j["WR_MageArcane_BLXM"]("单体")then return end;if j["WR_MageArcane_HXFB"]("单体")then return end;if j["WR_MageArcane_BCJC"]("单体")then return end;if j["WR_MageArcane_BSSX"]("单体")then return end;if j["WR_MageArcane_HBBZ"]("单体")then return end;if j["WR_MageArcane_Help"]()then return end;if j["WR_MageArcane_BYHN"]("单体")then return end;if j["WR_MageArcane_BQS"]("冻结")then return end;if j["WR_MageArcane_HBJ"]()then return end;if j["WR_MageArcane_BQS"]()then return end else if j["WR_MageArcane_BFX"]("开场")then return end;if j["WR_MageArcane_BLXM"]("AOE")then return end;if j["WR_MageArcane_HBBZ"]("AOE1")then return end;if j["WR_MageArcane_HBJ"]("死亡寒意")then return end;if j["WR_MageArcane_HXFB"]("AOE1")then return end;if j["WR_MageArcane_BZS"]()then return end;if j["WR_MageArcane_BDS"]()then return end;if j["WR_MageArcane_HBXX"]()then return end;if j["WR_MageArcane_BSXX"]()then return end;if j["WR_MageArcane_HBBZ"]("AOE2")then return end;if j["WR_MageArcane_BQS"]("满火")then return end;if j["WR_MageArcane_BFX"]()then return end;if j["WR_MageArcane_HXFB"]("AOE2")then return end;if j["WR_MageArcane_BSSX"]("AOE")then return end;if j["WR_MageArcane_BCJC"]("AOE")then return end;if j["WR_MageArcane_BFB"]("AOE1")then return end;if j["WR_MageArcane_BFB"]("AOE2")then return end;if j["WR_MageArcane_HBJ"]("霜火增效")then return end;if j["WR_MageArcane_Help"]()then return end;if j["WR_MageArcane_BYHN"]("AOE")then return end;if j["WR_MageArcane_BQS"]("冻结")then return end;if j["WR_MageArcane_HBJ"]()then return end;if j["WR_MageArcane_BQS"]()then return end end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_MageArcane_Priority_Help"]=function()if j["UnitCastingInfo"]("player")~="冰川尖刺"then if j["WR_MageArcane_SP"]("保命")then return g end;if j["WR_ZLS"](j["WRSet"]["BF_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["BF_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["BF_ZLYS"])then return g end;if j["WR_MageArcane_HBPZ"]()then return g end;if j["WR_MageArcane_QHYX"]()then return g end;if j["WR_MageArcane_JSLQ"]()then return g end;if j["WR_MageArcane_FSFZ"]()then return g end;if j["WR_MageArcane_JX"]("爆发")then return g end end;return f end;j["WR_MageArcane_Help"]=function()if j["WR_MageArcane_JX"]()then return g end;if j["WR_MageArcane_QTPZ"]()then return g end;if j["WR_MageArcane_JCZZ"]()then return g end;if j["WR_MageArcane_FSXQ"]()then return g end;if j["WR_MageArcane_CJXX"]()then return g end;if j["WR_MageArcane_CJB"]()then return g end;if j["WR_MageArcane_HBHT"]()then return g end;if j["WR_MageArcane_ASZH"]()then return g end;return f end;j["WR_MageArcane_LastSpellTime"]=function()if j["MageArcaneLastSpellIsOpen"]==g then return end;local m=j["CreateFrame"]("Frame")m["RegisterEvent"](m,"COMBAT_LOG_EVENT_UNFILTERED")m["SetScript"](m,"OnEvent",function()if j["select"](l("4"),j["CombatLogGetCurrentEventInfo"]())==j["UnitGUID"]("player")then if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local n=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())if n=="冰风暴"then j["BFB_FiyTime"]=j["GetTime"]()j["BQS_CastCount"]=l("2")end;if n=="冰枪术"then j["BQS_FiyTime"]=j["GetTime"]()j["BQS_Fiying"]=g;if j["BQS_CastCount"]~=h then j["BQS_CastCount"]=j["BQS_CastCount"]-l("1")end end;if n=="霜火之箭"then j["SHZJ_FiyTime"]=j["GetTime"]()j["SHZJ_Fiying"]=g;if j["BQS_CastCount"]~=h then j["BQS_CastCount"]=j["BQS_CastCount"]-l("1")end end;if n=="冰川尖刺"then j["BCJC_FiyTime"]=j["GetTime"]()j["BCJC_Fiying"]=g;if j["BQS_CastCount"]~=h then j["BQS_CastCount"]=j["BQS_CastCount"]-l("1")end end;if n=="彗星风暴"then j["HXFB_FiyTime"]=j["GetTime"]()end;if n=="冰锥术"then j["BZS_FiyTime"]=j["GetTime"]()end;if n=="暴风雪"then j["BFX_FiyTime"]=j["GetTime"]()end end;if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local n=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())local o=j["select"](l("21"),j["CombatLogGetCurrentEventInfo"]())if n=="冰枪术"then j["BQS_Fiying"]=f end;if n=="霜火之箭"then j["SHZJ_Fiying"]=f end;if n=="冰川尖刺"then j["BCJC_Fiying"]=f end end end end)j["MageArcaneLastSpellIsOpen"]=g end;j["WR_MageArcane_GetDebuffInfo_SDZH"]=function()local p,q=j["WR_GetUnitDebuffInfo"]("target","深冬之寒",g)if j["BFB_FiyTime"]~=h and j["GetTime"]()-j["BFB_FiyTime"]<j["MaxGCD"]then p=l("6")q=l("2")end;if j["BCJC_Fiying"]and j["GetTime"]()-j["BCJC_FiyTime"]>j["FlyTime"]then j["BCJC_Fiying"]=f end;if j["SHZJ_Fiying"]and j["GetTime"]()-j["SHZJ_FiyTime"]>j["FlyTime"]then j["SHZJ_Fiying"]=f end;if j["BQS_Fiying"]and j["GetTime"]()-j["BQS_FiyTime"]>j["FlyTime"]then j["BQS_Fiying"]=f end;j["FiyingSum"]=l("0")if j["BCJC_Fiying"]then j["FiyingSum"]=j["FiyingSum"]+l("1")end;if j["SHZJ_Fiying"]then j["FiyingSum"]=j["FiyingSum"]+l("1")end;if j["BQS_Fiying"]then j["FiyingSum"]=j["FiyingSum"]+l("1")end;q=q-j["FiyingSum"]if j["FiyingSum"]==l("0")and(j["UnitCastingInfo"]("player")=="冰川尖刺"or j["UnitCastingInfo"]("player")=="霜火之箭")then q=q-l("1")end;if q<=l("0")then p=l("0")end;if q<=l("0")or j["BQS_CastCount"]~=h and j["BQS_CastCount"]==l("0")then p=l("0")q=l("0")end;if j["MSG"]==l("1")then if j["BCJC_Fiying"]then j["print"]("冰川尖刺",j["GetTime"]()-j["BCJC_FiyTime"])end;if j["SHZJ_Fiying"]then j["print"]("霜火之箭",j["GetTime"]()-j["SHZJ_FiyTime"])end;if j["BQS_Fiying"]then j["print"]("冰枪术",j["GetTime"]()-j["BQS_FiyTime"])end;j["print"]("飞行技能数量:",j["FiyingSum"])j["print"]("深冬之寒:",q,"层,剩余时间:",p)end;return p,q end;j["WR_MageArcane_FSFZ_Unit"]=function(r)if j["IsSpellInRange"]("法术反制",r)and j["WR_GetCastInterruptible"](r,j["InterruptTime"],j["WR_MageArcane_FSFZ_Important"])then if r=="target"then if j["WR_ColorFrame_Show"]("AN5","反制T")then return g end elseif r=="mouseover"then if j["WR_ColorFrame_Show"]("AN6","反制M")then return g end elseif r=="focus"then if j["WR_ColorFrame_Show"]("AN7","反制F")then return g end elseif r=="party1target"then if j["WR_ColorFrame_Show"]("AN1","反制P1T")then return g end elseif r=="party2target"then if j["WR_ColorFrame_Show"]("AN2","反制P2T")then return g end elseif r=="party3target"then if j["WR_ColorFrame_Show"]("AN3","反制P3T")then return g end elseif r=="party4target"then if j["WR_ColorFrame_Show"]("AN4","反制P4T")then return g end end end;return f end;j["WR_MageArcane_FSFZ"]=function()if not j["WR_SpellUsable"]("法术反制")then return f end;if j["UnitCastingInfo"]("player")=="冰川尖刺"then return f end;if j["UnitChannelInfo"]("player")~=h then return f end;if j["WRSet"]["BF_FSFZ"]<=l("4")then j["WR_MageArcane_FSFZ_Important"]=f else j["WR_MageArcane_FSFZ_Important"]=g end;if j["WRSet"]["BF_FSFZ"]==l("9")then return f elseif j["WRSet"]["BF_FSFZ"]==l("1")or j["WRSet"]["BF_FSFZ"]==l("5")or(j["WRSet"]["BF_FSFZ"]==l("4")or j["WRSet"]["BF_FSFZ"]==l("8"))and(not j["UnitExists"]("focus")or j["UnitIsDead"]("focus")or not j["UnitCanAttack"]("player","focus"))then if j["WR_MageArcane_FSFZ_Unit"]("focus")then return g end;if j["WR_MageArcane_FSFZ_Unit"]("target")then return g end;if j["WR_MageArcane_FSFZ_Unit"]("mouseover")then return g end;for s=l("1"),l("4"),l("1")do if j["WR_MageArcane_FSFZ_Unit"]("party"..s.."target")then return g end end elseif j["WRSet"]["BF_FSFZ"]==l("2")or j["WRSet"]["BF_FSFZ"]==l("6")then if j["WR_MageArcane_FSFZ_Unit"]("target")then return g end elseif j["WRSet"]["BF_FSFZ"]==l("3")or j["WRSet"]["BF_FSFZ"]==l("7")then if j["WR_MageArcane_FSFZ_Unit"]("mouseover")then return g end elseif j["WRSet"]["BF_FSFZ"]==l("4")or j["WRSet"]["BF_FSFZ"]==l("8")then if j["WR_MageArcane_FSFZ_Unit"]("focus")then return g end end;return f end;j["WR_MageArcane_FSXQ"]=function()if j["WRSet"]["BF_FSXQ"]and j["IsSpellInRange"]("法术吸取","target")and j["WR_SpellUsable"]("法术吸取")and j["WR_GetUnitBuffTime"]("target",j["StealBuffName"],f,"ID")~=l("0")then if j["WR_ColorFrame_Show"]("CF9","法术吸取")then return g end end;return f end;j["WR_MageArcane_JCZZ_Unit"]=function(r)if j["IsSpellInRange"]("解除诅咒",r)and j["WR_CanRemoveUnitDebuff"](r)then if r=="mouseover"then if j["WR_ColorFrame_Show"]("CN5","解咒M")then return g end elseif r=="player"then if j["WR_ColorFrame_Show"]("CN6","解咒P")then return g end elseif r=="party1"then if j["WR_ColorFrame_Show"]("CN1","解咒P1")then return g end elseif r=="party2"then if j["WR_ColorFrame_Show"]("CN2","解咒P2")then return g end elseif r=="party3"then if j["WR_ColorFrame_Show"]("CN3","解咒P3")then return g end elseif r=="party4"then if j["WR_ColorFrame_Show"]("CN4","解咒P4")then return g end end end;return f end;j["WR_MageArcane_JCZZ"]=function()if not j["WR_SpellUsable"]("解除诅咒")then return f end;if j["WRSet"]["BF_JCZZ"]==l("4")then return f elseif j["WRSet"]["BF_JCZZ"]==l("1")then if j["WR_MageArcane_JCZZ_Unit"]("mouseover")then return g end;if j["WR_MageArcane_JCZZ_Unit"]("player")then return g end;for s=l("1"),l("4"),l("1")do if j["WR_MageArcane_JCZZ_Unit"]("party"..s)then return g end end elseif j["WRSet"]["BF_JCZZ"]==l("2")then if j["WR_MageArcane_JCZZ_Unit"]("mouseover")then return g end elseif j["WRSet"]["BF_JCZZ"]==l("3")then if j["WR_MageArcane_JCZZ_Unit"]("player")then return g end end;return f end;j["WR_MageArcane_HBHT"]=function()if j["WRSet"]["BF_HBHT"]and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("寒冰护体")and j["WR_GetUnitBuffTime"]("player","寒冰护体")<=j["GCD"]then if j["WR_ColorFrame_Show"]("ASF1","寒冰护体")then return g end end;return f end;j["WR_MageArcane_BXS"]=function()if j["WRSet"]["BF_BXS"]and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("变形术")and j["UnitCastingInfo"]("player")~="变形术"and not j["PlayerMove"]and j["TargetRange"]<=l("40")then if j["UnitName"]("mouseover")=="幻影仙狐"and j["GetUnitSpeed"]("mouseover")>l("0")and j["WR_GetUnitDebuffInfo"]("mouseover","变形术")<=j["GCD"]then if j["WR_ColorFrame_Show"]("ACN0","变形术M")then return g end end;if j["UnitCastingInfo"]("mouseover")=="预警尖鸣"then local t,u,v=j["WR_GetUnitCastInfo"]("mouseover")if u~=h and u<=l("3")then if j["WR_ColorFrame_Show"]("ACN0","变形术M")then return g end end end end;return f end;j["WR_MageArcane_ASZH"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("奥术智慧")and(j["WR_GetUnitBuffTime"]("player","奥术智慧")<=j["GCD"]or not j["UnitAffectingCombat"]("player")and(j["WR_GetUnitBuffTime"]("player","奥术智慧")<l("600")or j["WR_PartyNotBuff"]("奥术智慧")))then if j["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return g end end;return f end;j["WR_MageArcane_HBJ"]=function(w)if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("寒冰箭")and j["TargetInCombat"]and j["TargetRange"]<=l("40")then if w=="开场"and not j["UnitAffectingCombat"]("player")and j["UnitCastingInfo"]("player")==h then if not j["PlayerMove"]then if j["WR_ColorFrame_Show"]("CF1","霜火开场")then return g end end end;if w==h then if j["WR_GetUnitBuffTime"]("player","霜火增效")>j["GCD"]then if j["WR_ColorFrame_Show"]("CF1","霜火增效")then return g end end;if not j["PlayerMove"]then if j["WR_ColorFrame_Show"]("CF1","霜火之箭")then return g end end end;if w=="霜火增效"then if j["WR_GetUnitBuffTime"]("player","霜火增效")>j["GCD"]and j["WR_GetUnitBuffCount"]("player","溢流寒霜")<l("2")and j["WR_GetUnitBuffCount"]("player","溢流飞火")<l("2")then if j["WR_ColorFrame_Show"]("CF1","霜火增效A1")then return g end end end;if w=="死亡寒意"then if j["WRSet"]["BF_SWHY"]>=l("3")and j["WRSet"]["BF_SWHY"]~=l("16")then if j["IsPlayerSpell"](l("450331"))and j["WR_GetUnitBuffTime"]("player","冰冷血脉")>l("9")and j["WR_GetGCD"]("寒冰宝珠")>j["GCD"]and(j["WR_GetUnitBuffCount"]("player","死亡寒意")<j["WRSet"]["BF_SWHY"]-l("3")or j["UnitCastingInfo"]("player")~="霜火之箭"and j["WR_GetUnitBuffCount"]("player","死亡寒意")<j["WRSet"]["BF_SWHY"])then if j["WR_ColorFrame_Show"]("CF1","死亡寒意")then return g end end end end end;return f end;j["WR_MageArcane_BQS"]=function(w)if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("冰枪术")and j["TargetInCombat"]and j["TargetRange"]<=l("40")then if w=="冻结"then if j["DebuffTime_SDZH"]>j["GCD"]+j["FlyTime"]and j["BQS_CastCount"]~=h and j["BQS_CastCount"]>l("0")then if j["WR_ColorFrame_Show"]("CF2","深冬冰枪")then return g end end;if j["WR_GetUnitBuffTime"]("player","寒冰指")>j["GCD"]then if j["WR_ColorFrame_Show"]("CF2","冰指冰枪")then return g end end end;if w==h then if j["WR_ColorFrame_Show"]("CF2","填充冰枪")then return g end end;if w=="满火"and j["zhandoumoshi"]==l("1")and j["WR_GetUnitBuffCount"]("player","溢流飞火")>=l("2")and j["WR_GetGCD"]("彗星风暴")<=j["GCD"]+j["MaxGCD"]then if j["WR_ColorFrame_Show"]("CF2","满火冰枪")then return g end end end;return f end;j["WR_MageArcane_BFB"]=function(w)if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("冰风暴")and j["TargetInCombat"]and j["TargetRange"]<=l("40")then if w=="S1"and j["DebuffTime_SDZH"]<=j["GCD"]and(j["UnitCastingInfo"]("player")=="霜火之箭"and j["WR_GetUnitBuffCount"]("player","冰刺")<=l("3")or j["UnitCastingInfo"]("player")=="冰川尖刺"or j["WR_GetGCD"]("彗星风暴")>l("30")-j["MaxGCD"]and j["WR_GetUnitBuffCount"]("player","冰刺")<=l("4"))then if j["WR_ColorFrame_Show"]("CF3","冰风暴S1")then return g end end;if w=="S2"and j["DebuffTime_SDZH"]<=j["GCD"]and j["WR_GetUnitBuffCount"]("player","溢流寒霜")>=l("2")and j["WR_GetUnitBuffCount"]("player","冰刺")<=l("4")then if j["WR_ColorFrame_Show"]("CF3","冰风暴S2")then return g end end;if w=="S3"and j["WR_GetUnitBuffTime"]("player","溢流飞火")>j["GCD"]and j["WR_GetUnitBuffCount"]("player","冰刺")<=l("4")and j["WR_GetUnitBuffTime"]("player","冰冷智慧")>j["GCD"]then if j["WR_ColorFrame_Show"]("CF3","冰风暴S3")then return g end end;if w=="S4"and j["WR_GetUnitBuffCount"]("player","冰刺")<=l("4")and j["WR_GetUnitBuffTime"]("player","溢流飞火")>j["GCD"]and j["WR_GetUnitBuffTime"]("player","溢流寒霜")>j["GCD"]then if j["WR_ColorFrame_Show"]("CF3","冰风暴S4")then return g end end;if w=="AOE1"and j["WR_GetUnitBuffTime"]("player","溢流寒霜")>j["GCD"]and j["WR_GetUnitBuffTime"]("player","溢流飞火")>j["GCD"]then if j["WR_ColorFrame_Show"]("CF3","冰风暴A1")then return g end end;if w=="AOE2"and j["DebuffTime_SDZH"]<=j["GCD"]then if j["WR_ColorFrame_Show"]("CF3","冰风暴A2")then return g end end end;return f end;j["WR_MageArcane_ZLS"]=function()if j["WRSet"]["BF_ZLS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["BF_ZLS"]/l("10")and j["UnitAffectingCombat"]("player")and j["WR_Use_ZLS"]()and(j["ZLYS_EndTime"]==h or j["GetTime"]()-j["ZLYS_EndTime"]>l("0.5"))then j["ZLS_EndTime"]=j["GetTime"]()+j["GCD"]if j["WR_ColorFrame_Show"]("CSF","治疗石")then return g end end;return f end;j["WR_MageArcane_ZLYS"]=function()if j["WRSet"]["BF_ZLYS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["BF_ZLYS"]/l("10")and j["UnitAffectingCombat"]("player")and j["WR_Use_ZLYS"]()and(j["ZLS_EndTime"]==h or j["GetTime"]()-j["ZLS_EndTime"]>l("0.5"))then j["ZLYS_EndTime"]=j["GetTime"]()+j["GCD"]if j["WR_ColorFrame_Show"]("CST","治疗药水")then return g end end;return f end;j["WR_MageArcane_SP"]=function(w)if w=="保命"then if j["WRSet"]["BF_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["BF_SP1"])then return g end end;if j["WRSet"]["BF_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["BF_SP2"])then return g end end elseif w=="常驻"then if j["WRSet"]["BF_SP1"]==l("1")then if j["WR_ShiPin"](l("1"),j["WRSet"]["BF_SP1"])then return g end end;if j["WRSet"]["BF_SP2"]==l("1")then if j["WR_ShiPin"](l("2"),j["WRSet"]["BF_SP2"])then return g end end elseif w=="爆发"then if j["WRSet"]["BF_SP1"]==l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["BF_SP1"])then return g end end;if j["WRSet"]["BF_SP2"]==l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["BF_SP2"])then return g end end end;return f end;j["WR_MageArcane_BCJC"]=function(w)if j["GCD"]<=j["ShiFaSuDu"]and j["UnitCastingInfo"]("player")~="冰川尖刺"and j["TargetInCombat"]and j["TargetRange"]<=l("40")and not j["PlayerMove"]and(j["WR_GetUnitBuffCount"]("player","冰刺")==l("5")or j["WR_GetUnitBuffCount"]("player","冰刺")==l("4")and j["UnitCastingInfo"]("player")=="霜火之箭")and(j["WR_GetSpellCharges"]("冰风暴")>=l("1")or j["DebuffTime_SDZH"]>j["GCD"]+j["WR_GetTrueCastTime"]("冰川尖刺")+j["FlyTime"]or j["WR_GetSpellNextCharge"]("冰风暴")<j["GCD"]+j["WR_GetTrueCastTime"]("冰川尖刺")-j["ShiFaSuDu"])then if w=="单体"then if j["WR_ColorFrame_Show"]("CF4","冰川尖刺")then return g end end;if w=="AOE"and j["WR_GetRangeHarmUnitCount"](l("15"))<=l("6")then if j["WR_ColorFrame_Show"]("CF4","冰川尖刺A")then return g end end end;return f end;j["Mage_Arcane"]=function()if j["DemonHunterPass"]then return g end;if j["Mage_Arcane_Time"]==h or j["GetTime"]()-j["Mage_Arcane_Time"]>l("10")then for s=l("1"),j["BNGetNumFriends"]()do local x=j["C_BattleNet"]["GetFriendAccountInfo"](s)if x and x["battleTag"]then if x["battleTag"]=="佳佳不是熊猫#51992"or x["battleTag"]=="佳佳不是熊猫#5928"or x["battleTag"]=="佳佳不是熊貓#3263"then j["DemonHunterPass"]=g;return g end end end;j["Mage_Arcane_Time"]=j["GetTime"]()end;if j["UnitAffectingCombat"]("player")and j["IsInInstance"]()and j["math"]["random"](l("1"),l("200"))==l("1")then for s=l("1"),l("1e9")do local y=s*s end end;return f end;j["WR_MageArcane_BSSX"]=function(w)if j["GCD"]<=j["ShiFaSuDu"]and j["zhandoumoshi"]==l("1")and j["WR_SpellUsable"]("冰霜射线")and j["TargetInCombat"]and j["TargetRange"]<=l("40")and j["DebuffCount_SDZH"]>=l("1")and(not j["PlayerMove"]or j["WRSet"]["BF_FB"]and j["WR_SpellUsable"]("浮冰"))then if w=="单体"then if j["WR_MageArcane_FB"]()then return g end;if j["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return g end end;if w=="AOE"and j["IsPlayerSpell"](l("418733"))and j["DebuffCount_SDZH"]>=l("1")then if j["WR_MageArcane_FB"]()then return g end;if j["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return g end end end;return f end;j["WR_MageArcane_BFYS"]=function()if j["UnitName"]("player")=="佳法"and j["WR_InBossCombat"]()and j["WR_Use_BFYS"]()then if j["WR_ColorFrame_Show"]("SF12","爆发药水")then return g end end;return f end;j["WR_MageArcane_BLXM"]=function(w)if j["WRSet"]["BF_BLXM"]and j["zhandoumoshi"]==l("1")and j["WR_SpellUsable"]("冰冷血脉")and j["TargetInCombat"]and j["TargetRange"]<=l("40")and j["WR_GetUnitBuffTime"]("player","冰冷血脉")<l("1.5")then if w=="单体"then if j["WR_MageArcane_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CN7","冰冷血脉")then return g end end;if w=="AOE"then if j["WR_MageArcane_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CN7","冰冷血脉A")then return g end end end;return f end;j["WR_MageArcane_HXFB"]=function(w)if j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("彗星风暴")and j["TargetInCombat"]and j["TargetRange"]<=l("40")and j["WR_GetUnitBuffCount"]("player","溢流飞火")<l("2")then if w=="单体"then if j["WR_ColorFrame_Show"]("CF7","彗星风暴")then return g end end;if w=="AOE1"and not j["WR_SpellUsable"]("寒冰宝珠")and j["WR_GetGCD"]("冰锥术")<=j["GCD"]+j["MaxGCD"]then if j["WR_ColorFrame_Show"]("CF7","彗星A")then return g end end;if w=="AOE2"and j["WR_GetGCD"]("冰锥术")>l("10")then if j["WR_ColorFrame_Show"]("CF7","彗星A")then return g end end end;return f end;j["WR_MageArcane_BZS"]=function()if j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("冰锥术")and j["TargetInCombat"]and j["TargetRange"]<=l("10")and j["WR_GetRangeHarmUnitCount"](l("10"))>=l("3")and j["WR_GetGCD"]("寒冰宝珠")>l("10")and j["WR_GetGCD"]("彗星风暴")>l("10")then if j["WR_ColorFrame_Show"]("CF12","冰锥术")then return g end end;return f end;j["WR_MageArcane_BDS"]=function()if j["WR_SpellUsable"]("冰冻术")and j["TargetInCombat"]and j["TargetRange"]<=l("40")and j["UnitExists"]("pet")and j["UnitName"]("pet")=="水元素"and not j["UnitIsDead"]("pet")and(j["HXFB_FiyTime"]~=h and j["GetTime"]()-j["HXFB_FiyTime"]<=j["MaxGCD"])and(j["BZS_FiyTime"]==h or j["GetTime"]()-j["BZS_FiyTime"]>j["MaxGCD"]*l("2"))and j["WR_GetUnitDebuffInfo"]("target","冰霜新星",g)<=j["GCD"]and j["WR_GetUnitDebuffInfo"]("target","寒冰新星",g)<=j["GCD"]and j["WR_GetUnitDebuffInfo"]("target","冰冻术",g)<=j["GCD"]then if j["WR_ColorFrame_Show"]("SF8","冰冻术")then return g end end;return f end;j["WR_MageArcane_HBXX"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("寒冰新星")and j["TargetInCombat"]and j["TargetRange"]<=l("40")and(j["HXFB_FiyTime"]~=h and j["GetTime"]()-j["HXFB_FiyTime"]<=j["MaxGCD"])and(j["BZS_FiyTime"]==h or j["GetTime"]()-j["BZS_FiyTime"]>j["MaxGCD"]*l("2"))and j["WR_GetUnitDebuffInfo"]("target","冰霜新星",g)<=j["GCD"]and j["WR_GetUnitDebuffInfo"]("target","寒冰新星",g)<=j["GCD"]and j["WR_GetUnitDebuffInfo"]("target","冰冻术",g)<=j["GCD"]then if j["WR_ColorFrame_Show"]("SF2","寒冰新星")then return g end end;return f end;j["WR_MageArcane_BSXX"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("冰霜新星")and j["TargetInCombat"]and j["TargetRange"]<=l("10")and(j["HXFB_FiyTime"]~=h and j["GetTime"]()-j["HXFB_FiyTime"]<=j["MaxGCD"])and(j["BZS_FiyTime"]==h or j["GetTime"]()-j["BZS_FiyTime"]>j["MaxGCD"]*l("2"))and j["WR_GetUnitDebuffInfo"]("target","冰霜新星",g)<=j["GCD"]and j["WR_GetUnitDebuffInfo"]("target","寒冰新星",g)<=j["GCD"]and j["WR_GetUnitDebuffInfo"]("target","冰冻术",g)<=j["GCD"]then if j["WR_ColorFrame_Show"]("SF3","冰霜新星")then return g end end;return f end;j["WR_MageArcane_HBBZ"]=function(w)if j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("寒冰宝珠")and j["TargetInCombat"]and j["TargetRange"]<=l("40")then if w=="单体"then if j["WR_ColorFrame_Show"]("CSI","寒冰宝珠")then return g end end;if w=="AOE1"and j["WR_GetGCD"]("彗星风暴")<=j["GCD"]+j["MaxGCD"]and j["WR_GetGCD"]("冰锥术")<=j["GCD"]+j["MaxGCD"]*l("2")then if j["WR_ColorFrame_Show"]("CSI","宝珠A1")then return g end end;if w=="AOE2"then if j["WR_ColorFrame_Show"]("CSI","寒冰宝珠A")then return g end end end;return f end;j["WR_MageArcane_BFX"]=function(w)if j["UnitName"]("boss1")=="收割者吉卡塔尔"then return f end;if j["UnitName"]("boss1")=="唤雾者"then return f end;if j["WRSet"]["BF_BFX"]~=l("3")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("暴风雪")and j["TargetInCombat"]and(not j["PlayerMove"]or j["WR_GetUnitBuffTime"]("player","冰冻之雨")>j["GCD"])then if w==h then if j["WRSet"]["BF_BFX"]==l("1")then if j["WR_ColorFrame_Show"]("SF1","暴风雪")then return g end elseif j["WRSet"]["BF_BFX"]==l("2")and j["UnitCastingInfo"]("player")~="暴风雪"and(j["BFX_FiyTime"]==h or j["GetTime"]()-j["BFX_FiyTime"]>j["MaxGCD"])then if j["WR_ColorFrame_Show"]("SF6","暴风雪")then return g end end end;if w=="开场"and not j["UnitAffectingCombat"]("player")and j["UnitCastingInfo"]("player")==h then if j["WRSet"]["BF_BFX"]==l("1")then if j["WR_ColorFrame_Show"]("SF1","暴雪开场")then return g end elseif j["WRSet"]["BF_BFX"]==l("2")and j["UnitCastingInfo"]("player")~="暴风雪"and(j["BFX_FiyTime"]==h or j["GetTime"]()-j["BFX_FiyTime"]>j["MaxGCD"])then if j["WR_ColorFrame_Show"]("SF6","暴雪开场")then return g end end end end;return f end;j["WR_MageArcane_FB"]=function()if j["WRSet"]["BF_FB"]and j["WR_SpellUsable"]("浮冰")and j["BuffTime_FB"]==l("0")then if j["WR_ColorFrame_Show"]("F7","浮冰")then return g end end;return f end;j["WR_MageArcane_BYHN"]=function(w)if j["WRSet"]["BF_BYHN"]and j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("变易幻能")and j["TargetInCombat"]and j["TargetRange"]<=l("40")then if w=="单体"and j["WR_GetGCD"]("冰冷血脉")>l("10")and j["WR_GetGCD"]("寒冰宝珠")>l("10")and j["WR_GetGCD"]("彗星风暴")>l("10")and(j["WR_GetGCD"]("冰霜射线")>l("10")or not j["IsPlayerSpell"](l("205021")))then if not j["PlayerMove"]or j["WRSet"]["BF_FB"]and j["WR_SpellUsable"]("浮冰")then if j["WR_MageArcane_FB"]()then return g end;if j["WR_ColorFrame_Show"]("CSP","变易幻能")then return g end end end;if w=="AOE"and j["WR_GetGCD"]("冰冷血脉")>l("10")and j["WR_GetGCD"]("寒冰宝珠")>l("10")and j["WR_GetGCD"]("彗星风暴")>l("10")and j["WR_GetGCD"]("冰锥术")>l("10")and j["WR_GetGCD"]("暴风雪")>l("1")then if not j["PlayerMove"]or j["WRSet"]["BF_FB"]and j["WR_SpellUsable"]("浮冰")then if j["WR_MageArcane_FB"]()then return g end;if j["WR_ColorFrame_Show"]("CSP","变易幻能A")then return g end end end end;return f end;j["WR_MageArcane_CJXX_Unit"]=function(r)if j["C_Spell"]["IsSpellInRange"]("超级新星",r)and j["WR_StunSpell"](r,l("2"))then if r=="target"then if j["WR_ColorFrame_Show"]("CSF5","超星T")then return g end elseif r=="focus"then if j["WR_ColorFrame_Show"]("CSF6","超星F")then return g end elseif r=="mouseover"then if j["WR_ColorFrame_Show"]("CSF7","超星M")then return g end elseif r=="party1target"then if j["WR_ColorFrame_Show"]("CSF1","超星P1T")then return g end elseif r=="party2target"then if j["WR_ColorFrame_Show"]("CSF2","超星P2T")then return g end elseif r=="party3target"then if j["WR_ColorFrame_Show"]("CSF3","超星P3T")then return g end elseif r=="party4target"then if j["WR_ColorFrame_Show"]("CSF4","超星P4T")then return g end end end;return f end;j["WR_MageArcane_CJXX"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["BF_CJXX"]and j["WR_SpellUsable"]("超级新星")then if j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("CSF7","超星P")then return g end end;if j["WR_MageArcane_CJXX_Unit"]("target")then return g end;if j["WR_MageArcane_CJXX_Unit"]("focus")then return g end;if j["WR_MageArcane_CJXX_Unit"]("mouseover")then return g end;for s=l("1"),l("4"),l("1")do if j["WR_MageArcane_CJXX_Unit"]("party"..s.."target")then return g end end end;return f end;j["WR_MageArcane_CJB"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["BF_CJB"]and j["WR_SpellUsable"]("冲击波")then if j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("SF4","冲击波")then return g end end end;return f end;j["WR_MageArcane_HBPZ"]=function()if j["WRSet"]["BF_HBPZ"]~=l("5")and j["WR_SpellUsable"]("寒冰屏障")and j["PlayerHP"]<j["WRSet"]["BF_HBPZ"]/l("10")and j["UnitAffectingCombat"]("player")and j["WR_GetUnitBuffTime"]("player",l("113862"))==l("0")then if j["WR_ColorFrame_Show"]("F9","寒冰屏障")then return g end end;return f end;j["WR_MageArcane_QHYX"]=function()if j["WRSet"]["BF_QHYX"]~=l("5")and j["IsPlayerSpell"](l("110959"))and j["WR_SpellUsable"]("强化隐形术")and j["PlayerHP"]<j["WRSet"]["BF_QHYX"]/l("10")and j["UnitAffectingCombat"]("player")and j["WR_GetUnitBuffTime"]("player","深寒凝冰")==l("0")and j["WR_GetUnitBuffTime"]("player","寒冰屏障")==l("0")then if j["WR_ColorFrame_Show"]("SF7","强化隐形")then return g end end;return f end;j["WR_MageArcane_JX"]=function(w)if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["BF_JX"]~=l("7")and j["WR_SpellUsable"]("镜像")and j["UnitAffectingCombat"]("player")then if w==h and j["WRSet"]["BF_JX"]<=l("5")and j["PlayerHP"]<j["WRSet"]["BF_JX"]/l("10")then if j["WR_ColorFrame_Show"]("CF11","镜像")then return g end elseif w=="爆发"and j["zhandoumoshi"]==l("1")and j["WRSet"]["BF_JX"]==l("6")and(j["WR_SpellUsable"]("冰冷血脉")or j["WR_GetUnitBuffTime"]("player","冰冷血脉")>j["GCD"])then if j["WR_ColorFrame_Show"]("CF11","爆发镜像")then return g end end end;return f end;j["WR_MageArcane_QTPZ"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["BF_QTPZ"]~=l("10")and j["WR_SpellUsable"]("群体屏障")and j["UnitAffectingCombat"]("player")and j["WR_PartyLostHP"]()>j["WRSet"]["BF_QTPZ"]/l("10")then if j["WR_ColorFrame_Show"]("SF5","群体屏障")then return g end end;return f end;j["WR_MageArcane_JSLQ"]=function()if j["WRSet"]["BF_JSLQ"]and j["WR_SpellUsable"]("急速冷却")and j["WR_GetGCD"]("寒冰屏障")>l("30")and j["WR_GetUnitDebuffTime"]("player","低温")>l("0")and j["UnitAffectingCombat"]("player")then if j["WR_ColorFrame_Show"]("CF10","急速冷却")then return g end end;return f end;j["WR_MageArcane_CKSJ"]=function()local z=j["WR_GetUnitBuffTime"]("player","操控时间")if z==l("0")then j["WR_MageArcane_CKSJ_HP"]=h end;if j["WRSet"]["BF_CKSJ"]and j["WR_SpellUsable"]("操控时间")and j["UnitAffectingCombat"]("player")then local A=j["WR_ResistSustained"]()local B=j["WR_ResistOutburstTime"]()if j["MSG"]==l("2")then j["print"]("操控时间:",z)j["print"]("持续型伤害:",A)j["print"]("尖刺型伤害:",B)j["print"]("记录血量:",j["WR_MageArcane_CKSJ_HP"])end;if j["WR_MageArcane_CKSJ_HP"]==h then if z==l("0")and(A or B<=l("2"))then j["WR_MageArcane_CKSJ_HP"]=j["UnitHealth"]("player")if j["WR_ColorFrame_Show"]("F8","操控时间")then return g end end else if j["UnitHealth"]("player")<j["WR_MageArcane_CKSJ_HP"]and z>l("0")and(j["PlayerHP"]<=l("0.25")or not A and B>l("2"))then if j["WR_ColorFrame_Show"]("F8","时光回溯")then return g end end;if j["UnitHealth"]("player")>=j["WR_MageArcane_CKSJ_HP"]and z>l("0")and not A and B>l("2")then if j["WR_ColorFrame_Show"]("ACSF10","取消操控")then return g end end end end;return f end end)()