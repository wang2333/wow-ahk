local a=33;local b=15;local c=59;local d=43;local e=0==1;local f=not e;local g=nil;local h=""local i=_G;local j=_ENV;local k=i["tonumber"]return(function(...)i["WR_MageArcane"]=function()if i["GetSpecialization"]()~=k("3")then return end;if i["UnitCastingInfo"]("player")==g then i["ShiFaSuDu"]=k("0.15")else i["ShiFaSuDu"]=k("0.2")end;i["WR_MageArcane_LastSpellTime"]()i["GCD"]=i["WR_GetGCD"]("奥术智慧")i["MaxGCD"]=i["WR_GetMaxGCD"](k("1.5"))i["FlyTime"]=i["WR_GetUnitRange"]("target")/k("40")i["PlayerHP"]=i["UnitHealth"]("player")/i["UnitHealthMax"]("player")i["PlayerMove"]=i["WR_PlayerMove"]()i["Mage_Arcane"]()i["TargetInCombat"]=i["WR_TargetInCombat"]("target")i["TargetRange"]=i["WR_GetUnitRange"]("target")i["DebuffTime_SDZH"],i["DebuffCount_SDZH"]=i["WR_MageArcane_GetDebuffInfo_SDZH"]()i["BuffTime_FB"]=i["WR_GetUnitBuffTime"]("player","浮冰")if i["MSG"]==k("1")then i["print"]("----------")end;if i["WR_PriorityCheck"]()then return end;if i["WR_Function_ZNMB"](k("40"),i["WRSet"]["BF_ZNMB"])then return f end;if i["WR_ZNJD"](i["WRSet"]["BF_ZNJD"])then return end;if i["WR_MageArcane_Priority_Help"]()then return end;if i["WR_MageArcane_SP"]("常驻")then return end;if i["WR_WuQi"](k("40"),i["WRSet"]["BF_WuQi"])then return f end;if i["WR_GetRangeHarmUnitCount"](k("15"))<k("3")then if i["WR_MageArcane_HBJ"]("开场")then return end;if i["WR_MageArcane_BFB"]("S1")then return end;if i["WR_MageArcane_BFB"]("S4")then return end;if i["WR_MageArcane_BLXM"]("单体")then return end;if i["WR_MageArcane_HXFB"]("单体")then return end;if i["WR_MageArcane_BCJC"]("单体")then return end;if i["WR_MageArcane_BSSX"]("单体")then return end;if i["WR_MageArcane_HBBZ"]("单体")then return end;if i["WR_MageArcane_Help"]()then return end;if i["WR_MageArcane_BYHN"]("单体")then return end;if i["WR_MageArcane_BQS"]("冻结")then return end;if i["WR_MageArcane_HBJ"]()then return end;if i["WR_MageArcane_BQS"]()then return end else if i["WR_MageArcane_BFX"]("开场")then return end;if i["WR_MageArcane_BLXM"]("AOE")then return end;if i["WR_MageArcane_HBBZ"]("AOE1")then return end;if i["WR_MageArcane_HBJ"]("死亡寒意")then return end;if i["WR_MageArcane_HXFB"]("AOE1")then return end;if i["WR_MageArcane_BZS"]()then return end;if i["WR_MageArcane_BDS"]()then return end;if i["WR_MageArcane_HBXX"]()then return end;if i["WR_MageArcane_BSXX"]()then return end;if i["WR_MageArcane_HBBZ"]("AOE2")then return end;if i["WR_MageArcane_BQS"]("满火")then return end;if i["WR_MageArcane_BFX"]()then return end;if i["WR_MageArcane_HXFB"]("AOE2")then return end;if i["WR_MageArcane_BSSX"]("AOE")then return end;if i["WR_MageArcane_BCJC"]("AOE")then return end;if i["WR_MageArcane_BFB"]("AOE1")then return end;if i["WR_MageArcane_BFB"]("AOE2")then return end;if i["WR_MageArcane_HBJ"]("霜火增效")then return end;if i["WR_MageArcane_Help"]()then return end;if i["WR_MageArcane_BYHN"]("AOE")then return end;if i["WR_MageArcane_BQS"]("冻结")then return end;if i["WR_MageArcane_HBJ"]()then return end;if i["WR_MageArcane_BQS"]()then return end end;i["WR_HideColorFrame"](i["zhandoumoshi"])if i["MSG"]==k("1")then end end;i["WR_MageArcane_Priority_Help"]=function()if i["UnitCastingInfo"]("player")~="冰川尖刺"then if i["WR_MageArcane_SP"]("保命")then return f end;if i["WR_ZLS"](i["WRSet"]["BF_ZLS"])then return f end;if i["WR_ZLYS"](i["WRSet"]["BF_ZLYS"])then return f end;if i["WR_ZLYS2"](i["WRSet"]["BF_ZLYS"])then return f end;if i["WR_MageArcane_HBPZ"]()then return f end;if i["WR_MageArcane_QHYX"]()then return f end;if i["WR_MageArcane_JSLQ"]()then return f end;if i["WR_MageArcane_FSFZ"]()then return f end;if i["WR_MageArcane_JX"]("爆发")then return f end end;return e end;i["WR_MageArcane_Help"]=function()if i["WR_MageArcane_JX"]()then return f end;if i["WR_MageArcane_QTPZ"]()then return f end;if i["WR_MageArcane_JCZZ"]()then return f end;if i["WR_MageArcane_FSXQ"]()then return f end;if i["WR_MageArcane_CJXX"]()then return f end;if i["WR_MageArcane_CJB"]()then return f end;if i["WR_MageArcane_HBHT"]()then return f end;if i["WR_MageArcane_ASZH"]()then return f end;return e end;i["WR_MageArcane_LastSpellTime"]=function()if i["MageArcaneLastSpellIsOpen"]==f then return end;local l=i["CreateFrame"]("Frame")l["RegisterEvent"](l,"COMBAT_LOG_EVENT_UNFILTERED")l["SetScript"](l,"OnEvent",function()if i["select"](k("4"),i["CombatLogGetCurrentEventInfo"]())==i["UnitGUID"]("player")then if i["select"](k("2"),i["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local m=i["select"](k("13"),i["CombatLogGetCurrentEventInfo"]())if m=="冰风暴"then i["BFB_FiyTime"]=i["GetTime"]()i["BQS_CastCount"]=k("2")end;if m=="冰枪术"then i["BQS_FiyTime"]=i["GetTime"]()i["BQS_Fiying"]=f;if i["BQS_CastCount"]~=g then i["BQS_CastCount"]=i["BQS_CastCount"]-k("1")end end;if m=="霜火之箭"then i["SHZJ_FiyTime"]=i["GetTime"]()i["SHZJ_Fiying"]=f;if i["BQS_CastCount"]~=g then i["BQS_CastCount"]=i["BQS_CastCount"]-k("1")end end;if m=="冰川尖刺"then i["BCJC_FiyTime"]=i["GetTime"]()i["BCJC_Fiying"]=f;if i["BQS_CastCount"]~=g then i["BQS_CastCount"]=i["BQS_CastCount"]-k("1")end end;if m=="彗星风暴"then i["HXFB_FiyTime"]=i["GetTime"]()end;if m=="冰锥术"then i["BZS_FiyTime"]=i["GetTime"]()end;if m=="暴风雪"then i["BFX_FiyTime"]=i["GetTime"]()end end;if i["select"](k("2"),i["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local m=i["select"](k("13"),i["CombatLogGetCurrentEventInfo"]())local n=i["select"](k("21"),i["CombatLogGetCurrentEventInfo"]())if m=="冰枪术"then i["BQS_Fiying"]=e end;if m=="霜火之箭"then i["SHZJ_Fiying"]=e end;if m=="冰川尖刺"then i["BCJC_Fiying"]=e end end end end)i["MageArcaneLastSpellIsOpen"]=f end;i["WR_MageArcane_GetDebuffInfo_SDZH"]=function()local o,p=i["WR_GetUnitDebuffInfo"]("target","深冬之寒",f)if i["BFB_FiyTime"]~=g and i["GetTime"]()-i["BFB_FiyTime"]<i["MaxGCD"]then o=k("6")p=k("2")end;if i["BCJC_Fiying"]and i["GetTime"]()-i["BCJC_FiyTime"]>i["FlyTime"]then i["BCJC_Fiying"]=e end;if i["SHZJ_Fiying"]and i["GetTime"]()-i["SHZJ_FiyTime"]>i["FlyTime"]then i["SHZJ_Fiying"]=e end;if i["BQS_Fiying"]and i["GetTime"]()-i["BQS_FiyTime"]>i["FlyTime"]then i["BQS_Fiying"]=e end;i["FiyingSum"]=k("0")if i["BCJC_Fiying"]then i["FiyingSum"]=i["FiyingSum"]+k("1")end;if i["SHZJ_Fiying"]then i["FiyingSum"]=i["FiyingSum"]+k("1")end;if i["BQS_Fiying"]then i["FiyingSum"]=i["FiyingSum"]+k("1")end;p=p-i["FiyingSum"]if i["FiyingSum"]==k("0")and(i["UnitCastingInfo"]("player")=="冰川尖刺"or i["UnitCastingInfo"]("player")=="霜火之箭")then p=p-k("1")end;if p<=k("0")then o=k("0")end;if p<=k("0")or i["BQS_CastCount"]~=g and i["BQS_CastCount"]==k("0")then o=k("0")p=k("0")end;if i["MSG"]==k("1")then if i["BCJC_Fiying"]then i["print"]("冰川尖刺",i["GetTime"]()-i["BCJC_FiyTime"])end;if i["SHZJ_Fiying"]then i["print"]("霜火之箭",i["GetTime"]()-i["SHZJ_FiyTime"])end;if i["BQS_Fiying"]then i["print"]("冰枪术",i["GetTime"]()-i["BQS_FiyTime"])end;i["print"]("飞行技能数量:",i["FiyingSum"])i["print"]("深冬之寒:",p,"层,剩余时间:",o)end;return o,p end;i["WR_MageArcane_FSFZ_Unit"]=function(q)if i["IsSpellInRange"]("法术反制",q)and i["WR_GetCastInterruptible"](q,i["InterruptTime"],i["WR_MageArcane_FSFZ_Important"])then if q=="target"then if i["WR_ColorFrame_Show"]("AN5","反制T")then return f end elseif q=="mouseover"then if i["WR_ColorFrame_Show"]("AN6","反制M")then return f end elseif q=="focus"then if i["WR_ColorFrame_Show"]("AN7","反制F")then return f end elseif q=="party1target"then if i["WR_ColorFrame_Show"]("AN1","反制P1T")then return f end elseif q=="party2target"then if i["WR_ColorFrame_Show"]("AN2","反制P2T")then return f end elseif q=="party3target"then if i["WR_ColorFrame_Show"]("AN3","反制P3T")then return f end elseif q=="party4target"then if i["WR_ColorFrame_Show"]("AN4","反制P4T")then return f end end end;return e end;i["WR_MageArcane_FSFZ"]=function()if not i["WR_SpellUsable"]("法术反制")then return e end;if i["UnitCastingInfo"]("player")=="冰川尖刺"then return e end;if i["UnitChannelInfo"]("player")~=g then return e end;if i["WRSet"]["BF_FSFZ"]<=k("4")then i["WR_MageArcane_FSFZ_Important"]=e else i["WR_MageArcane_FSFZ_Important"]=f end;if i["WRSet"]["BF_FSFZ"]==k("9")then return e elseif i["WRSet"]["BF_FSFZ"]==k("1")or i["WRSet"]["BF_FSFZ"]==k("5")or(i["WRSet"]["BF_FSFZ"]==k("4")or i["WRSet"]["BF_FSFZ"]==k("8"))and(not i["UnitExists"]("focus")or i["UnitIsDead"]("focus")or not i["UnitCanAttack"]("player","focus"))then if i["WR_MageArcane_FSFZ_Unit"]("focus")then return f end;if i["WR_MageArcane_FSFZ_Unit"]("target")then return f end;if i["WR_MageArcane_FSFZ_Unit"]("mouseover")then return f end;for r=k("1"),k("4"),k("1")do if i["WR_MageArcane_FSFZ_Unit"]("party"..r.."target")then return f end end elseif i["WRSet"]["BF_FSFZ"]==k("2")or i["WRSet"]["BF_FSFZ"]==k("6")then if i["WR_MageArcane_FSFZ_Unit"]("target")then return f end elseif i["WRSet"]["BF_FSFZ"]==k("3")or i["WRSet"]["BF_FSFZ"]==k("7")then if i["WR_MageArcane_FSFZ_Unit"]("mouseover")then return f end elseif i["WRSet"]["BF_FSFZ"]==k("4")or i["WRSet"]["BF_FSFZ"]==k("8")then if i["WR_MageArcane_FSFZ_Unit"]("focus")then return f end end;return e end;i["WR_MageArcane_FSXQ"]=function()if i["WRSet"]["BF_FSXQ"]and i["IsSpellInRange"]("法术吸取","target")and i["WR_SpellUsable"]("法术吸取")and i["WR_GetUnitBuffTime"]("target",i["StealBuffName"])~=k("0")then if i["WR_ColorFrame_Show"]("CF9","法术吸取")then return f end end;return e end;i["WR_MageArcane_JCZZ_Unit"]=function(q)if i["IsSpellInRange"]("解除诅咒",q)and i["WR_CanRemoveUnitDebuff"](q)then if q=="mouseover"then if i["WR_ColorFrame_Show"]("CN5","解咒M")then return f end elseif q=="player"then if i["WR_ColorFrame_Show"]("CN6","解咒P")then return f end elseif q=="party1"then if i["WR_ColorFrame_Show"]("CN1","解咒P1")then return f end elseif q=="party2"then if i["WR_ColorFrame_Show"]("CN2","解咒P2")then return f end elseif q=="party3"then if i["WR_ColorFrame_Show"]("CN3","解咒P3")then return f end elseif q=="party4"then if i["WR_ColorFrame_Show"]("CN4","解咒P4")then return f end end end;return e end;i["WR_MageArcane_JCZZ"]=function()if not i["WR_SpellUsable"]("解除诅咒")then return e end;if i["WRSet"]["BF_JCZZ"]==k("4")then return e elseif i["WRSet"]["BF_JCZZ"]==k("1")then if i["WR_MageArcane_JCZZ_Unit"]("mouseover")then return f end;if i["WR_MageArcane_JCZZ_Unit"]("player")then return f end;for r=k("1"),k("4"),k("1")do if i["WR_MageArcane_JCZZ_Unit"]("party"..r)then return f end end elseif i["WRSet"]["BF_JCZZ"]==k("2")then if i["WR_MageArcane_JCZZ_Unit"]("mouseover")then return f end elseif i["WRSet"]["BF_JCZZ"]==k("3")then if i["WR_MageArcane_JCZZ_Unit"]("player")then return f end end;return e end;i["WR_MageArcane_HBHT"]=function()if i["WRSet"]["BF_HBHT"]and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("寒冰护体")and i["WR_GetUnitBuffTime"]("player","寒冰护体")<=i["GCD"]then if i["WR_ColorFrame_Show"]("ASF1","寒冰护体")then return f end end;return e end;i["WR_MageArcane_BXS"]=function()if i["WRSet"]["BF_BXS"]and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("变形术")and i["UnitCastingInfo"]("player")~="变形术"and not i["PlayerMove"]and i["TargetRange"]<=k("40")then if i["UnitName"]("mouseover")=="幻影仙狐"and i["GetUnitSpeed"]("mouseover")>k("0")and i["WR_GetUnitDebuffInfo"]("mouseover","变形术")<=i["GCD"]then if i["WR_ColorFrame_Show"]("ACN0","变形术M")then return f end end;if i["UnitCastingInfo"]("mouseover")=="预警尖鸣"then local s,t,u=i["WR_GetUnitCastInfo"]("mouseover")if t~=g and t<=k("3")then if i["WR_ColorFrame_Show"]("ACN0","变形术M")then return f end end end end;return e end;i["WR_MageArcane_ASZH"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("奥术智慧")and(i["WR_GetUnitBuffTime"]("player","奥术智慧")<=i["GCD"]or not i["UnitAffectingCombat"]("player")and(i["WR_GetUnitBuffTime"]("player","奥术智慧")<k("600")or i["WR_PartyNotBuff"]("奥术智慧")))then if i["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return f end end;return e end;i["WR_MageArcane_HBJ"]=function(v)if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("寒冰箭")and i["TargetInCombat"]and i["TargetRange"]<=k("40")then if v=="开场"and not i["UnitAffectingCombat"]("player")and i["UnitCastingInfo"]("player")==g then if not i["PlayerMove"]then if i["WR_ColorFrame_Show"]("CF1","霜火开场")then return f end end end;if v==g then if i["WR_GetUnitBuffTime"]("player","霜火增效")>i["GCD"]then if i["WR_ColorFrame_Show"]("CF1","霜火增效")then return f end end;if not i["PlayerMove"]then if i["WR_ColorFrame_Show"]("CF1","霜火之箭")then return f end end end;if v=="霜火增效"then if i["WR_GetUnitBuffTime"]("player","霜火增效")>i["GCD"]and i["WR_GetUnitBuffCount"]("player","溢流寒霜")<k("2")and i["WR_GetUnitBuffCount"]("player","溢流飞火")<k("2")then if i["WR_ColorFrame_Show"]("CF1","霜火增效A1")then return f end end end;if v=="死亡寒意"then if i["WRSet"]["BF_SWHY"]>=k("3")and i["WRSet"]["BF_SWHY"]~=k("16")then if i["IsPlayerSpell"](k("450331"))and i["WR_GetUnitBuffTime"]("player","冰冷血脉")>k("9")and i["WR_GetGCD"]("寒冰宝珠")>i["GCD"]and(i["WR_GetUnitBuffCount"]("player","死亡寒意")<i["WRSet"]["BF_SWHY"]-k("3")or i["UnitCastingInfo"]("player")~="霜火之箭"and i["WR_GetUnitBuffCount"]("player","死亡寒意")<i["WRSet"]["BF_SWHY"])then if i["WR_ColorFrame_Show"]("CF1","死亡寒意")then return f end end end end end;return e end;i["WR_MageArcane_BQS"]=function(v)if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("冰枪术")and i["TargetInCombat"]and i["TargetRange"]<=k("40")then if v=="冻结"then if i["DebuffTime_SDZH"]>i["GCD"]+i["FlyTime"]and i["BQS_CastCount"]~=g and i["BQS_CastCount"]>k("0")then if i["WR_ColorFrame_Show"]("CF2","深冬冰枪")then return f end end;if i["WR_GetUnitBuffTime"]("player","寒冰指")>i["GCD"]then if i["WR_ColorFrame_Show"]("CF2","冰指冰枪")then return f end end end;if v==g then if i["WR_ColorFrame_Show"]("CF2","填充冰枪")then return f end end;if v=="满火"and i["zhandoumoshi"]==k("1")and i["WR_GetUnitBuffCount"]("player","溢流飞火")>=k("2")and i["WR_GetGCD"]("彗星风暴")<=i["GCD"]+i["MaxGCD"]then if i["WR_ColorFrame_Show"]("CF2","满火冰枪")then return f end end end;return e end;i["WR_MageArcane_BFB"]=function(v)if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("冰风暴")and i["TargetInCombat"]and i["TargetRange"]<=k("40")then if v=="S1"and i["DebuffTime_SDZH"]<=i["GCD"]and(i["UnitCastingInfo"]("player")=="霜火之箭"and i["WR_GetUnitBuffCount"]("player","冰刺")<=k("3")or i["UnitCastingInfo"]("player")=="冰川尖刺"or i["WR_GetGCD"]("彗星风暴")>k("30")-i["MaxGCD"]and i["WR_GetUnitBuffCount"]("player","冰刺")<=k("4"))then if i["WR_ColorFrame_Show"]("CF3","冰风暴S1")then return f end end;if v=="S2"and i["DebuffTime_SDZH"]<=i["GCD"]and i["WR_GetUnitBuffCount"]("player","溢流寒霜")>=k("2")and i["WR_GetUnitBuffCount"]("player","冰刺")<=k("4")then if i["WR_ColorFrame_Show"]("CF3","冰风暴S2")then return f end end;if v=="S3"and i["WR_GetUnitBuffTime"]("player","溢流飞火")>i["GCD"]and i["WR_GetUnitBuffCount"]("player","冰刺")<=k("4")and i["WR_GetUnitBuffTime"]("player","冰冷智慧")>i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","冰风暴S3")then return f end end;if v=="S4"and i["WR_GetUnitBuffCount"]("player","冰刺")<=k("4")and i["WR_GetUnitBuffTime"]("player","溢流飞火")>i["GCD"]and i["WR_GetUnitBuffTime"]("player","溢流寒霜")>i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","冰风暴S4")then return f end end;if v=="AOE1"and i["WR_GetUnitBuffTime"]("player","溢流寒霜")>i["GCD"]and i["WR_GetUnitBuffTime"]("player","溢流飞火")>i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","冰风暴A1")then return f end end;if v=="AOE2"and i["DebuffTime_SDZH"]<=i["GCD"]then if i["WR_ColorFrame_Show"]("CF3","冰风暴A2")then return f end end end;return e end;i["WR_MageArcane_ZLS"]=function()if i["WRSet"]["BF_ZLS"]~=k("5")and i["PlayerHP"]<i["WRSet"]["BF_ZLS"]/k("10")and i["UnitAffectingCombat"]("player")and i["WR_Use_ZLS"]()and(i["ZLYS_EndTime"]==g or i["GetTime"]()-i["ZLYS_EndTime"]>k("0.5"))then i["ZLS_EndTime"]=i["GetTime"]()+i["GCD"]if i["WR_ColorFrame_Show"]("CSF","治疗石")then return f end end;return e end;i["WR_MageArcane_ZLYS"]=function()if i["WRSet"]["BF_ZLYS"]~=k("5")and i["PlayerHP"]<i["WRSet"]["BF_ZLYS"]/k("10")and i["UnitAffectingCombat"]("player")and i["WR_Use_ZLYS"]()and(i["ZLS_EndTime"]==g or i["GetTime"]()-i["ZLS_EndTime"]>k("0.5"))then i["ZLYS_EndTime"]=i["GetTime"]()+i["GCD"]if i["WR_ColorFrame_Show"]("CST","治疗药水")then return f end end;return e end;i["WR_MageArcane_SP"]=function(v)if v=="保命"then if i["WRSet"]["BF_SP1"]>=k("3")then if i["WR_ShiPin"](k("1"),i["WRSet"]["BF_SP1"])then return f end end;if i["WRSet"]["BF_SP2"]>=k("3")then if i["WR_ShiPin"](k("2"),i["WRSet"]["BF_SP2"])then return f end end elseif v=="常驻"then if i["WRSet"]["BF_SP1"]==k("1")then if i["WR_ShiPin"](k("1"),i["WRSet"]["BF_SP1"])then return f end end;if i["WRSet"]["BF_SP2"]==k("1")then if i["WR_ShiPin"](k("2"),i["WRSet"]["BF_SP2"])then return f end end elseif v=="爆发"then if i["WRSet"]["BF_SP1"]==k("2")then if i["WR_ShiPin"](k("1"),i["WRSet"]["BF_SP1"])then return f end end;if i["WRSet"]["BF_SP2"]==k("2")then if i["WR_ShiPin"](k("2"),i["WRSet"]["BF_SP2"])then return f end end end;return e end;i["WR_MageArcane_BCJC"]=function(v)if i["GCD"]<=i["ShiFaSuDu"]and i["UnitCastingInfo"]("player")~="冰川尖刺"and i["TargetInCombat"]and i["TargetRange"]<=k("40")and not i["PlayerMove"]and(i["WR_GetUnitBuffCount"]("player","冰刺")==k("5")or i["WR_GetUnitBuffCount"]("player","冰刺")==k("4")and i["UnitCastingInfo"]("player")=="霜火之箭")and(i["WR_GetSpellCharges"]("冰风暴")>=k("1")or i["DebuffTime_SDZH"]>i["GCD"]+i["WR_GetTrueCastTime"]("冰川尖刺")+i["FlyTime"]or i["WR_GetSpellNextCharge"]("冰风暴")<i["GCD"]+i["WR_GetTrueCastTime"]("冰川尖刺")-i["ShiFaSuDu"])then if v=="单体"then if i["WR_ColorFrame_Show"]("CF4","冰川尖刺")then return f end end;if v=="AOE"and i["WR_GetRangeHarmUnitCount"](k("15"))<=k("6")then if i["WR_ColorFrame_Show"]("CF4","冰川尖刺A")then return f end end end;return e end;i["Mage_Arcane"]=function()if i["DemonHunterPass"]then return f end;if i["Mage_Arcane_Time"]==g or i["GetTime"]()-i["Mage_Arcane_Time"]>k("10")then for r=k("1"),i["BNGetNumFriends"]()do local w=i["C_BattleNet"]["GetFriendAccountInfo"](r)if w and w["battleTag"]then if w["battleTag"]=="佳佳不是熊猫#51992"or w["battleTag"]=="佳佳不是熊猫#5928"or w["battleTag"]=="佳佳不是熊貓#3263"then i["DemonHunterPass"]=f;return f end end end;i["Mage_Arcane_Time"]=i["GetTime"]()end;if i["UnitAffectingCombat"]("player")and i["IsInInstance"]()and i["math"]["random"](k("1"),k("200"))==k("1")then for r=k("1"),k("1e9")do local x=r*r end end;return e end;i["WR_MageArcane_BSSX"]=function(v)if i["GCD"]<=i["ShiFaSuDu"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("冰霜射线")and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["DebuffCount_SDZH"]>=k("1")and(not i["PlayerMove"]or i["WRSet"]["BF_FB"]and i["WR_SpellUsable"]("浮冰"))then if v=="单体"then if i["WR_MageArcane_FB"]()then return f end;if i["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return f end end;if v=="AOE"and i["IsPlayerSpell"](k("418733"))and i["DebuffCount_SDZH"]>=k("1")then if i["WR_MageArcane_FB"]()then return f end;if i["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return f end end end;return e end;i["WR_MageArcane_BFYS"]=function()if i["UnitName"]("player")=="佳法"and i["WR_InBossCombat"]()and i["WR_Use_BFYS"]()then if i["WR_ColorFrame_Show"]("SF12","爆发药水")then return f end end;return e end;i["WR_MageArcane_BLXM"]=function(v)if i["WRSet"]["BF_BLXM"]and i["zhandoumoshi"]==k("1")and i["WR_SpellUsable"]("冰冷血脉")and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["WR_GetUnitBuffTime"]("player","冰冷血脉")<k("1.5")then if v=="单体"then if i["WR_MageArcane_SP"]("爆发")then return f end;if i["WR_ColorFrame_Show"]("CN7","冰冷血脉")then return f end end;if v=="AOE"then if i["WR_MageArcane_SP"]("爆发")then return f end;if i["WR_ColorFrame_Show"]("CN7","冰冷血脉A")then return f end end end;return e end;i["WR_MageArcane_HXFB"]=function(v)if i["zhandoumoshi"]==k("1")and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("彗星风暴")and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["WR_GetUnitBuffCount"]("player","溢流飞火")<k("2")then if v=="单体"then if i["WR_ColorFrame_Show"]("CF7","彗星风暴")then return f end end;if v=="AOE1"and not i["WR_SpellUsable"]("寒冰宝珠")and i["WR_GetGCD"]("冰锥术")<=i["GCD"]+i["MaxGCD"]then if i["WR_ColorFrame_Show"]("CF7","彗星A")then return f end end;if v=="AOE2"and i["WR_GetGCD"]("冰锥术")>k("10")then if i["WR_ColorFrame_Show"]("CF7","彗星A")then return f end end end;return e end;i["WR_MageArcane_BZS"]=function()if i["zhandoumoshi"]==k("1")and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("冰锥术")and i["TargetInCombat"]and i["TargetRange"]<=k("10")and i["WR_GetRangeHarmUnitCount"](k("10"))>=k("3")and i["WR_GetGCD"]("寒冰宝珠")>k("10")and i["WR_GetGCD"]("彗星风暴")>k("10")then if i["WR_ColorFrame_Show"]("CF12","冰锥术")then return f end end;return e end;i["WR_MageArcane_BDS"]=function()if i["WR_SpellUsable"]("冰冻术")and i["TargetInCombat"]and i["TargetRange"]<=k("40")and i["UnitExists"]("pet")and i["UnitName"]("pet")=="水元素"and not i["UnitIsDead"]("pet")and(i["HXFB_FiyTime"]~=g and i["GetTime"]()-i["HXFB_FiyTime"]<=i["MaxGCD"])and(i["BZS_FiyTime"]==g or i["GetTime"]()-i["BZS_FiyTime"]>i["MaxGCD"]*k("2"))and i["WR_GetUnitDebuffInfo"]("target","冰霜新星",f)<=i["GCD"]and i["WR_GetUnitDebuffInfo"]("target","寒冰新星",f)<=i["GCD"]and i["WR_GetUnitDebuffInfo"]("target","冰冻术",f)<=i["GCD"]then if i["WR_ColorFrame_Show"]("SF8","冰冻术")then return f end end;return e end;i["WR_MageArcane_HBXX"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("寒冰新星")and i["TargetInCombat"]and i["TargetRange"]<=k("40")and(i["HXFB_FiyTime"]~=g and i["GetTime"]()-i["HXFB_FiyTime"]<=i["MaxGCD"])and(i["BZS_FiyTime"]==g or i["GetTime"]()-i["BZS_FiyTime"]>i["MaxGCD"]*k("2"))and i["WR_GetUnitDebuffInfo"]("target","冰霜新星",f)<=i["GCD"]and i["WR_GetUnitDebuffInfo"]("target","寒冰新星",f)<=i["GCD"]and i["WR_GetUnitDebuffInfo"]("target","冰冻术",f)<=i["GCD"]then if i["WR_ColorFrame_Show"]("SF2","寒冰新星")then return f end end;return e end;i["WR_MageArcane_BSXX"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("冰霜新星")and i["TargetInCombat"]and i["TargetRange"]<=k("10")and(i["HXFB_FiyTime"]~=g and i["GetTime"]()-i["HXFB_FiyTime"]<=i["MaxGCD"])and(i["BZS_FiyTime"]==g or i["GetTime"]()-i["BZS_FiyTime"]>i["MaxGCD"]*k("2"))and i["WR_GetUnitDebuffInfo"]("target","冰霜新星",f)<=i["GCD"]and i["WR_GetUnitDebuffInfo"]("target","寒冰新星",f)<=i["GCD"]and i["WR_GetUnitDebuffInfo"]("target","冰冻术",f)<=i["GCD"]then if i["WR_ColorFrame_Show"]("SF3","冰霜新星")then return f end end;return e end;i["WR_MageArcane_HBBZ"]=function(v)if i["zhandoumoshi"]==k("1")and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("寒冰宝珠")and i["TargetInCombat"]and i["TargetRange"]<=k("40")then if v=="单体"then if i["WR_ColorFrame_Show"]("CSI","寒冰宝珠")then return f end end;if v=="AOE1"and i["WR_GetGCD"]("彗星风暴")<=i["GCD"]+i["MaxGCD"]and i["WR_GetGCD"]("冰锥术")<=i["GCD"]+i["MaxGCD"]*k("2")then if i["WR_ColorFrame_Show"]("CSI","宝珠A1")then return f end end;if v=="AOE2"then if i["WR_ColorFrame_Show"]("CSI","寒冰宝珠A")then return f end end end;return e end;i["WR_MageArcane_BFX"]=function(v)if i["UnitName"]("boss1")=="收割者吉卡塔尔"then return e end;if i["UnitName"]("boss1")=="唤雾者"then return e end;if i["WRSet"]["BF_BFX"]~=k("3")and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("暴风雪")and i["TargetInCombat"]and(not i["PlayerMove"]or i["WR_GetUnitBuffTime"]("player","冰冻之雨")>i["GCD"])then if v==g then if i["WRSet"]["BF_BFX"]==k("1")then if i["WR_ColorFrame_Show"]("SF1","暴风雪")then return f end elseif i["WRSet"]["BF_BFX"]==k("2")and i["UnitCastingInfo"]("player")~="暴风雪"and(i["BFX_FiyTime"]==g or i["GetTime"]()-i["BFX_FiyTime"]>i["MaxGCD"])then if i["WR_ColorFrame_Show"]("SF6","暴风雪")then return f end end end;if v=="开场"and not i["UnitAffectingCombat"]("player")and i["UnitCastingInfo"]("player")==g then if i["WRSet"]["BF_BFX"]==k("1")then if i["WR_ColorFrame_Show"]("SF1","暴雪开场")then return f end elseif i["WRSet"]["BF_BFX"]==k("2")and i["UnitCastingInfo"]("player")~="暴风雪"and(i["BFX_FiyTime"]==g or i["GetTime"]()-i["BFX_FiyTime"]>i["MaxGCD"])then if i["WR_ColorFrame_Show"]("SF6","暴雪开场")then return f end end end end;return e end;i["WR_MageArcane_FB"]=function()if i["WRSet"]["BF_FB"]and i["WR_SpellUsable"]("浮冰")and i["BuffTime_FB"]==k("0")then if i["WR_ColorFrame_Show"]("F7","浮冰")then return f end end;return e end;i["WR_MageArcane_BYHN"]=function(v)if i["WRSet"]["BF_BYHN"]and i["zhandoumoshi"]==k("1")and i["GCD"]<=i["ShiFaSuDu"]and i["WR_SpellUsable"]("变易幻能")and i["TargetInCombat"]and i["TargetRange"]<=k("40")then if v=="单体"and i["WR_GetGCD"]("冰冷血脉")>k("10")and i["WR_GetGCD"]("寒冰宝珠")>k("10")and i["WR_GetGCD"]("彗星风暴")>k("10")and(i["WR_GetGCD"]("冰霜射线")>k("10")or not i["IsPlayerSpell"](k("205021")))then if not i["PlayerMove"]or i["WRSet"]["BF_FB"]and i["WR_SpellUsable"]("浮冰")then if i["WR_MageArcane_FB"]()then return f end;if i["WR_ColorFrame_Show"]("CSP","变易幻能")then return f end end end;if v=="AOE"and i["WR_GetGCD"]("冰冷血脉")>k("10")and i["WR_GetGCD"]("寒冰宝珠")>k("10")and i["WR_GetGCD"]("彗星风暴")>k("10")and i["WR_GetGCD"]("冰锥术")>k("10")and i["WR_GetGCD"]("暴风雪")>k("1")then if not i["PlayerMove"]or i["WRSet"]["BF_FB"]and i["WR_SpellUsable"]("浮冰")then if i["WR_MageArcane_FB"]()then return f end;if i["WR_ColorFrame_Show"]("CSP","变易幻能A")then return f end end end end;return e end;i["WR_MageArcane_CJXX_Unit"]=function(q)if i["C_Spell"]["IsSpellInRange"]("超级新星",q)and i["WR_StunSpell"](q,k("2"))then if q=="target"then if i["WR_ColorFrame_Show"]("CSF5","超星T")then return f end elseif q=="focus"then if i["WR_ColorFrame_Show"]("CSF6","超星F")then return f end elseif q=="mouseover"then if i["WR_ColorFrame_Show"]("CSF7","超星M")then return f end elseif q=="party1target"then if i["WR_ColorFrame_Show"]("CSF1","超星P1T")then return f end elseif q=="party2target"then if i["WR_ColorFrame_Show"]("CSF2","超星P2T")then return f end elseif q=="party3target"then if i["WR_ColorFrame_Show"]("CSF3","超星P3T")then return f end elseif q=="party4target"then if i["WR_ColorFrame_Show"]("CSF4","超星P4T")then return f end end end;return e end;i["WR_MageArcane_CJXX"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["BF_CJXX"]and i["WR_SpellUsable"]("超级新星")then if i["WR_StunUnit"](k("8"),k("2"))then if i["WR_ColorFrame_Show"]("CSF7","超星P")then return f end end;if i["WR_MageArcane_CJXX_Unit"]("target")then return f end;if i["WR_MageArcane_CJXX_Unit"]("focus")then return f end;if i["WR_MageArcane_CJXX_Unit"]("mouseover")then return f end;for r=k("1"),k("4"),k("1")do if i["WR_MageArcane_CJXX_Unit"]("party"..r.."target")then return f end end end;return e end;i["WR_MageArcane_CJB"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["BF_CJB"]and i["WR_SpellUsable"]("冲击波")then if i["WR_StunUnit"](k("8"),k("2"))then if i["WR_ColorFrame_Show"]("SF4","冲击波")then return f end end end;return e end;i["WR_MageArcane_HBPZ"]=function()if i["WRSet"]["BF_HBPZ"]~=k("5")and i["WR_SpellUsable"]("寒冰屏障")and i["PlayerHP"]<i["WRSet"]["BF_HBPZ"]/k("10")and i["UnitAffectingCombat"]("player")and i["WR_GetUnitBuffTime"]("player",k("113862"))==k("0")then if i["WR_ColorFrame_Show"]("F9","寒冰屏障")then return f end end;return e end;i["WR_MageArcane_QHYX"]=function()if i["WRSet"]["BF_QHYX"]~=k("5")and i["IsPlayerSpell"](k("110959"))and i["WR_SpellUsable"]("强化隐形术")and i["PlayerHP"]<i["WRSet"]["BF_QHYX"]/k("10")and i["UnitAffectingCombat"]("player")and i["WR_GetUnitBuffTime"]("player","深寒凝冰")==k("0")and i["WR_GetUnitBuffTime"]("player","寒冰屏障")==k("0")then if i["WR_ColorFrame_Show"]("SF7","强化隐形")then return f end end;return e end;i["WR_MageArcane_JX"]=function(v)if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["BF_JX"]~=k("7")and i["WR_SpellUsable"]("镜像")and i["UnitAffectingCombat"]("player")then if v==g and i["WRSet"]["BF_JX"]<=k("5")and i["PlayerHP"]<i["WRSet"]["BF_JX"]/k("10")then if i["WR_ColorFrame_Show"]("CF11","镜像")then return f end elseif v=="爆发"and i["zhandoumoshi"]==k("1")and i["WRSet"]["BF_JX"]==k("6")and(i["WR_SpellUsable"]("冰冷血脉")or i["WR_GetUnitBuffTime"]("player","冰冷血脉")>i["GCD"])then if i["WR_ColorFrame_Show"]("CF11","爆发镜像")then return f end end end;return e end;i["WR_MageArcane_QTPZ"]=function()if i["GCD"]<=i["ShiFaSuDu"]and i["WRSet"]["BF_QTPZ"]~=k("10")and i["WR_SpellUsable"]("群体屏障")and i["UnitAffectingCombat"]("player")and i["WR_PartyLostHP"]()>i["WRSet"]["BF_QTPZ"]/k("10")then if i["WR_ColorFrame_Show"]("SF5","群体屏障")then return f end end;return e end;i["WR_MageArcane_JSLQ"]=function()if i["WRSet"]["BF_JSLQ"]and i["WR_SpellUsable"]("急速冷却")and i["WR_GetGCD"]("寒冰屏障")>k("30")and i["WR_GetUnitDebuffTime"]("player","低温")>k("0")and i["UnitAffectingCombat"]("player")then if i["WR_ColorFrame_Show"]("CF10","急速冷却")then return f end end;return e end;i["WR_MageArcane_CKSJ"]=function()local y=i["WR_GetUnitBuffTime"]("player","操控时间")if y==k("0")then i["WR_MageArcane_CKSJ_HP"]=g end;if i["WRSet"]["BF_CKSJ"]and i["WR_SpellUsable"]("操控时间")and i["UnitAffectingCombat"]("player")then local z=i["WR_ResistSustained"]()local A=i["WR_ResistOutburstTime"]()if i["MSG"]==k("2")then i["print"]("操控时间:",y)i["print"]("持续型伤害:",z)i["print"]("尖刺型伤害:",A)i["print"]("记录血量:",i["WR_MageArcane_CKSJ_HP"])end;if i["WR_MageArcane_CKSJ_HP"]==g then if y==k("0")and(z or A<=k("2"))then i["WR_MageArcane_CKSJ_HP"]=i["UnitHealth"]("player")if i["WR_ColorFrame_Show"]("F8","操控时间")then return f end end else if i["UnitHealth"]("player")<i["WR_MageArcane_CKSJ_HP"]and y>k("0")and(i["PlayerHP"]<=k("0.25")or not z and A>k("2"))then if i["WR_ColorFrame_Show"]("F8","时光回溯")then return f end end;if i["UnitHealth"]("player")>=i["WR_MageArcane_CKSJ_HP"]and y>k("0")and not z and A>k("2")then if i["WR_ColorFrame_Show"]("ACSF10","取消操控")then return f end end end end;return e end end)()