local a=62;local b=47;local c=39;local d=72;local e=62;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_PriestHoly"]=function()if j["GetSpecialization"]()~=l("2")then return end;j["ShiFaSuDu"]=l("0.05")+j["WRSet"]["SS_SFSD"]*l("0.05")j["Resist"]=f;j["ResistSustained"]=j["WR_ResistSustained"]()j["ResistOutburstTime"]=j["WR_ResistOutburstTime"]()j["MustDefenseTime"]=j["WR_MustDefenseTime"]()if j["ResistSustained"]or j["ResistOutburstTime"]<=l("5")or j["MustDefenseTime"]<=l("5")then j["Resist"]=g end;j["WR_GetPartyLostHealth"]()j["GCD"]=j["WR_GetGCD"]("真言术：韧")j["CD_NLGZ"]=j["WR_GetGCD"]("能量灌注")j["CD_SHZH"]=j["WR_GetGCD"]("守护之魂")j["CD_JWDY"]=j["WR_GetGCD"]("绝望祷言")j["CD_JYS"]=j["WR_GetGCD"]("渐隐术")j["CD_SSZH"]=j["WR_GetGCD"]("神圣之火")j["MaxLatency"]=j["WR_GetMaxLatency"]()j["MaxLatency"]=j["MaxLatency"]+l("0.05")if j["MaxLatency"]<l("0.1")then j["Latency"]=l("0.1")else j["Latency"]=j["MaxLatency"]end;if j["MaxLatency"]>l("0.25")then j["Latency"]=l("0.25")else j["Latency"]=j["MaxLatency"]end;j["PlayerHP"]=l("1")if j["UnitHealthMax"]("player")~=l("0")then j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")end;j["FocusHP"]=l("1")if j["UnitHealthMax"]("focus")~=l("0")then j["FocusHP"]=j["UnitHealth"]("focus")/j["UnitHealthMax"]("focus")end;j["TargetHP"]=l("1")if j["UnitHealthMax"]("target")~=l("0")then j["TargetHP"]=j["UnitHealth"]("target")/j["UnitHealthMax"]("target")end;j["Priest_Holy"]()j["FocusLostHealth"]=j["WR_GetUnitLostHealth"]("focus")if j["SYSJ_Health"]==h then j["SYSJ_Health"]=j["WR_GetSpellValue"]("圣言术：静","恢复","点生命值")j["ZLS_Health"]=j["WR_GetSpellValue"]("治疗术","恢复","点生命值")j["KSZL_Health"]=j["WR_GetSpellValue"]("快速治疗","恢复","点生命值")j["SYSL_Health"]=j["WR_GetSpellValue"]("圣言术：灵","恢复","点生命值")j["SSXX_Health"]=j["WR_GetSpellValue"]("神圣新星","恢复","点生命值")end;if j["WR_GetSpellValue"]("圣言术：静","恢复","点生命值")~=l("0")then j["SYSJ_Health"]=j["WR_GetSpellValue"]("圣言术：静","恢复","点生命值")end;if j["WR_GetSpellValue"]("治疗术","恢复","点生命值")~=l("0")then j["ZLS_Health"]=j["WR_GetSpellValue"]("治疗术","恢复","点生命值")end;if j["WR_GetSpellValue"]("快速治疗","恢复","点生命值")~=l("0")then j["KSZL_Health"]=j["WR_GetSpellValue"]("快速治疗","恢复","点生命值")end;if j["WR_GetSpellValue"]("圣言术：灵","恢复","点生命值")~=l("0")then j["SYSL_Health"]=j["WR_GetSpellValue"]("圣言术：灵","恢复","点生命值")end;if j["WR_GetSpellValue"]("神圣新星","恢复","点生命值")~=l("0")then j["SSXX_Health"]=j["WR_GetSpellValue"]("神圣新星","恢复","点生命值")end;j["PartyInCombat"]=j["WR_PartyInCombat"]()j["PlayerInCombat"]=j["UnitAffectingCombat"]("player")j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["WR_GetLastSpellName"]()if j["WR_GetUnitRange"]("target")<=l("46")and j["UnitCanAttack"]("player","target")then j["TargetInSpellRange"]=g else j["TargetInSpellRange"]=f end;j["RaidOrParty"]=j["WR_GetInRaidOrParty"]()j["PlayerMove"]=j["WR_PlayerMove"]()j["TargetRange"]=j["WR_GetUnitRange"]("target")j["FocusMustheal"]=j["WR_Mustheal"]("focus")if j["IsSpellInRange"]("快速治疗","focus")and j["UnitIsFriend"]("player","focus")then j["FocusInSpellRange"]=g else j["FocusInSpellRange"]=f end;j["BuffTime_JSZH"],j["BuffCount_JSZH"],j["BuffSum_JSZH"]=j["WR_GetUnitBuffInfo"]("player","救赎之魂")j["BuffTime_GMSY"],j["BuffCount_GMSY"],j["BuffSum_GMSY"]=j["WR_GetUnitBuffInfo"]("player","共鸣圣言")j["BuffTime_ZGZ"],j["BuffCount_ZGZ"],j["BuffSum_ZGZ"]=j["WR_GetUnitBuffInfo"]("player","织光者")j["BuffTime_SGYD"],j["BuffCount_SGYD"],j["BuffSum_SGYD"]=j["WR_GetUnitBuffInfo"]("player","圣光涌动")j["BuffTime_ZYSD"],j["BuffCount_ZYSD"],j["BuffSum_ZYSD"]=j["WR_GetUnitBuffInfo"]("player","真言术：盾")j["BuffTime_HS"],j["BuffCount_HS"],j["BuffSum_HS"]=j["WR_GetUnitBuffInfo"]("player","喝水")j["BuffTime_YY"],j["BuffCount_YY"],j["BuffSum_YY"]=j["WR_GetUnitBuffInfo"]("player","饮用")j["BuffTime_JSYS"],j["BuffCount_JSYS"],j["BuffSum_JSYS"]=j["WR_GetUnitBuffInfo"]("player","进食饮水")j["BuffTime_SHZH"],j["BuffCount_SHZH"],j["BuffSum_SHZH"]=j["WR_GetUnitBuffInfo"]("player","守护之魂")j["BuffTime_DYZH"],j["BuffCount_DYZH"],j["BuffSum_DYZH"]=j["WR_GetUnitBuffInfo"]("player","祷言之环")j["BuffTime_CQZY"],j["BuffCount_CQZY"],j["BuffSum_CQZY"]=j["WR_GetUnitBuffInfo"]("player","苍穹之焰")j["BuffTime_SSHS"],j["BuffCount_SSHS"],j["BuffSum_SSHS"]=j["WR_GetUnitBuffInfo"]("player","神圣化身")j["BuffTime_TTZY"],j["BuffCount_TTZY"],j["BuffSum_TTZY"]=j["WR_GetUnitBuffInfo"]("player","天堂之羽")j["BuffTime_SXHY"],j["BuffCount_SXHY"],j["BuffSum_SXHY"]=j["WR_GetUnitBuffInfo"]("player","身心合一")j["BuffTime_TSBL"],j["BuffCount_TSBL"],j["BuffSum_TSBL"]=j["WR_GetUnitBuffInfo"]("player","天使壁垒")j["BuffTime_JWDY"],j["BuffCount_JWDY"],j["BuffSum_JWDY"]=j["WR_GetUnitBuffInfo"]("player","绝望祷言")j["BuffTime_ZLHS"],j["BuffCount_ZLHS"],j["BuffSum_ZLHS"]=j["WR_GetUnitBuffInfo"]("player","治疗和声")j["BuffTime_KXQ"],j["BuffCount_KXQ"],j["BuffSum_KXQ"]=j["WR_GetUnitBuffInfo"]("player","狂想曲")j["BuffTime_SJQJ"],j["BuffCount_SJQJ"],j["BuffSum_SJQJ"]=j["WR_GetUnitBuffInfo"]("player","圣洁虔敬")j["BuffTime_GMZQ"],j["BuffCount_GMZQ"],j["BuffSum_GMZQ"]=j["WR_GetUnitBuffInfo"]("player","光明之泉")j["DebuffTime_JT"]=j["WR_GetUnitDebuffTime"]("player","践踏")j["FocusBuffTime_YHDY"],j["FocusBuffCount_YHDY"],j["FocusBuffSum_YHDY"]=j["WR_GetUnitBuffInfo"]("focus","愈合祷言",g)j["FocusBuffTime_ZYSD"],j["FocusBuffCount_ZYSD"],j["FocusBuffSum_ZYSD"]=j["WR_GetUnitBuffInfo"]("focus","真言术：盾")j["TargetInvincible"]=j["WR_Invincible"]("target")j["PartyLostHP"]=j["WR_PartyLostHP"]("纯净术")j["AvgDeathTime"]=j["WR_GetRangeAvgDeathTime"](l("40"))j["HUCountRange10"]=j["WR_GetRangeHarmUnitCount"](l("10"))j["HUCountRange40"]=j["WR_GetRangeHarmUnitCount"](l("40"))if j["UnitIsDead"]("player")==f then if j["RaidOrParty"]=="raid"then j["SSXXCount"]=j["WR_RangeCountPR"](l("12"),l("0.94"))j["GYCount"]=j["WR_RangeCountPR"](l("46"),l("0.90"))j["ZLDYCount"]=j["WR_RangeCountPR"](l("46"),l("0.90"))else j["SSXXCount"]=j["WR_RangeCountPR"](l("12"),l("0.94"))j["GYCount"]=j["WR_RangeCountPR"](l("46"),l("0.90"))j["ZLDYCount"]=j["WR_RangeCountPR"](l("46"),l("0.80"))end end;if not j["UnitAffectingCombat"]("player")then for m=l("1"),l("4"),l("1")do local n="party"..m;if j["UnitExists"](n)and j["UnitName"](n)~=h then if j["SS_NLGZ_menuItems"][m]["text"]~=j["WR_ClassesColor"](n)then j["SS_NLGZ_UpdateMenuItemText"](m,j["WR_ClassesColor"](n))end else if j["SS_NLGZ_menuItems"][m]["text"]~=i then j["SS_NLGZ_UpdateMenuItemText"](m,i)end end end end;if j["MSG"]==l("1")then j["print"]("-----------------")end;if j["WR_PriorityCheck"]()then return end;if j["WR_FocusMaxWeightUnit"]()then return end;if j["WR_PriestHoly_StopCasting"]()then return end;if j["WR_PriestHoly_JYS"]()then return g end;if j["WRSet"]["SS_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["SS_SP1"])then return g end end;if j["WRSet"]["SS_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["SS_SP2"])then return g end end;if j["WR_PriestHoly_JianShang"]()then return g end;if j["WR_ZLS"](j["WRSet"]["SS_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["SS_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["SS_ZLYS"])then return g end;if j["WR_PriestHoly_NLGZ"]()then return g end;if j["WR_Function_ZNMB"](l("40"),j["WRSet"]["SS_ZNMB"])then return g end;if j["WR_PriestHoly_QTFH"]()then return g end;if j["WR_PriestHoly_AYM"]()then return g end;if j["WR_PriestHoly_XLJX"]()then return g end;if j["WRSet"]["SS_SP1"]<=l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["SS_SP1"])then return g end end;if j["WRSet"]["SS_SP2"]<=l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["SS_SP2"])then return g end end;if j["RaidOrParty"]~="raid"then if j["WR_PriestHoly_YZ"]()then return g end;if j["WR_PriestHoly_ZYSM"]()then return g end;if j["WR_PriestHoly_SYSJ"]("35%")then return g end;if j["WR_PriestHoly_SHZH"]()then return g end;if j["WR_PriestHoly_QSMF_Function"]()then return g end;if j["WR_PriestHoly_CJS_Function"]()then return g end;if j["WR_PriestHoly_GMZQ"]()then return g end;if j["WR_PriestHoly_SSHS"]()then return g end;if j["WR_PriestHoly_SYSL"]()then return g end;if j["WR_PriestHoly_SYSJ"]("满层")then return g end;if j["WR_PriestHoly_SYSJ"]("暴击")then return g end;if j["WR_PriestHoly_GY"](l("3"))then return g end;if j["WR_PriestHoly_KSZL_FHSG"]()then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]("2层")then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]("圣洁")then return g end;if j["WR_PriestHoly_KSZL"]("涌动2层")then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]()then return g end;if j["WR_PriestHoly_KSZL"]("涌动1层")then return g end;if j["WR_PriestHoly_YHDY"]()then return g end;if j["WR_PriestHoly_ZYSD"]("防护")then return g end;if j["WR_PriestHoly_SSXX_Heal"]()then return g end;if j["WR_PriestHoly_KSZL"]()then return g end else if j["WR_PriestHoly_GY"](l("6"))then return g end;if j["WR_PriestHoly_SYSJ"]("35%")then return g end;if j["WR_PriestHoly_SHZH"]()then return g end;if j["WR_PriestHoly_SSHS"]()then return g end;if j["WR_PriestHoly_SYSJ"]("满层")then return g end;if j["WR_PriestHoly_SYSJ"]("暴击")then return g end;if j["WR_PriestHoly_YHDY"]()then return g end;if j["WR_PriestHoly_ZLDY"]()then return g end;if j["WR_PriestHoly_SSXX_Heal"]()then return g end;if j["WR_PriestHoly_KSZL_FHSG"]()then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]("2层")then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]("圣洁")then return g end;if j["WR_PriestHoly_KSZL"]("涌动2层")then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]()then return g end;if j["WR_PriestHoly_KSZL"]("涌动1层")then return g end;if j["WR_PriestHoly_ZYSD"]("防护")then return g end;if j["WR_PriestHoly_KSZL"]()then return g end end;if j["WR_PriestHoly_ZYSD"]("协助")then return g end;if j["WR_PriestHoly_ZYSR"]()then return g end;if j["WR_PriestHoly_ZYSD"]("加速")then return g end;if j["WR_PriestHoly_ZhiLiaoShu"]("脱战")then return g end;if j["WR_PriestHoly_HF"]()then return g end;if j["WR_PriestHoly_TTZY"]()then return g end;if j["WR_PriestHoly_ZYSD"]("脱战")then return g end;if j["WR_PriestHoly_ZYSD"]("AOE")then return g end;if j["TargetInCombat"]and j["TargetInSpellRange"]and j["BuffTime_JSZH"]==l("0")then if j["RaidOrParty"]~="raid"then if j["WR_PriestHoly_SYSF"]()then return g end;if j["WR_PriestHoly_SSZH"]()then return g end;if j["WR_PriestHoly_SSXX"]()then return g end;if j["WR_PriestHoly_AYST"]("target")then return g end;if j["WR_PriestHoly_KXS"]()then return g end;if j["WR_PriestHoly_AYSM"]("target")then return g end end;if j["WR_PriestHoly_SYSF"]()then return g end;if j["WR_PriestHoly_CJ"]()then return g end end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_PriestHoly_ErrorMessage"]=function()if j["WR_ErrorMessageInfo"]~=g then local o=j["CreateFrame"]("Frame")o["RegisterEvent"](o,"UI_ERROR_MESSAGE")o["SetScript"](o,"OnEvent",function(p,q,r,s)if j["string"]["find"](s,"目标不在视野中")then j["ErrorMessageTime_OutOfSight"]=j["GetTime"]()return end end)j["WR_ErrorMessageInfo"]=g end end;j["WR_PriestHoly_FocusHealth"]=function(t)if j["FocusLostHealth"]>=t or j["FocusMustheal"]or j["ResistOutburstTime"]<=l("5")or j["WR_GetUnitBuffTime"]("player","虔诚预兆")>j["GCD"]and j["WR_RangeCountPR"](l("46"),l("1")-t/j["UnitHealthMax"]("player")/l("5"))>=l("3")then return g end;return f end;j["WR_PriestHoly_ZLDY"]=function()if j["WR_SpellUsable"]("治疗祷言")and(j["WR_GetUnitBuffCount"]("player","圣洁")>l("0")or not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("治疗祷言")))and(j["ZLDYCount"]>=l("5")or j["WR_PreemptiveHealing"]("治疗祷言"))then if j["WR_ColorFrame_Show"]("CF11","治疗祷言")then return g end end;return f end;j["WR_PriestHoly_AYM"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["FocusHP"]>l("0.5")and j["IsPlayerSpell"](l("34433"))and j["WR_GetGCD"]("暗影魔")<=j["GCD"]and j["WRSet"]["SS_AYM"]~=l("10")and j["AvgDeathTime"]>l("15")and j["AvgDeathTime"]<l("999")and j["UnitPower"]("player",l("0"))/j["UnitPowerMax"]("player",l("0"))<j["WRSet"]["SS_AYM"]/l("10")then if j["WR_ColorFrame_Show"]("CSJ","暗影魔")then return g end end;return f end;j["WR_PriestHoly_ZYSD"]=function(u)if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("17"))and j["WR_SpellUsable"]("真言术：盾")then if u=="防护"and j["PlayerInCombat"]and j["IsInInstance"]()and j["BuffTime_JSZH"]==l("0")and j["WR_GetUnitBuffTime"]("player","真言术：盾")==l("0")then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CF7","盾P")then return g end end;if j["WR_FocusUnit"]("player","盾")then return g end end;if u=="加速"and j["PlayerInCombat"]and j["BuffTime_JSZH"]==l("0")and j["WR_GetUnitBuffTime"]("player","真言术：盾")==l("0")then local v,w,x,y=j["GetUnitSpeed"]("player")if w/l("7")<l("1.4")and j["BuffCount_TTZY"]==l("0")and j["BuffCount_SXHY"]==l("0")and j["WR_SpeedUp"]()and j["IsPlayerSpell"](l("64129"))then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CF7","盾速")then return g end end;if j["WR_FocusUnit"]("player","盾速")then return g end end end;if u=="脱战"and not j["UnitAffectingCombat"]("focus")and j["WR_GetUnitBuffTime"]("focus","真言术：盾")==l("0")and j["IsSpellInRange"]("真言术：盾","focus")then if j["WR_ColorFrame_Show"]("CF7","盾速")then return g end end;if u=="AOE"and j["ResistOutburstTime"]<=l("5")and j["WR_GetUnitBuffTime"]("focus","真言术：盾")==l("0")and j["IsSpellInRange"]("真言术：盾","focus")then if j["WR_ColorFrame_Show"]("CF7","AOE盾")then return g end end;if u=="协助"then local z="player"if j["WR_GetUnitBuffTime"](z,"真言术：盾")==l("0")and j["WR_UnitAssistDebuff"](z)then if j["UnitIsUnit"]("focus",z)then if j["WR_ColorFrame_Show"]("CF7","协盾"..z)then return g end end;if j["WR_FocusUnit"](z,"协盾")then return g end end;for m=l("1"),l("4"),l("1")do local z="party"..m;if j["WR_GetUnitBuffTime"](z,"真言术：盾")==l("0")and j["IsSpellInRange"]("真言术：盾",z)and j["WR_UnitAssistDebuff"](z)then if j["UnitIsUnit"]("focus",z)then if j["WR_ColorFrame_Show"]("CF7","协盾"..z)then return g end end;if j["WR_FocusUnit"](z,"协盾")then return g end end end end end;return f end;j["WR_PriestHoly_CJS"]=function(z)if not j["UnitCanAttack"]("player",z)and j["IsSpellInRange"]("纯净术",z)and j["WR_CanRemoveUnitDebuff"](z)then if j["UnitIsUnit"]("focus",z)then if j["WR_ColorFrame_Show"]("CF3","纯净"..z)then return g end end;if j["WR_FocusUnit"](z,"纯净")then return g end end;return f end;j["WR_PriestHoly_CJS_Function"]=function()if j["GCD"]>j["ShiFaSuDu"]then return f end;if not j["WR_SpellUsable"]("纯净术")then return f end;if j["WRSet"]["SS_CJS"]==l("1")then if j["WR_PriestHoly_CJS"]("mouseover")then return g end;if j["WR_PriestHoly_CJS"]("player")then return g end;for m=l("1"),l("4"),l("1")do if j["UnitGroupRolesAssigned"]("party"..m)~="TANK"then if j["WR_PriestHoly_CJS"]("party"..m)then return g end end end;for m=l("1"),l("4"),l("1")do if j["WR_PriestHoly_CJS"]("party"..m)then return g end end elseif j["WRSet"]["SS_CJS"]==l("2")then if j["WR_PriestHoly_CJS"]("mouseover")then return g end elseif j["WRSet"]["SS_CJS"]==l("3")then if j["WR_PriestHoly_CJS"]("player")then return g end end;return f end;j["WR_PriestHoly_QSMF"]=function(z)if j["UnitCanAttack"]("player",z)and j["IsSpellInRange"]("驱散魔法",z)and j["WR_GetUnitBuffType"](z,"Magic")then if j["UnitIsUnit"]("focus",z)then if j["WR_ColorFrame_Show"]("CSN","驱散"..z)then return g end end;if j["WR_FocusUnit"](z,"驱散")then return g end end;return f end;j["WR_PriestHoly_QSMF_Function"]=function()if j["GCD"]<j["ShiFaSuDu"]and(j["FocusHP"]>l("0.5")or j["UnitCanAttack"]("player","focus"))and j["WRSet"]["SS_QSMF"]and j["IsPlayerSpell"](l("528"))and j["PlayerInCombat"]then if j["WR_PriestHoly_QSMF"]("target")then return g end;if j["WR_PriestHoly_QSMF"]("mouseover")then return g end;for m=l("1"),l("4"),l("1")do if j["WR_PriestHoly_QSMF"]("party"..m.."target")then return g end end end;return f end;j["WR_PriestHoly_QTFH"]=function()if j["GCD"]<j["ShiFaSuDu"]and not j["PlayerInCombat"]and j["FocusHP"]>=l("0.7")and j["WR_ResurrectParty"]()then if j["WR_ColorFrame_Show"]("CSI","群体复活")then return g end end;return f end;j["WR_PriestHoly_XLJX"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["FocusHP"]>l("0.5")and j["WRSet"]["SS_XLJX"]and j["WR_SpellUsable"]("心灵尖啸")and j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("CSU","心灵尖啸")then return g end end;return f end;j["WR_PriestHoly_NLGZ"]=function()if j["CD_NLGZ"]<=j["GCD"]and j["PartyInCombat"]and j["AvgDeathTime"]>l("15")and j["WRSet"]["SS_NLGZ"]~=l("5")then local n="party"..j["WRSet"]["SS_NLGZ"]if j["WR_GetUnitRange"](n)<=l("46")and(j["PartyLostHP"]>l("0.7")or j["WR_GetUnitCrazyBuff"](n))then if j["UnitIsUnit"]("focus",n)then if j["WR_ColorFrame_Show"]("CSM","灌注P"..j["WRSet"]["SS_NLGZ"])then return g end end;if j["WR_FocusUnit"](n,"灌注")then return g end end end;return f end;j["WR_PriestHoly_ZLS"]=function()if j["WRSet"]["SS_ZLS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["SS_ZLS"]/l("10")and j["WR_Use_ZLS"]()and j["BuffCount_JSZH"]==l("0")and j["BuffCount_SHZH"]==l("0")then if j["WR_ColorFrame_Show"]("CSF","治疗石")then return g end end;return f end;j["WR_PriestHoly_ZLYS"]=function()if j["WRSet"]["SS_ZLYS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["SS_ZLYS"]/l("10")and j["WR_Use_ZLYS"]()and j["BuffCount_JSZH"]==l("0")and j["BuffCount_SHZH"]==l("0")then if j["WR_ColorFrame_Show"]("CST","治疗药水")then return g end end;return f end;j["WR_PriestHoly_JianShang"]=function()if j["BuffCount_JSZH"]==l("0")and j["UnitAffectingCombat"]("player")then if j["WRSet"]["SS_JWDY"]~=l("5")and j["BuffCount_SHZH"]==l("0")and(j["MustDefenseTime"]<=l("5")or j["PlayerHP"]<j["WRSet"]["SS_JWDY"]/l("10"))and j["WR_SpellUsable"]("绝望祷言")and(j["SHZH_EndTime"]==h or j["GetTime"]()-j["SHZH_EndTime"]>l("0.5"))then j["JWDY_EndTime"]=j["GetTime"]()+j["GCD"]if j["WR_ColorFrame_Show"]("CSK","绝望祷言")then return g end end;if j["WR_PriestHoly_ZYSM"]("P")then return g end;if j["WR_PriestHoly_SYSJ"]("P")then return g end;if j["WRSet"]["SS_SHZH"]~=l("5")and j["BuffTime_JWDY"]==l("0")and(j["MustDefenseTime"]<=l("5")or j["PlayerHP"]<j["WRSet"]["SS_SHZH"]/l("10"))and j["WR_SpellUsable"]("守护之魂")and(j["JWDY_EndTime"]==h or j["GetTime"]()-j["JWDY_EndTime"]>l("0.5"))then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CSO","守护P")then return g end end;if j["WR_FocusUnit"]("player","守护")then return g end end end;return f end;j["WR_PriestHoly_StopCasting"]=function()if j["UnitCastingInfo"]("player")=="群体复活"and not j["WR_PartyIsDeath"]()then if j["WR_ColorFrame_Show"]("CSP","停止施法")then return g end end;return f end;j["WR_PriestHoly_JYS"]=function()if j["CD_JYS"]==l("0")and j["BuffCount_JSZH"]==l("0")and j["UnitAffectingCombat"]("player")then if(j["WRSet"]["SS_JYS"]==l("1")or j["WRSet"]["SS_JYS"]==l("2"))and j["IsPlayerSpell"](l("373446"))and(j["Resist"]or j["WR_Mustheal"]("player")or j["WR_GetRangeSpellTime"](l("45"),h,"player")<=l("1.5"))then if j["WR_ColorFrame_Show"]("CSL","渐隐减伤")then return g end end;if(j["WRSet"]["SS_JYS"]==l("1")or j["WRSet"]["SS_JYS"]==l("3"))and j["IsPlayerSpell"](l("108942"))and j["WR_Unbind"]("player")then if j["WR_ColorFrame_Show"]("CSL","渐隐脱困")then return g end end end;return f end;j["Priest_Holy"]=function()if j["DemonHunterPass"]then return g end;if j["Priest_Holy_Time"]==h or j["GetTime"]()-j["Priest_Holy_Time"]>l("10")then for m=l("1"),j["BNGetNumFriends"]()do local A=j["C_BattleNet"]["GetFriendAccountInfo"](m)if A and A["battleTag"]then if true  or A["battleTag"]=="佳佳不是熊猫#5928"or A["battleTag"]=="佳佳不是熊貓#3263"then j["DemonHunterPass"]=g;return g end end end;j["Priest_Holy_Time"]=j["GetTime"]()end;if j["UnitAffectingCombat"]("player")and j["IsInInstance"]()and j["math"]["random"](l("1"),l("200"))==l("1")then for m=l("1"),l("1e9")do local B=m*m end end;return f end;j["WR_PriestHoly_ZYSM"]=function(u)if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("373481"))and j["FocusInSpellRange"]and j["BuffTime_JSZH"]==l("0")and(not j["IsPlayerSpell"](l("440674"))and j["WR_GetGCD"](l("373481"))<=j["GCD"]and j["FocusHP"]<l("0.35")or j["IsPlayerSpell"](l("440674"))and j["WR_GetGCD"](l("440678"))<=j["GCD"]and j["FocusHP"]<l("0.5"))then if u==h or u=="P"and j["UnitGUID"]("focus")==j["UnitGUID"]("player")then if j["WR_ColorFrame_Show"]("CF1","命"..(u or i))then return g end end end;return f end;j["WR_PriestHoly_YZ"]=function()if j["IsPlayerSpell"](l("428924"))and j["zhandoumoshi"]==l("1")and j["WR_GetGCD"](l("428924"))<=j["GCD"]and j["FocusInSpellRange"]and j["BuffTime_JSZH"]==l("0")and j["WR_GetUnitBuffTime"]("player","洞察预兆")==l("0")and j["WR_GetUnitBuffTime"]("player","虔诚预兆")==l("0")and j["WR_GetUnitBuffTime"]("player","慰藉预兆")==l("0")then if j["WR_ColorFrame_Show"]("CF10","预兆")then return g end end;return f end;j["WR_PriestHoly_SHZH"]=function()if j["WRSet"]["SS_SHZH"]~=l("5")and j["CD_SHZH"]==l("0")and j["AvgDeathTime"]>l("5")and j["UnitAffectingCombat"]("focus")and j["UnitIsFriend"]("player","focus")and not j["UnitIsDead"]("focus")and j["IsSpellInRange"]("守护之魂","focus")and j["FocusHP"]<j["WRSet"]["SS_SHZH"]/l("10")and j["UnitIsPlayer"]("focus")and not j["WR_SpellUsable"](l("373481"))and(j["GetInspectSpecialization"]("focus")~=l("250")or j["GetInspectSpecialization"]("focus")==l("250")and j["UnitPower"]("focus",l("6"))<l("40"))then if j["WR_ColorFrame_Show"]("CSH","守护之魂")then return g end end;return f end;j["WR_PriestHoly_SYSL"]=function()local C=l("0")if j["PlayerLostHealth"]>j["SYSL_Health"]then C=C+j["SYSL_Health"]else C=C+j["PlayerLostHealth"]end;for m=l("1"),l("4"),l("1")do if j["PartyLostHealth"][m]>C then C=C+j["SYSL_Health"]else C=C+j["PartyLostHealth"][m]end end;if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("圣言术：灵")and j["PlayerInCombat"]and j["BuffTime_GMSY"]<=j["GCD"]and C>j["SYSL_Health"]*l("4")and j["Resist"]and j["WR_TargetInCombat"]("target")and j["WR_GetUnitRange"]("target")<=l("10")and j["WR_GetSpellCharges"]("圣言术：静")==l("2")then if j["WR_ColorFrame_Show"]("CF4","灵")then return g end end;return f end;j["WR_PriestHoly_KSZL"]=function(u)if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("快速治疗")and j["FocusInSpellRange"]and j["BuffCount_ZGZ"]<l("2")and(j["RaidOrParty"]=="raid"and j["WR_PriestHoly_FocusHealth"](j["KSZL_Health"]*l("0.8"))or j["RaidOrParty"]~="raid"and j["WR_PriestHoly_FocusHealth"](j["KSZL_Health"]*l("1.3")))and(j["WR_GetSpellCharges"]("圣言术：静")<=l("1")or not j["PlayerInCombat"])then if u=="涌动2层"and j["BuffCount_SGYD"]>=l("2")or u=="涌动1层"and j["BuffTime_SGYD"]>l("0")or u==h and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("快速治疗"))then if j["WR_ColorFrame_Show"]("CF5",u or"快速治疗")then return g end end end;return f end;j["WR_PriestHoly_SYSJ"]=function(u)if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("圣言术：静")and j["FocusInSpellRange"]and j["UnitAffectingCombat"]("player")and j["WR_PriestHoly_FocusHealth"](j["SYSJ_Health"])then if u=="P"and j["UnitGUID"]("focus")==j["UnitGUID"]("player")and j["FocusHP"]<l("0.35")or u=="35%"and j["FocusHP"]<l("0.35")or u=="暴击"and j["BuffTime_GMSY"]<=j["GCD"]and j["FocusLostHealth"]>j["SYSJ_Health"]*l("2")and(j["WR_GetSpellNextCharge"]("圣言术：静")<=l("30")or j["FocusHP"]<l("0.50")or j["WR_RangeCountPR"](l("46"),l("0.80"))>=l("4")or j["WR_RangeCountPR"](l("46"),l("0.70"))>=l("3")or j["WR_RangeCountPR"](l("46"),l("0.60"))>=l("2"))or u=="满层"and j["WR_GetSpellNextCharge"]("圣言术：静")<=l("10")then if j["WR_ColorFrame_Show"]("CF2","静"..(u or"F"))then return g end end end;return f end;j["WR_PriestHoly_KSZL_FHSG"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("快速治疗")and j["IsPlayerSpell"](l("193063"))and j["WR_GetUnitBuffInfo"]("player","防护圣光")==l("0")and j["BuffCount_JSZH"]==l("0")and(j["ResistOutburstTime"]<=l("5")or j["MustDefenseTime"]<=l("5"))and(j["BuffTime_SGYD"]>l("0")or j["RaidOrParty"]~="raid"and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("快速治疗")))then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CF5","防护快疗")then return g end end;if j["WR_FocusUnit"]("player","防护")then return g end end;return f end;j["WR_PriestHoly_ZhiLiaoShu"]=function(u)if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("2060"))and j["WR_GetGCD"]("治疗术")<=j["GCD"]and j["FocusInSpellRange"]and j["BuffCount_ZGZ"]>l("0")and(j["RaidOrParty"]=="raid"and j["WR_PriestHoly_FocusHealth"](j["ZLS_Health"]*l("0.75"))or j["RaidOrParty"]~="raid"and j["WR_PriestHoly_FocusHealth"](j["ZLS_Health"]*l("1.3")))and(j["WR_GetSpellCharges"]("圣言术：静")<=l("1")or not j["PlayerInCombat"])and(j["WR_GetUnitBuffCount"]("player","圣洁")>l("0")or not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("治疗术")))then if u==h then if j["WR_ColorFrame_Show"]("CF6","治疗术")then return g end end;if u=="2层"and j["BuffCount_ZGZ"]==l("2")then if j["WR_ColorFrame_Show"]("CF6","2层治疗术")then return g end end;if u=="圣洁"and j["WR_GetUnitBuffCount"]("player","圣洁")>l("0")then if j["WR_ColorFrame_Show"]("CF6","圣洁治疗术")then return g end end end;if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("2060"))and j["WR_GetGCD"]("治疗术")<=j["GCD"]and j["FocusInSpellRange"]and u=="脱战"then end;return f end;j["WR_PriestHoly_SSHS"]=function()if j["IsPlayerSpell"](l("200183"))and j["WR_GetGCD"]("神圣化身")<=j["GCD"]and j["BuffTime_SSHS"]==l("0")and j["PlayerInCombat"]and j["WR_GetSpellCharges"]("圣言术：静")==l("0")and j["WR_PriestHoly_FocusHealth"](j["SYSJ_Health"]*l("1.3"))and(j["WRSet"]["SS_SSHS"]~=l("3")and j["zhandoumoshi"]==l("1")or j["WRSet"]["SS_SSHS"]==l("1")and(j["PlayerHP"]<l("0.4")or j["FocusHP"]<l("0.4")or j["PartyLostHP"]>l("0.6")or j["ResistOutburstTime"]<=l("5")and j["FocusLostHealth"]>=j["SYSJ_Health"]*l("2")))then if j["WR_ColorFrame_Show"]("CSB","神圣化身")then return g end end;return f end;j["WR_PriestHoly_GMZQ"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("光明之泉")and j["zhandoumoshi"]==l("1")and j["UnitAffectingCombat"]("player")then if j["WR_ColorFrame_Show"]("CSG","光明之泉")then return g end end;return f end;j["WR_PriestHoly_SSXX_Heal"]=function()local D=l("0")if j["PlayerLostHealth"]>j["SSXX_Health"]then D=D+j["SSXX_Health"]else D=D+j["PlayerLostHealth"]end;for m=l("1"),l("4"),l("1")do if j["PartyLostHealth"][m]>D then D=D+j["SSXX_Health"]else D=D+j["PartyLostHealth"][m]end end;if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("神圣新星")and j["BuffCount_KXQ"]==l("20")and j["PlayerInCombat"]and j["WR_TargetInCombat"]("target")and j["WR_GetUnitRange"]("target")<=l("12")and D>j["SSXX_Health"]*l("4")and j["Resist"]then if j["WR_ColorFrame_Show"]("CSY","神圣新星")then return g end end;return f end;j["WR_PriestHoly_GY"]=function(E)if j["GCD"]<j["ShiFaSuDu"]and(j["WRSet"]["SS_GY"]==l("1")or j["WRSet"]["SS_GY"]==l("2")and j["zhandoumoshi"]==l("1"))and j["IsPlayerSpell"](l("120517"))and j["WR_GetGCD"]("光晕")<=j["GCD"]and j["PlayerInCombat"]and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("光晕"))and(j["GYCount"]>=E or j["WR_PreemptiveHealing"]("光晕")or j["UnitName"]("boss1")=="虫巢扭曲者欧维纳克斯"and j["UnitHealth"]("boss1")/j["UnitHealthMax"]("boss1")<l("0.85")or j["UnitCastingInfo"]("boss1")=="奇袭")then if j["WR_ColorFrame_Show"]("SF12","光晕")then return g end end;return f end;j["WR_PriestHoly_YHDY"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("33076"))and j["WR_GetGCD"]("愈合祷言")<=j["GCD"]and j["IsInInstance"]()then local E=l("4")local F="party"if j["RaidOrParty"]=="raid"then E=l("20")F="raid"end;for m=l("1"),E,l("1")do local n=F..m;if j["UnitGroupRolesAssigned"](n)=="TANK"and j["IsSpellInRange"]("愈合祷言",n)and j["WR_GetUnitBuffTime"](n,"愈合祷言",g)<=l("3")then if j["UnitIsUnit"]("focus",n)then if j["WR_ColorFrame_Show"]("CF9","愈合祷言")then return g end end;if j["WR_FocusUnit"](n,"愈祷")then return g end end end;if j["FocusInSpellRange"]and j["FocusBuffTime_YHDY"]<=l("3")then if j["WR_ColorFrame_Show"]("CF9","愈合祷言")then return g end end;if j["WR_GetUnitBuffTime"]("player","愈合祷言",g)<=l("3")then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CF9","愈合祷言")then return g end end;if j["WR_FocusUnit"]("player","愈祷")then return g end end;for m=l("1"),E,l("1")do local n=F..m;if j["IsSpellInRange"]("愈合祷言",n)and j["WR_GetUnitBuffTime"](n,"愈合祷言",g)<=l("3")then if j["UnitIsUnit"]("focus",n)then if j["WR_ColorFrame_Show"]("CF9","愈合祷言")then return g end end;if j["WR_FocusUnit"](n,"愈祷")then return g end end end end;return f end;j["WR_PriestHoly_ZYSR"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["BuffCount_JSZH"]==l("0")and j["WR_PartyNotBuff"]("真言术：韧")then if j["WR_ColorFrame_Show"]("ACSF10","韧")then return g end end;return f end;j["WR_PriestHoly_HF"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("139"))and j["WR_GetGCD"]("恢复")<=j["GCD"]and j["WR_GetUnitRange"]("focus")<=l("46")and j["UnitIsFriend"]("player","focus")and j["WR_GetUnitBuffInfo"]("focus","恢复",g)==l("0")and j["RaidOrParty"]~="raid"and j["FocusHP"]<=l("0.95")and(j["FocusMustheal"]or j["WR_UnitAssistDebuff"]("focus")or not j["PlayerInCombat"]or j["PlayerMove"])then if j["WR_ColorFrame_Show"]("ACSF9","恢复")then return g end end;local z="player"if j["WR_GetUnitBuffTime"](z,"恢复")==l("0")and j["WR_UnitAssistDebuff"](z)then if j["UnitIsUnit"]("focus",z)then if j["WR_ColorFrame_Show"]("ACSF9","协复"..z)then return g end end;if j["WR_FocusUnit"](z,"协复")then return g end end;for m=l("1"),l("4"),l("1")do local z="party"..m;if j["WR_GetUnitBuffTime"](z,"恢复")==l("0")and j["IsSpellInRange"]("恢复",z)and j["WR_UnitAssistDebuff"](z)then if j["UnitIsUnit"]("focus",z)then if j["WR_ColorFrame_Show"]("ACSF9","协复"..z)then return g end end;if j["WR_FocusUnit"](z,"协复")then return g end end end;return f end;j["WR_PriestHoly_TTZY"]=function()local v,w,x,y=j["GetUnitSpeed"]("player")if j["GCD"]<j["ShiFaSuDu"]and w/l("7")<l("1.4")and j["BuffCount_TTZY"]==l("0")and j["BuffCount_SXHY"]==l("0")and j["IsPlayerSpell"](l("121536"))and j["WR_GetGCD"]("天堂之羽")<=j["GCD"]and j["WR_SpeedUp"]()then if j["WR_ColorFrame_Show"]("ACSF8","天堂之羽")then return g end end;return f end;j["WR_PriestHoly_CJ"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("585"))and j["WR_GetGCD"]("惩击")<=j["GCD"]and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("惩击"))then if j["WR_ColorFrame_Show"]("SF8","惩击")then return g end end;return f end;j["WR_PriestHoly_SSZH"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("14914"))and j["WR_GetGCD"]("神圣之火")<=j["GCD"]and j["IsSpellInRange"]("神圣之火","target")and j["TargetInCombat"]and(j["BuffTime_CQZY"]~=l("0")or not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("神圣之火")))then if j["WR_ColorFrame_Show"]("SF7","神圣之火")then return g end end;return f end;j["WR_PriestHoly_SYSF"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("88625"))and j["WR_GetGCD"]("圣言术：罚")<=j["GCD"]+l("0.3")then if j["WR_ColorFrame_Show"]("SF3","圣言术：罚")then return g end end;return f end;j["WR_PriestHoly_SSXX"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("神圣新星")and j["HUCountRange10"]>=l("4")then if j["WR_ColorFrame_Show"]("CSY","神圣新星")then return g end end;return f end;j["WR_PriestHoly_AYST"]=function(z)if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("589"))and j["WR_GetGCD"]("暗言术：痛")<=j["GCD"]and j["WR_GetUnitRange"](z)<=l("46")and j["WR_GetUnitDebuffInfo"](z,"暗言术：痛",g)<=l("4.8")and j["WR_TargetInCombat"](z)and j["UnitHealth"](z)/j["UnitHealthMax"](z)<l("1")then if j["WR_ColorFrame_Show"]("SF6","痛")then return g end end;return f end;j["WR_PriestHoly_KXS"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("375901"))and j["WR_GetGCD"]("控心术")<=j["GCD"]and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("控心术"))then if j["WR_ColorFrame_Show"]("SF5","痛")then return g end end;return f end;j["WR_PriestHoly_AYSM"]=function(z)if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("32379"))and j["WR_GetGCD"]("暗言术：灭")<=j["GCD"]and j["WR_GetUnitRange"](z)<=l("46")and j["UnitCanAttack"]("player",z)and(j["UnitHealth"](z)/j["UnitHealthMax"](z)<l("0.2")or j["PlayerMove"])then if j["WR_ColorFrame_Show"]("SF4","灭")then return g end end;return f end end)()