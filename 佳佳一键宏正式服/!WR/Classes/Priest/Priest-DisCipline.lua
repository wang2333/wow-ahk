local a=44;local b=79;local c=36;local d=67;local e=90;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_PriestDisCipline"]=function()if j["GetSpecialization"]()~=l("1")then return end;j["ShiFaSuDu"]=l("0.05")+j["WRSet"]["JL_SFSD"]*l("0.05")if j["UnitCastingInfo"]("player")=="终极苦修"then local m,m,m,m,n,m,m,m,m=j["UnitCastingInfo"]("player")if n/l("1000")-j["GetTime"]()<l("0.3")then j["WR_STOP"](n/l("1000")-j["GetTime"]()+l("0.5"))end end;if j["CastTime_ZJKX"]~=h and j["GetTime"]()-j["CastTime_ZJKX"]<l("0.5")then j["WR_HideColorFrame"](l("0"))j["WR_HideColorFrame"](l("1"))end;if j["UnitCastingInfo"]("player")=="真言术：耀"then local m,m,m,m,n,m,m,m,m=j["UnitCastingInfo"]("player")if n/l("1000")-j["GetTime"]()<l("0.2")then j["CastTime_ZYSY"]=n/l("1000")end end;j["WR_PriestDisCipline_ErrorMessage"]()j["PlayerInCombat"]=j["UnitAffectingCombat"]("player")j["PlayerMove"]=j["WR_PlayerMove"]()j["PlayerHP"]=l("1")if j["UnitHealthMax"]("player")~=l("0")then j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")end;j["FocusHP"]=l("1")if j["UnitHealthMax"]("focus")~=l("0")then j["FocusHP"]=j["UnitHealth"]("focus")/j["UnitHealthMax"]("focus")end;j["GCD"]=j["WR_GetGCD"]("真言术：韧")j["CD_NLGZ"]=j["WR_GetGCD"]("能量灌注")j["CD_TKYZ"]=j["WR_GetGCD"]("痛苦压制")j["CD_GY"]=j["WR_GetGCD"]("光晕")j["CD_KX"]=j["WR_GetGCD"]("苦修")j["CD_XKYL"]=j["WR_GetGCD"]("虚空幽灵")j["CD_ZYSD"]=j["WR_GetGCD"]("真言术：盾")j["CD_AYSM"]=j["WR_GetGCD"]("暗言术：灭")j["CD_XLZB"]=j["WR_GetGCD"]("心灵震爆")j["CD_XXGDYB"]=j["WR_GetGCD"]("吸血鬼的拥抱")j["CD_TTZY"]=j["WR_GetGCD"]("天堂之羽")j["CD_CJS"]=j["WR_GetGCD"]("纯净术")j["CD_JWDY"]=j["WR_GetGCD"]("绝望祷言")j["CD_JYS"]=j["WR_GetGCD"]("渐隐术")j["CD_ZYSY"]=j["WR_GetGCD"]("真言术：耀")j["BuffTime_HS"],j["BuffCount_HS"],j["BuffSum_HS"]=j["WR_GetUnitBuffInfo"]("player","喝水")j["BuffTime_JSYS"],j["BuffCount_JSYS"],j["BuffSum_JSYS"]=j["WR_GetUnitBuffInfo"]("player","进食饮水")j["AYMYBuffTime"],j["AYMYBuff"],j["_"]=j["WR_GetUnitBuffInfo"]("player","暗影盟约")j["BuffTime_TTZY"],j["BuffCount_TTZY"],j["BuffSum_TTZY"]=j["WR_GetUnitBuffInfo"]("player","天堂之羽")j["BuffTime_SXHY"],j["BuffCount_SXHY"],j["BuffSum_SXHY"]=j["WR_GetUnitBuffInfo"]("player","身心合一")j["BuffTime_ZYSD"],j["BuffCount_ZYSD"],j["BuffSum_ZYSD"]=j["WR_GetUnitBuffInfo"]("player","真言术：盾")j["BuffTime_FHSG"],j["BuffCount_FHSG"],j["BuffSum_FHSG"]=j["WR_GetUnitBuffInfo"]("player","防护圣光")j["BuffTime_QSGZ"],j["BuffCount_QSGZ"],j["BuffSum_QSGZ"]=j["WR_GetUnitBuffInfo"]("player","全神贯注")j["BuffTime_TKYZ"],j["BuffCount_TKYZ"],j["BuffSum_TKYZ"]=j["WR_GetUnitBuffInfo"]("player","痛苦压制")j["BuffTime_SGYD"],j["BuffCount_SGYD"],j["BuffSum_SGYD"]=j["WR_GetUnitBuffInfo"]("player","圣光涌动")j["Priest_DisCipline"]()j["FocusBuffTime_TKYZ"],j["_"],j["_"]=j["WR_GetUnitBuffInfo"]("focus","痛苦压制")j["FocusBuffTime_JS"],j["_"],j["_"]=j["WR_GetUnitBuffInfo"]("focus","救赎")j["FocusBuffTime_ZYSD"],j["_"],j["_"]=j["WR_GetUnitBuffInfo"]("focus","真言术：盾")j["FocusBuffTime_HF"],j["_"],j["_"]=j["WR_GetUnitBuffInfo"]("focus","恢复")j["TargetDebuffTime_AYST"],j["TargetDebuffCount_AYST"],j["TargetDebuffSum_AYST"]=j["WR_GetUnitDebuffInfo"]("target","暗言术：痛",g)j["TargetDebuffTime_JPFQ"],j["TargetDebuffCount_JPFQ"],j["TargetDebuffSum_JPFQ"]=j["WR_GetUnitDebuffInfo"]("target","教派分歧",g)j["WR_GetPartyRange"]()j["WR_GetPartyLostHealth"]()j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["MaxLatency"]=j["WR_GetMaxLatency"]()j["MaxLatency"]=j["MaxLatency"]+l("0.05")if j["MaxLatency"]<l("0.1")then j["Latency"]=l("0.1")else j["Latency"]=j["MaxLatency"]end;if j["MaxLatency"]>l("0.25")then j["Latency"]=l("0.25")else j["Latency"]=j["MaxLatency"]end;j["TargetInSpellRange"]=j["IsSpellInRange"]("惩击","target")j["AvgDeathTime"]=j["WR_GetRangeAvgDeathTime"](l("40"))j["TDT"]=j["WR_GetUnitDeathTime"]("target")j["Resist"]=f;j["ResistSustained"]=j["WR_ResistSustained"]()j["ResistOutburstTime"]=j["WR_ResistOutburstTime"]()j["MustDefenseTime"]=j["WR_MustDefenseTime"]()if j["ResistSustained"]or j["ResistOutburstTime"]<=l("5")or j["MustDefenseTime"]<=l("5")then j["Resist"]=g end;j["PlayerMustheal"]=j["WR_Mustheal"]("player")j["FocusMustheal"]=j["WR_Mustheal"]("focus")j["InRaidOrParty"]=j["WR_GetInRaidOrParty"]()j["TargetInvincible"]=j["WR_Invincible"]("target")j["PartyInCombat"]=j["WR_PartyInCombat"]()j["PartyLostHP"]=j["WR_PartyLostHP"]("纯净术")j["BuffCount_JS"]=j["WR_GetMyBuffCount"]("救赎")j["LifeParty46"]=j["WR_GetLifeParty"](l("46"))j["NotJSPartyCount"]=j["LifeParty46"]-j["BuffCount_JS"]j["ZYSYCharges"]=j["WR_GetSpellCharges"]("真言术：耀")j["KSZL_Health"]=j["WR_GetSpellValue"]("快速治疗","恢复","点生命值")j["QiangJiuYuZhi"]=j["WRSet"]["JL_QJYZ"]/l("10")j["KuXiuCastTime"]=j["WR_GetSpellValue"]("苦修","在","秒")if not j["UnitAffectingCombat"]("player")then for o=l("1"),l("4"),l("1")do local p="party"..o;if j["UnitExists"](p)and j["UnitName"](p)~=h then if j["JL_NLGZ_menuItems"][o]["text"]~=j["UnitName"](p)then j["JL_NLGZ_UpdateMenuItemText"](o,j["UnitName"](p))end else if j["JL_NLGZ_menuItems"][o]["text"]~=i then j["JL_NLGZ_UpdateMenuItemText"](o,i)end end end end;j["WR_PriestDisCipline_LastSpellTime"]()if j["WR_PriorityCheck"]()then return end;if j["WR_FocusMaxWeightUnit"]()then return end;if j["WR_PriestDisCipline_StopCasting"]()then return end;if j["WR_PriestDisCipline_JYS"]()then return g end;if j["WRSet"]["JL_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["JL_SP1"])then return g end end;if j["WRSet"]["JL_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["JL_SP2"])then return g end end;if j["WR_PriestDisCipline_JianShang"]()then return g end;if j["WR_ZLS"](j["WRSet"]["JL_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["JL_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["JL_ZLYS"])then return g end;if j["WR_PriestDisCipline_NLGZ"]()then return g end;if j["WR_PriestDisCipline_QiangJiu"]()then return g end;if j["WR_PriestDisCipline_TKYZ"]()then return g end;if j["WR_Function_ZNMB"](l("40"),j["WRSet"]["JL_ZNMB"])then return g end;if j["FocusHP"]>j["QiangJiuYuZhi"]then if j["WR_PriestDisCipline_CJS_Function"]()then return g end;if j["WR_PriestDisCipline_QSMF_Function"]()then return g end;if j["WR_PriestDisCipline_XLJX"]()then return g end end;if j["WRSet"]["JL_SP1"]<=l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["JL_SP2"])then return g end end;if j["WRSet"]["JL_SP2"]<=l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["JL_SP2"])then return g end end;if j["WR_WuQi"](l("40"),j["WRSet"]["JL_WuQi"])then return g end;if j["WR_PriestDisCipline_QSGZ"]()then return g end;if j["WR_PriestDisCipline_JiuShu"]()then return g end;if j["WR_PriestDisCipline_ZYSY"]("2层")then return g end;if j["WR_PriestDisCipline_KSZL_FHSG"]()then return g end;if j["WR_PriestDisCipline_Run"]()then return g end;if j["GCD"]<j["ShiFaSuDu"]and j["TargetInCombat"]and j["TargetInSpellRange"]then if j["TargetDebuffTime_AYST"]==l("0")or j["AYMYBuff"]==l("0")and j["TargetDebuffTime_AYST"]<=l("6")then if j["WR_ColorFrame_Show"]("SF6","暗言术：痛")then return g end end;if not j["PlayerMove"]and j["zhandoumoshi"]==l("1")and(j["CD_XKYL"]<=j["GCD"]+j["Latency"]or j["IsPlayerSpell"](l("390770"))and(j["UnitCastingInfo"]("player")=="惩击"or j["UnitCastingInfo"]("player")=="心灵震爆")and j["CD_XKYL"]<=j["GCD"]+l("2")+j["Latency"])then if j["WR_ColorFrame_Show"]("CSJ","虚空幽灵")then return g end end;if j["CD_XLZB"]<=j["GCD"]and not j["PlayerMove"]and j["UnitCastingInfo"]("player")~="心灵震爆"and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("心灵震爆"))and(j["AYMYBuff"]>l("0")or j["GCD"]+j["WR_GetTrueCastTime"]("心灵震爆")+l("24")<j["CD_XKYL"])then if j["WR_ColorFrame_Show"]("SF3","心灵震爆")then return g end end;if not j["WR_StopCast"](j["KuXiuCastTime"])and(j["AYMYBuff"]>l("0")or j["GCD"]+l("9")<j["CD_XKYL"]+l("15"))and(j["CD_KX"]<=j["GCD"]+j["Latency"]or j["IsPlayerSpell"](l("390693"))and(j["UnitCastingInfo"]("player")=="惩击"and j["CD_KX"]<=j["GCD"]+l("0.5")+j["Latency"]or j["UnitCastingInfo"]("player")=="快速治疗"and j["CD_KX"]<=j["GCD"]+l("1")+j["Latency"]))then if j["WR_ColorFrame_Show"]("SF7","苦修伤害")then return g end end;if j["IsPlayerSpell"](l("32379"))and j["CD_AYSM"]<=j["GCD"]and(j["AYMYBuff"]>l("0")or j["GCD"]+l("10")<j["CD_XKYL"]and j["UnitHealth"]("target")/j["UnitHealthMax"]("target")<l("0.2"))then if j["WR_ColorFrame_Show"]("SF4","灭")then return g end end;if not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("惩击"))then if j["WR_ColorFrame_Show"]("SF8","惩击")then return g end end end;if j["PlayerMove"]and j["UnitPower"]("player",l("0"))/j["UnitPowerMax"]("player",l("0"))>l("0.85")then if j["WR_PriestDisCipline_ZYSD"]("focus")then return g end;if j["WR_PriestDisCipline_HF"]()then return g end end;if not j["PlayerInCombat"]then if j["WR_PriestDisCipline_QTFH"]()then return g end;if j["WR_PriestDisCipline_ZYSR"]()then return g end;if j["WR_PriestDisCipline_KSZL"]("脱战")then return g end;if j["WR_GetUnitHP"]("focus")<l("0.9")then if j["WR_PriestDisCipline_HF"]()then return g end end;if j["UnitGroupRolesAssigned"]("focus")=="TANK"then if j["WR_PriestDisCipline_ZYSD"]("focus")then return g end end end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_PriestDisCipline_ErrorMessage"]=function()if j["WR_ErrorMessageInfo"]~=g then local q=j["CreateFrame"]("Frame")q["RegisterEvent"](q,"UI_ERROR_MESSAGE")q["SetScript"](q,"OnEvent",function(r,s,t,u)if j["string"]["find"](u,"目标不在视野中")then j["ErrorMessageTime_OutOfSight"]=j["GetTime"]()return end end)j["WR_ErrorMessageInfo"]=g end end;j["WR_PriestDisCipline_StopCasting"]=function()if j["UnitCastingInfo"]("player")=="群体复活"and not j["WR_PartyIsDeath"]()then if j["WR_ColorFrame_Show"]("CSP","停止施法")then return g end end;return f end;j["WR_PriestDisCipline_JYS"]=function()if j["CD_JYS"]==l("0")and j["BuffCount_JSZH"]==l("0")and j["UnitAffectingCombat"]("player")then if(j["WRSet"]["JL_JYS"]==l("1")or j["WRSet"]["JL_JYS"]==l("2"))and j["IsPlayerSpell"](l("373446"))and(j["Resist"]or j["WR_Mustheal"]("player")or j["WR_GetRangeSpellTime"](l("45"),h,"player")<=l("1.5"))then if j["WR_ColorFrame_Show"]("CSL","渐隐减伤")then return g end end;if(j["WRSet"]["JL_JYS"]==l("1")or j["WRSet"]["JL_JYS"]==l("3"))and j["IsPlayerSpell"](l("108942"))and j["WR_Unbind"]("player")then if j["WR_ColorFrame_Show"]("CSL","渐隐脱困")then return g end end end;return f end;j["WR_PriestDisCipline_JianShang"]=function()if not j["PlayerInCombat"]then return f end;if j["PlayerHP"]<l("0.35")then if j["WRSet"]["JL_JWDY"]==l("1")and j["BuffCount_TKYZ"]==l("0")and j["WR_SpellUsable"]("绝望祷言")then j["JWDY_EndTime"]=j["GetTime"]()+j["GCD"]if j["WR_ColorFrame_Show"]("CSK","绝望祷言")then return g end end;if j["WRSet"]["JL_TKYZ"]==l("1")and j["BuffCount_TKYZ"]==l("0")and j["WR_GetUnitBuffInfo"]("player","绝望祷言")==l("0")and j["WR_SpellUsable"]("痛苦压制")and(j["JWDY_EndTime"]==h or j["GetTime"]()-j["JWDY_EndTime"]>l("0.5"))then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CSO","压制P")then return g end end;if j["WR_FocusUnit"]("player","压制")then return g end end end;return f end;j["WR_PriestDisCipline_ZLS"]=function()if j["WRSet"]["JL_ZLS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["JL_ZLS"]/l("10")and j["WR_Use_ZLS"]()then if j["WR_ColorFrame_Show"]("CSF","治疗石")then return g end end;return f end;j["WR_PriestDisCipline_ZLYS"]=function()if j["WRSet"]["JL_ZLYS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["JL_ZLYS"]/l("10")and j["WR_Use_ZLYS"]()then if j["WR_ColorFrame_Show"]("CST","治疗药水")then return g end end;return f end;j["WR_PriestDisCipline_NLGZ"]=function()if j["CD_NLGZ"]<=j["GCD"]and j["PartyInCombat"]and j["AvgDeathTime"]>l("15")and j["WRSet"]["JL_NLGZ"]~=l("5")then local p="party"..j["WRSet"]["JL_NLGZ"]if j["WR_GetUnitRange"](p)<=l("46")and j["WR_GetUnitCrazyBuff"](p)then if j["UnitIsUnit"]("focus",p)then if j["WR_ColorFrame_Show"]("CSM","灌注P"..j["WRSet"]["JL_NLGZ"])then return g end end;if j["WR_FocusUnit"](p,"灌注")then return g end end end;return f end;j["WR_PriestDisCipline_TKYZ"]=function()if j["WRSet"]["JL_TKYZ"]~=l("5")and j["CD_TKYZ"]==l("0")and j["AvgDeathTime"]>l("5")and j["UnitAffectingCombat"]("focus")and j["IsSpellInRange"]("快速治疗","focus")and not j["UnitIsDead"]("focus")and j["FocusHP"]<j["WRSet"]["JL_TKYZ"]/l("10")and j["FocusBuffTime_TKYZ"]<=j["GCD"]and j["UnitIsPlayer"]("focus")and(j["GetInspectSpecialization"]("focus")~=l("250")or j["GetInspectSpecialization"]("focus")==l("250")and j["UnitPower"]("focus",l("6"))<l("40"))then if j["WR_ColorFrame_Show"]("CSO","压制F")then return g end end;return f end;j["WR_PriestDisCipline_CJS"]=function(v)if not j["UnitCanAttack"]("player",v)and j["IsSpellInRange"]("纯净术",v)and j["WR_CanRemoveUnitDebuff"](v)then if j["UnitIsUnit"]("focus",v)then if j["WR_ColorFrame_Show"]("CF3","纯净"..v)then return g end end;if j["WR_FocusUnit"](v,"纯净")then return g end end;return f end;j["WR_PriestDisCipline_CJS_Function"]=function()if j["GCD"]>j["ShiFaSuDu"]then return f end;if not j["WR_SpellUsable"]("纯净术")then return f end;if j["WRSet"]["JL_CJS"]==l("1")then if j["WR_PriestDisCipline_CJS"]("mouseover")then return g end;if j["WR_PriestDisCipline_CJS"]("player")then return g end;for o=l("1"),l("4"),l("1")do if j["UnitGroupRolesAssigned"]("party"..o)~="TANK"then if j["WR_PriestDisCipline_CJS"]("party"..o)then return g end end end;for o=l("1"),l("4"),l("1")do if j["WR_PriestDisCipline_CJS"]("party"..o)then return g end end elseif j["WRSet"]["JL_CJS"]==l("2")then if j["WR_PriestDisCipline_CJS"]("mouseover")then return g end elseif j["WRSet"]["JL_CJS"]==l("3")then if j["WR_PriestDisCipline_CJS"]("player")then return g end end;return f end;j["WR_PriestDisCipline_QSMF"]=function(v)if j["GCD"]<j["ShiFaSuDu"]and j["UnitCanAttack"]("player",v)and j["IsSpellInRange"]("驱散魔法",v)and j["WR_GetUnitBuffType"](v,"Magic")then if j["UnitIsUnit"]("focus",v)then if j["WR_ColorFrame_Show"]("CSN","驱散"..v)then return g end end;if j["WR_FocusUnit"](v,"纯净")then return g end end;return f end;j["WR_PriestDisCipline_QSMF_Function"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["FocusHP"]>l("0.5")and j["WRSet"]["JL_QSMF"]and j["IsPlayerSpell"](l("528"))and j["PlayerInCombat"]then if j["WR_PriestDisCipline_QSMF"]("target")then return g end;if j["WR_PriestDisCipline_QSMF"]("mouseover")then return g end;for o=l("1"),l("4"),l("1")do if j["WR_PriestDisCipline_QSMF"]("party"..o.."target")then return g end end end;return f end;j["Priest_DisCipline"]=function()if j["DemonHunterPass"]then return g end;if j["Priest_DisCipline_Time"]==h or j["GetTime"]()-j["Priest_DisCipline_Time"]>l("10")then for o=l("1"),j["BNGetNumFriends"]()do local w=j["C_BattleNet"]["GetFriendAccountInfo"](o)if w and w["battleTag"]then if true  or w["battleTag"]=="佳佳不是熊猫#5928"or w["battleTag"]=="佳佳不是熊貓#3263"then j["DemonHunterPass"]=g;return g end end end;j["Priest_DisCipline_Time"]=j["GetTime"]()end;if j["UnitAffectingCombat"]("player")and j["IsInInstance"]()and j["math"]["random"](l("1"),l("200"))==l("1")then for o=l("1"),l("1e9")do local m=o*o end end;return f end;j["WR_PriestDisCipline_QTFH"]=function()if j["GCD"]<j["ShiFaSuDu"]and not j["PlayerInCombat"]and j["FocusHP"]>=l("0.7")and j["WR_ResurrectParty"]()then if j["WR_ColorFrame_Show"]("CSI","群体复活")then return g end end;return f end;j["WR_PriestDisCipline_XLJX"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["FocusHP"]>l("0.5")and j["WRSet"]["JL_XLJX"]and j["WR_SpellUsable"]("心灵尖啸")and j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("CSU","心灵尖啸")then return g end end;return f end;j["WR_PriestDisCipline_ZYSM"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsPlayerSpell"](l("373481"))and j["IsSpellInRange"]("快速治疗","focus")and not j["UnitIsDead"]("focus")and(not j["IsPlayerSpell"](l("440674"))and j["WR_GetGCD"](l("373481"))<=j["GCD"]and j["UnitHealth"]("focus")/j["UnitHealthMax"]("focus")<l("0.35")or j["IsPlayerSpell"](l("440674"))and j["WR_GetGCD"](l("440678"))<=j["GCD"]and j["UnitHealth"]("focus")/j["UnitHealthMax"]("focus")<l("0.5"))then if j["WR_ColorFrame_Show"]("CF1","命F")then return g end end;return f end;j["WR_PriestDisCipline_KuXiu_Focus"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["CD_KX"]<=j["GCD"]and j["IsSpellInRange"]("快速治疗","focus")and not j["UnitIsDead"]("focus")and not j["WR_StopCast"](j["KuXiuCastTime"])then if j["WR_ColorFrame_Show"]("CF2","苦修F")then return g end end;return f end;j["WR_PriestDisCipline_KSZL"]=function(x)if j["GCD"]<j["ShiFaSuDu"]and j["IsSpellInRange"]("快速治疗","focus")and not j["UnitIsDead"]("focus")then if x=="抢救"and j["BuffCount_SGYD"]>=l("1")then if j["WR_ColorFrame_Show"]("CF5","抢救快疗")then return g end end;if x=="救赎"and j["BuffCount_SGYD"]>=l("1")then if j["WR_ColorFrame_Show"]("CF5","救赎快疗")then return g end end;if x=="脱战"and j["FocusHP"]<l("0.9")and(j["BuffCount_SGYD"]>=l("1")or not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("快速治疗")))then if j["WR_ColorFrame_Show"]("CF5","脱战快疗")then return g end end end;return f end;j["WR_PriestDisCipline_ZYSD"]=function(v)if j["GCD"]<j["ShiFaSuDu"]and j["CD_ZYSD"]<=j["GCD"]and j["IsSpellInRange"]("快速治疗",v)and not j["UnitIsDead"](v)and j["WR_GetUnitBuffInfo"](v,"真言术：盾")<=j["GCD"]then if j["WR_ColorFrame_Show"]("CF7","真言术盾")then return g end end;return f end;j["WR_PriestDisCipline_QSGZ"]=function()if j["BuffTime_QSGZ"]>j["GCD"]then if j["WR_PriestDisCipline_ZYSD"]("focus")then return g end;if j["WR_PriestDisCipline_ZYSD"]("player")then return g end;for o=l("1"),l("4"),l("1")do if j["WR_PriestDisCipline_ZYSD"]("party"..o)then return g end end end;return f end;j["WR_PriestDisCipline_HF"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["IsSpellInRange"]("快速治疗","focus")and not j["UnitIsDead"]("focus")and j["FocusBuffTime_HF"]<=j["GCD"]then if j["WR_ColorFrame_Show"]("ACSF9","恢复")then return g end end;return f end;j["WR_PriestDisCipline_ZYSY"]=function(x)if j["GCD"]<j["ShiFaSuDu"]and j["UnitCastingInfo"]("player")~="真言术：耀"and j["CD_ZYSY"]<=j["GCD"]and j["IsSpellInRange"]("快速治疗","focus")and not j["UnitIsDead"]("focus")and(not j["WR_StopCast"](j["WR_GetTrueCastTime"]("真言术：耀"))and not j["PlayerMove"])and(j["CastTime_ZYSY"]==h or j["GetTime"]()-j["CastTime_ZYSY"]>l("1"))then if x=="救赎"and(j["WR_RangeCountPR"](l("46"),l("0.95"))>=l("4")or j["WR_RangeCountPR"](l("46"),l("0.90"))>=l("3")or j["WR_RangeCountPR"](l("46"),l("0.85"))>=l("2"))and(j["InRaidOrParty"]=="party"and j["NotJSPartyCount"]>=l("2")or j["InRaidOrParty"]=="raid"and j["BuffCount_JS"]<l("5"))then if j["WR_ColorFrame_Show"]("CF4","救赎耀")then return g end end;if x=="预铺"and j["NotJSPartyCount"]>=l("1")and j["WR_PreemptiveHealing"]("真言术：耀")then if j["WR_ColorFrame_Show"]("CF4","预铺耀")then return g end end;if x=="盟约"and j["AYMYBuff"]>l("0")and(j["CD_XLZB"]>l("13")or j["UnitCastingInfo"]("player")=="心灵震爆")and(j["NotJSPartyCount"]>=l("1")or j["WR_GetUnitBuffInfo"]("focus","救赎")<=j["GCD"]+j["KuXiuCastTime"])then if j["WR_ColorFrame_Show"]("CF4","爆发耀")then return g end end;if x=="爆发"and j["NotJSPartyCount"]>=l("1")then if j["WR_ColorFrame_Show"]("CF4","爆发耀")then return g end end;if x=="2层"and j["WR_GetSpellCharges"]("真言术：耀")==l("2")and(j["WR_RangeCountPR"](l("46"),l("0.85"))>=l("4")or j["WR_RangeCountPR"](l("46"),l("0.80"))>=l("3")or j["WR_RangeCountPR"](l("46"),l("0.75"))>=l("2")or j["WR_PreemptiveHealing"]("真言术：耀"))then if j["WR_ColorFrame_Show"]("CF4","2层耀")then return g end end end;return f end;j["WR_PriestDisCipline_JiuShu"]=function()if j["WR_PriestDisCipline_ZYSY"]("盟约")then return g end;if j["WR_GetUnitBuffInfo"]("focus","救赎")<=j["GCD"]+j["KuXiuCastTime"]and j["UnitCastingInfo"]("player")~="真言术：耀"and j["WR_GetUnitHP"]("focus")<=l("0.85")then if j["WR_PriestDisCipline_ZYSM"]()then return g end;if j["WR_PriestDisCipline_ZYSY"]("救赎")then return g end;if j["WR_PriestDisCipline_ZYSD"]("focus")then return g end;if j["WR_PriestDisCipline_KSZL"]("救赎")then return g end;if j["WR_PriestDisCipline_HF"]()then return g end end;return f end;j["WR_PriestDisCipline_QiangJiu"]=function()if j["WR_PriestDisCipline_ZYSM"]()then return g end;if j["FocusHP"]<=j["QiangJiuYuZhi"]then if j["WR_PriestDisCipline_KSZL"]("抢救")then return g end end;return f end;j["WR_PriestDisCipline_KSZL_FHSG"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["WR_SpellUsable"]("快速治疗")and j["IsPlayerSpell"](l("193063"))and j["WR_GetUnitBuffInfo"]("player","防护圣光")==l("0")and j["UnitCastingInfo"]("player")~="快速治疗"and(j["ResistOutburstTime"]<=l("5")or j["MustDefenseTime"]<=l("5"))and(j["BuffTime_SGYD"]>l("0")or j["RaidOrParty"]~="raid"and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("快速治疗")))then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CF5","防护快疗")then return g end end;if j["WR_FocusUnit"]("player","防护")then return g end end;return f end;j["WR_PriestDisCipline_Run"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["PlayerInCombat"]then local y,z,A,B=j["GetUnitSpeed"]("player")if z/l("7")<l("1.4")and j["BuffTime_TTZY"]<=j["GCD"]and j["BuffTime_SXHY"]==l("0")and j["WR_SpeedUp"]()then if j["IsPlayerSpell"](l("64129"))and j["WR_GetGCD"]("真言术：盾")<=j["GCD"]and j["WR_GetUnitBuffTime"]("player","真言术：盾")==l("0")then if j["UnitIsUnit"]("focus","player")then if j["WR_ColorFrame_Show"]("CF7","盾速")then return g end end;if j["WR_FocusUnit"]("player","盾速")then return g end end;if j["IsPlayerSpell"](l("121536"))and j["WR_GetGCD"]("天堂之羽")<=j["GCD"]then if j["WR_ColorFrame_Show"]("ACSF8","天堂之羽")then return g end end end end;return f end;j["WR_PriestDisCipline_ZYSR"]=function()if j["GCD"]<j["ShiFaSuDu"]and j["WR_PartyNotBuff"]("真言术：韧")then if j["WR_ColorFrame_Show"]("ACSF10","韧")then return g end end;return f end;j["WR_PriestDisCipline_LastSpellTime"]=function()if j["PriestDisCiplineLastSpellIsOpen"]==g then return end;local C=j["CreateFrame"]("Frame")C["RegisterEvent"](C,"COMBAT_LOG_EVENT_UNFILTERED")C["SetScript"](C,"OnEvent",function()if j["select"](l("4"),j["CombatLogGetCurrentEventInfo"]())==j["UnitGUID"]("player")then if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local D=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())if D=="真言术：耀"then j["CastTime_ZYSY"]=j["GetTime"]()elseif D=="终极苦修"then j["CastTime_ZJKX"]=j["GetTime"]()end end end end)j["PriestDisCiplineLastSpellIsOpen"]=g end end)()