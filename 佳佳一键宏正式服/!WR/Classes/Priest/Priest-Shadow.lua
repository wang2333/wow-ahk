local a=19;local b=93;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_PriestShadow"]=function()if g["GetSpecialization"]()~=i("3")then return end;g["ShiFaSuDu"]=i("0.3")g["WR_LFGList"]()g["WR_AllUnitRange"]={}g["WR_BuffInfo_All"]={}local j={[i("1")]=i("202540"),[i("2")]=i("202541"),[i("3")]=i("202542"),[i("4")]=i("202543"),[i("5")]=i("202545"),[i("6")]=i("217201"),[i("7")]=i("217202"),[i("8")]=i("217203"),[i("9")]=i("217204"),[i("10")]=i("217205")}g["T101Count"]=g["WR_GetSuit"](j)g["PlayerInCombat"]=g["UnitAffectingCombat"]("player")g["ResistOutburst"]=g["WR_ResistOutburst"](i("5"))g["MustDefenseSpell"]=g["WR_MustDefenseSpell"]()g["Resist"]=c;if g["WR_ResistSustained"]()or g["ResistOutburst"]or g["MustDefenseSpell"]then g["Resist"]=d end;g["InsanityPower"]=g["UnitPower"]("player",i("13"))g["GCD"]=g["WR_GetGCD"]("真言术：韧")g["GCD_Max"]=g["WR_GetMaxGCD"](i("1.5"))g["CastTime_JSBC"]=g["WR_GetMaxGCD"](i("4.5"))g["CastTime_XLZB"]=g["WR_GetMaxGCD"](i("1.5"))g["CD_XKBF"]=g["WR_GetSpellCD"](i("228260"))if g["CD_XKBF"]<=g["GCD"]then g["CD_XKBF"]=i("0")end;g["CD_XKJ"]=g["WR_GetSpellCD"](i("205448"))if g["CD_XKJ"]<=g["GCD"]then g["CD_XKJ"]=i("0")end;g["CD_AYCZ"]=g["WR_GetSpellCD"]("暗影冲撞")if g["CD_AYCZ"]<=g["GCD"]then g["CD_AYCZ"]=i("0")end;local k,k,l,m,k=g["GetSpellCharges"]("心灵震爆")g["CD_XLZB"]=l+m-g["GetTime"]()if g["CD_XLZB"]>m then g["CD_XLZB"]=i("0")end;g["DebuffTime_SLYB"]=g["WR_GetUnitDebuffInfo"]("target","噬灵疫病",d)g["DebuffTime_XXGZC"]=g["WR_GetUnitDebuffInfo"]("target","吸血鬼之触",d)g["BuffTime_HS"],g["BuffCount_HS"],g["BuffSum_HS"]=g["WR_GetUnitBuffInfo"]("player","喝水")g["BuffTime_YY"],g["BuffCount_YY"],g["BuffSum_YY"]=g["WR_GetUnitBuffInfo"]("player","饮用")g["BuffTime_JSYS"],g["BuffCount_JSYS"],g["BuffSum_JSYS"]=g["WR_GetUnitBuffInfo"]("player","进食饮水")g["BuffTime_XKXT"],g["BuffCount_XKXT"],g["BuffSum_XKXT"]=g["WR_GetUnitBuffInfo"]("player","虚空形态")g["BuffTime_JSBCK"],g["BuffCount_JSBCK"],g["BuffSum_JSBCK"]=g["WR_GetUnitBuffInfo"]("player","精神鞭笞：狂")g["BuffTime_AYZB"],g["BuffCount_AYZB"],g["BuffSum_AYZB"]=g["WR_GetUnitBuffInfo"]("player","暗焰遮蔽")g["BuffTime_AYDC"],g["BuffCount_AYDC"],g["BuffSum_AYDC"]=g["WR_GetUnitBuffInfo"]("player","暗影洞察")g["BuffTime_AYYJ"],g["BuffCount_AYYJ"],g["BuffSum_AYYJ"]=g["WR_GetUnitBuffInfo"]("player","暗焰余烬")g["PlayerHP"]=g["UnitHealth"]("player")/g["UnitHealthMax"]("player")g["PartyLostHP"]=g["WR_PartyLostHP"]("快速治疗")g["TargetDeathTime"]=g["WR_GetUnitDeathTime"]("target")g["AvgDeathTime"]=g["WR_GetSpellRangeAvgDeathTime"]("心灵震爆")g["PlayerMove"]=g["WR_GetPlayerMove"]()g["InTraining"]=g["WR_InTraining"]()g["RangeHarmUnitCount30"]=g["WR_GetRangeHarmUnitCount"](i("30"),not g["InTraining"])g["RangeHarmUnitCount40"]=g["WR_GetRangeHarmUnitCount"](i("40"),not g["InTraining"])g["EndGame"]=g["WR_EndGame"]()g["CastingName"]=g["UnitCastingInfo"]("player")g["ChannelName"]=g["UnitChannelInfo"]("player")g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["PartyInCombat"]=g["WR_PartyInCombat"]()if g["WR_CreateMacroButtonInfo"]~=d and not g["UnitAffectingCombat"]("player")and g["WR_CreateMacroButtonPass"]()~=e then g["WR_CreateMacroButtonInfo"]=d;g["WR_PriestCreateMacroButton"]()end;if g["IsFlying"]()or g["UnitIsDead"]("player")or g["BuffTime_HS"]>i("0")or g["BuffTime_YY"]>i("0")or g["BuffTime_JSYS"]>i("0")or g["SpellIsTargeting"]()or g["ChannelName"]=="虚空洪流"then g["WR_HideColorFrame"](i("0"))g["WR_HideColorFrame"](i("1"))return end;if not g["UnitIsDead"]("player")and(g["PlayerInCombat"]or g["WR_InTraining"]())then g["WR_CombatFrame"]["Show"](g["WR_CombatFrame"])else g["WR_CombatFrame"]["Hide"](g["WR_CombatFrame"])end;if g["zhandoumoshi"]~=i("1")then g["WR_HideColorFrame"](i("1"))g["WR_ShowColorFrame"]("ACSF1","爆发",i("1"))end;if g["zhandoumoshi"]==i("1")then g["WR_HideColorFrame"](i("0"))g["WR_ShowColorFrame"]("ACF10","平伤",i("0"))end;if g["WRSet"]["AY_ZNMB"]==i("1")and g["PartyInCombat"]and g["RangeHarmUnitCount40"]>=i("1")and not g["TargetInCombat"]then if g["UnitGroupRolesAssigned"]("party1")=="TANK"and g["WR_TargetInCombat"]("party1target")and g["WR_GetUnitRange"]("party1target")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACSF2","目标P1",g["zhandoumoshi"])return end;if g["UnitGroupRolesAssigned"]("party2")=="TANK"and g["WR_TargetInCombat"]("party2target")and g["WR_GetUnitRange"]("party2target")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACSF3","目标P2",g["zhandoumoshi"])return end;if g["UnitGroupRolesAssigned"]("party3")=="TANK"and g["WR_TargetInCombat"]("party3target")and g["WR_GetUnitRange"]("party3target")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACSF5","目标P3",g["zhandoumoshi"])return end;if g["UnitGroupRolesAssigned"]("party4")=="TANK"and g["WR_TargetInCombat"]("party4target")and g["WR_GetUnitRange"]("party4target")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACSF6","目标P4",g["zhandoumoshi"])return end end;if g["WRSet"]["AY_JWDY"]~=i("5")and g["WR_SpellUsable"]("绝望祷言")and g["PlayerHP"]<=g["WRSet"]["AY_JWDY"]/i("10")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF5","绝望祷言",g["zhandoumoshi"])return end;if g["WRSet"]["AY_ZLS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["AY_ZLS"]/i("10")then local n=g["GetItemCount"]("治疗石")local l,m,o=g["GetItemCooldown"]("治疗石")if n~=e and n>=i("1")and l+m-g["GetTime"]()<=i("0")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF6","治疗石",g["zhandoumoshi"])return end end;if g["WRSet"]["AY_ZLYS"]~=i("5")and g["PlayerHP"]<g["WRSet"]["AY_ZLYS"]/i("10")then local p={[i("1")]="振奋治疗药水",[i("2")]="梦行者治疗药水",[i("3")]="凋零梦境药水"}for k,q in g["ipairs"](p)do local n=g["GetItemCount"](q)local l,m,o=g["GetItemCooldown"](q)if n~=e and n>=i("1")and l+m-g["GetTime"]()<=i("0")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF7","治疗药水",g["zhandoumoshi"])return end end end;if g["WRSet"]["AY_JYS"]==i("1")and g["WR_SpellUsable"]("渐隐术")and g["UnitAffectingCombat"]("player")and(g["IsPlayerSpell"](i("373446"))and(g["PlayerHP"]<=i("0.3")or g["Resist"])or g["IsPlayerSpell"](i("108942"))and g["WR_ZiYouZhuFu"]("player"))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF3","渐隐术",g["zhandoumoshi"])return end;if g["WRSet"]["AY_XS"]~=i("5")and g["WR_SpellUsable"]("消散")and g["PlayerHP"]<=g["WRSet"]["AY_XS"]/i("10")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF4","消散",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("沉默")then if g["WRSet"]["AY_CM"]~=i("3")and g["WR_GetUnitRange"]("target")<=i("40")and g["WR_TargetInCombat"]("target")and g["WR_GetCastInterruptible"]("target",g["InterruptTime"])then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACN5","沉默T",g["zhandoumoshi"])return end;if g["WRSet"]["AY_CM"]==i("1")and g["WR_GetUnitRange"]("mouseover")<=i("40")and g["WR_TargetInCombat"]("mouseover")and g["WR_GetCastInterruptible"]("mouseover",g["InterruptTime"])then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACN8","沉默M",g["zhandoumoshi"])return end end;if g["GCD"]>g["ShiFaSuDu"]then g["WR_HideColorFrame"](i("0"))g["WR_HideColorFrame"](i("1"))return end;if g["WR_SpellUsable"]("净化疾病")and g["WR_GetUnitRange"]("mouseover")<=i("40")and g["UnitName"]("mouseover")=="受难之魂"then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSG","净化受难",g["zhandoumoshi"])return end;if g["WRSet"]["AY_JHJB"]==i("1")and g["WR_SpellUsable"]("净化疾病")then if g["WR_CanRemoveUnitDebuff"]("player")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF1","净化P",g["zhandoumoshi"])return end;if not g["UnitCanAttack"]("player","party1")and g["WR_CanRemoveUnitDebuff"]("party1")and g["WR_GetUnitRange"]("party1")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF2","净化P1",g["zhandoumoshi"])return end;if not g["UnitCanAttack"]("player","party2")and g["WR_CanRemoveUnitDebuff"]("party2")and g["WR_GetUnitRange"]("party2")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF3","净化P2",g["zhandoumoshi"])return end;if not g["UnitCanAttack"]("player","party3")and g["WR_CanRemoveUnitDebuff"]("party3")and g["WR_GetUnitRange"]("party3")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF4","净化P3",g["zhandoumoshi"])return end;if not g["UnitCanAttack"]("player","party4")and g["WR_CanRemoveUnitDebuff"]("party4")and g["WR_GetUnitRange"]("party4")<=i("40")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF5","净化P4",g["zhandoumoshi"])return end end;if g["UnitName"]("mouseover")=="虚体生物"and g["UnitCastingInfo"]("mouseover")~=e and not g["PlayerMove"]then if g["IsPlayerSpell"](i("205364"))and g["IsSpellInRange"]("统御意志","mouseover")==i("1")and not g["WR_StopCast"](g["WR_GetTrueCastTime"](i("1.8")))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ASF9","统御意志",g["zhandoumoshi"])return end;if g["IsPlayerSpell"](i("9484"))and g["IsSpellInRange"]("束缚亡灵","mouseover")==i("1")and not g["WR_StopCast"](g["WR_GetTrueCastTime"](i("1.5")))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF8","束缚亡灵",g["zhandoumoshi"])return end end;if g["WRSet"]["AY_QSMF"]==i("1")and g["IsPlayerSpell"](i("528"))and g["PlayerInCombat"]then if g["WR_GetUnitRange"]("target")<=i("30")and g["UnitCanAttack"]("player","target")and g["WR_GetUnitBuffType"]("target","Magic")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ASF11","驱散T",g["zhandoumoshi"])return end;if g["WR_GetUnitRange"]("party1target")<=i("30")and g["UnitCanAttack"]("player","party1target")and g["WR_GetUnitBuffType"]("party1target","Magic")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ASF3","驱散P1",g["zhandoumoshi"])return end;if g["WR_GetUnitRange"]("party2target")<=i("30")and g["UnitCanAttack"]("player","party2target")and g["WR_GetUnitBuffType"]("party2target","Magic")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ASF5","驱散P2",g["zhandoumoshi"])return end;if g["WR_GetUnitRange"]("party3target")<=i("30")and g["UnitCanAttack"]("player","party3target")and g["WR_GetUnitBuffType"]("party3target","Magic")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ASF6","驱散P3",g["zhandoumoshi"])return end;if g["WR_GetUnitRange"]("party4target")<=i("30")and g["UnitCanAttack"]("player","party4target")and g["WR_GetUnitBuffType"]("party4target","Magic")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ASF7","驱散P4",g["zhandoumoshi"])return end end;if g["WR_SpellUsable"]("暗影形态")and g["WR_GetUnitBuffInfo"]("player","暗影形态")==i("0")and g["WR_GetUnitBuffInfo"]("player","虚空形态")==i("0")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF9","暗影形态",g["zhandoumoshi"])return end;if g["WR_PartyNotBuff"]("真言术：韧")and g["BuffTime_XKXT"]==i("0")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSO","真言术韧",g["zhandoumoshi"])return end;if g["WR_PriestShadow_ZYSD_Me"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACSF9","盾",g["zhandoumoshi"])return end;if g["WR_PriestShadow_KSZL_FHSG"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACSF8","防护快疗",g["zhandoumoshi"])return end;if not g["TargetInCombat"]then g["WR_HideColorFrame"](i("0"))g["WR_HideColorFrame"](i("1"))return end;if g["WR_SpellUsable"]("暗影冲撞")and g["WR_GetUnitRange"]("target")<=i("40")and g["TargetInCombat"]and(g["AvgDeathTime"]>i("8")or g["InTraining"])and(g["RangeHarmUnitCount40"]>=i("2")or g["InTraining"])and(g["DebuffTime_XXGZC"]<=i("6.3")and g["BuffTime_XKXT"]==i("0")and g["ChannelName"]==e or g["DebuffTime_XXGZC"]<=i("1"))then if g["WRSet"]["AY_AYCZ"]==i("1")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSP","提示冲撞",g["zhandoumoshi"])return end;if g["WRSet"]["AY_AYCZ"]==i("2")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSU","指向冲撞",g["zhandoumoshi"])return end end;if g["WR_SpellUsable"]("吸血鬼之触")and g["WR_GetUnitRange"]("target")<=i("40")and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("1.5"))+i("0.2"))and g["CastingName"]~="吸血鬼之触"and g["DebuffTime_XXGZC"]<=i("6.3")and g["TargetInCombat"]and(g["CD_AYCZ"]>i("5")and g["CD_AYCZ"]<i("18")or g["WRSet"]["AY_AYCZ"]==i("3")and g["CD_AYCZ"]<=g["GCD"]and g["DebuffTime_XXGZC"]==i("0")or not g["InTraining"]and(g["RangeHarmUnitCount40"]<=i("1")or g["AvgDeathTime"]<=i("8"))or not g["IsPlayerSpell"](i("205385")))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF7","触",g["zhandoumoshi"])return end;if g["WRSet"]["AY_XXGDYB"]==i("1")and g["WR_SpellUsable"]("吸血鬼的拥抱")and g["WR_GetUnitBuffInfo"]("player","虚空形态")>i("12")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSB","吸血鬼",g["zhandoumoshi"])return end;if g["CD_AYCZ"]>i("0")or g["DebuffTime_XXGZC"]>i("0")or g["CastingName"]=="吸血鬼之触"then if g["zhandoumoshi"]==i("1")and g["WRSet"]["AY_AYM"]==i("1")and g["WR_SpellUsable"]("暗影魔")and g["WR_GetUnitRange"]("target")<=i("40")and g["BuffTime_XKXT"]==i("0")and g["BuffTime_AYZB"]==i("0")and g["ChannelName"]==e then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSZ","暗影魔1",g["zhandoumoshi"])return end;if g["WRSet"]["AY_XKBF"]==i("1")and g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("虚空爆发")and g["WR_GetUnitRange"]("target")<=i("40")and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("1.5"))+i("0.2"))and g["CastingName"]~="虚空爆发"then if g["WRSet"]["AY_BFYS"]==i("1")then local r={[i("1")]="飞逝元素究极强能药水",[i("2")]="元素究极强能药水",[i("3")]="元素强能药水"}local s;for k,t in g["ipairs"](r)do local n=g["GetItemCount"](t)local l,m,o=g["GetItemCooldown"](t)if n~=e and n>=i("1")and l+m-g["GetTime"]()<=i("0")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSF9","爆发药水",g["zhandoumoshi"])return end end end;if g["zhandoumoshi"]==i("1")then if(g["WRSet"]["AY_SP"]==i("1")or g["WRSet"]["AY_SP"]==i("3"))and g["WR_GetEquipCD"](i("13"))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACF2","饰品1",g["zhandoumoshi"])return end;if(g["WRSet"]["AY_SP"]==i("2")or g["WRSet"]["AY_SP"]==i("3"))and g["WR_GetEquipCD"](i("14"))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACF3","饰品2",g["zhandoumoshi"])return end end;if g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("能量灌注")then if g["WRSet"]["AY_NLGZ"]==i("1")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACF5","能量灌注1",g["zhandoumoshi"])return end;if g["WRSet"]["AY_NLGZ"]==i("2")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACF6","能量灌注2",g["zhandoumoshi"])return end;if g["WRSet"]["AY_NLGZ"]==i("3")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACF7","能量灌注3",g["zhandoumoshi"])return end;if g["WRSet"]["AY_NLGZ"]==i("4")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACF9","能量灌注4",g["zhandoumoshi"])return end end;g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF6","虚空爆发",g["zhandoumoshi"])return end;if g["BuffTime_AYZB"]>g["GCD"]then if g["BuffTime_AYZB"]>g["WR_GetMaxGCD"](i("1.5"))and g["WR_PriestShadow_XLZB_MAX"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSN","暗焰满震",g["zhandoumoshi"])return end;if g["WR_PriestShadow_XKJ"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF6","暗焰虚箭",g["zhandoumoshi"])return end;if g["BuffTime_AYZB"]>g["WR_GetMaxGCD"](i("1.5"))and g["WR_PriestShadow_XLZB"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSN","暗焰震爆",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("噬灵疫病")and g["WR_GetUnitRange"]("target")<=i("40")and(g["BuffCount_AYYJ"]<i("3")or g["zhandoumoshi"]==i("1"))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF10","暗焰噬病",g["zhandoumoshi"])return end end;if g["WR_PriestShadow_XKJ"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF6","虚空箭",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("噬灵疫病")and g["WR_GetUnitRange"]("target")<=i("40")and(g["BuffCount_AYYJ"]<i("3")or g["zhandoumoshi"]==i("1"))and(g["BuffTime_XKXT"]>g["GCD"]or g["BuffTime_XKXT"]==i("0")and g["DebuffTime_SLYB"]<i("1.8")and(g["CD_XKBF"]>g["DebuffTime_SLYB"]or g["WRSet"]["AY_XKBF"]==i("2")))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF10","噬灵疫病",g["zhandoumoshi"])return end;if g["WR_PriestShadow_XLZB_MAX"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSN","满震",g["zhandoumoshi"])return end;if g["WR_PriestShadow_XLZB"]()and g["WR_SpellUsable"]("虚空洪流")and g["BuffTime_XKXT"]>g["CD_XKJ"]+g["GCD"]and g["BuffTime_XKXT"]>g["CastTime_XLZB"]+g["GCD"]+i("0.2")and g["CD_XKJ"]<g["CastTime_XLZB"]+g["GCD"]then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSN","震爆后剑",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("虚空洪流")and g["WR_GetUnitRange"]("target")<=i("40")and g["WRSet"]["AY_XKHL"]==i("1")and not g["PlayerMove"]and not g["WR_StopCast"](i("3")+i("0.2"))and g["ChannelName"]==e and(g["zhandoumoshi"]==i("1")or g["InsanityPower"]<i("70"))and(g["DebuffTime_SLYB"]>i("2.5")or g["BuffTime_XKXT"]>i("2.5")and g["CD_XKJ"]>i("2.5"))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CF11","虚空洪流",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("控心术")and g["WR_GetUnitRange"]("target")<=i("40")and g["CastingName"]~="控心术"and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("1.5"))+i("0.2"))and g["ChannelName"]==e then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("ACN7","控心术",g["zhandoumoshi"])return end;if g["zhandoumoshi"]==i("1")and g["WRSet"]["AY_AYM"]==i("1")and g["WR_SpellUsable"]("暗影魔")and g["WR_GetUnitRange"]("target")<=i("40")and g["ChannelName"]==e then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSZ","暗影魔2",g["zhandoumoshi"])return end;if g["WR_PriestShadow_XLZB"]()then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSN","心灵震爆",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("光晕")and g["BuffTime_AYZB"]==i("0")and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("1.5"))+i("0.2"))and g["ChannelName"]==e and(g["InTraining"]or g["RangeHarmUnitCount30"]>=i("2")and g["AvgDeathTime"]>i("20"))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("SF8","光晕",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("精神鞭笞")and g["WR_GetUnitRange"]("target")<=i("40")and not g["PlayerMove"]and g["ChannelName"]==e and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("3"))+i("0.2"))and g["BuffTime_JSBCK"]>i("0")and(g["BuffTime_XKXT"]==i("0")or g["BuffTime_XKXT"]>i("0")and g["CD_XKJ"]<g["BuffTime_XKXT"]and(g["BuffCount_JSBCK"]>=i("2")and g["CD_XKJ"]>g["WR_GetMaxGCD"](i("1.5"))or g["BuffCount_JSBCK"]==i("1")and g["CD_XKJ"]>g["WR_GetMaxGCD"](i("3"))))then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSH","狂鞭",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("暗言术：灭")and g["WR_GetUnitRange"]("target")<=i("40")and g["UnitHealth"]("target")/g["UnitHealthMax"]("target")<i("0.2")and g["ChannelName"]==e then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSJ","灭",g["zhandoumoshi"])return end;if g["WR_SpellUsable"]("精神鞭笞")and g["WR_GetUnitRange"]("target")<=i("40")and not g["PlayerMove"]and g["ChannelName"]==e and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("4.5"))+i("0.2"))and g["BuffTime_XKXT"]==i("0")then g["WR_HideColorFrame"](g["zhandoumoshi"])g["WR_ShowColorFrame"]("CSH","精神鞭笞",g["zhandoumoshi"])return end end;g["WR_HideColorFrame"](g["zhandoumoshi"])if g["MSG"]==i("1")then end end;g["WR_PriestShadow_XLZB"]=function()if(g["GetSpellCharges"]("心灵震爆")>=i("1")or g["CastingName"]=="虚空爆发")and g["WR_GetUnitRange"]("target")<=i("40")and(not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetMaxGCD"](i("1.5"))+i("0.2"))or g["BuffTime_AYDC"]>i("0"))then return d end;return c end;g["WR_PriestShadow_XLZB_MAX"]=function()if g["WR_PriestShadow_XLZB"]()and(g["CastingName"]~="心灵震爆"and(g["GetSpellCharges"]("心灵震爆")==i("2")or g["CD_XLZB"]<g["GCD_Max"])or g["zhandoumoshi"]==i("1")and g["CD_XKBF"]<g["WR_GetMaxGCD"](i("1.5")))then return d end;return c end;g["WR_PriestShadow_XKJ"]=function()if g["WR_SpellUsable"]("虚空箭")and g["WR_GetUnitRange"]("target")<=i("40")and(g["BuffTime_XKXT"]>i("0")or g["CD_XKBF"]>=i("119.7")or g["CastingName"]=="虚空爆发")then return d end;return c end;g["WR_PriestShadow_ZYSD_Me"]=function()if g["WRSet"]["AY_ZYSD"]==i("1")and g["WR_SpellUsable"]("真言术：盾")and g["WR_GetUnitBuffInfo"]("player","真言术：盾")==i("0")and g["PlayerInCombat"]and(g["ResistOutburst"]or g["MustDefenseSpell"]or g["PlayerHP"]<i("0.3")or g["WR_Mustheal"]("player"))then return d end;return c end;g["WR_PriestShadow_KSZL_FHSG"]=function()if g["WRSet"]["AY_FHSG"]==i("1")and g["WR_SpellUsable"]("快速治疗")and g["IsPlayerSpell"](i("193063"))and g["WR_GetUnitBuffInfo"]("player","防护圣光")==i("0")and g["UnitCastingInfo"]("player")~="快速治疗"and(g["ResistOutburst"]or g["MustDefenseSpell"])and(g["WR_GetInRiadOrParty"]()~="raid"and not g["PlayerMove"]and not g["WR_StopCast"](g["WR_GetTrueCastTime"](i("1.4"))))then return d end;return c end end)()