local a=34;local b=72;local c=17;local d=71;local e=16;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_PriestShadow"]=function()if j["GetSpecialization"]()~=l("3")then return end;j["ShiFaSuDu"]=l("0.3")j["WR_LFGList"]()j["WR_AllUnitRange"]={}j["WR_BuffInfo_All"]={}local m={[l("1")]=l("202540"),[l("2")]=l("202541"),[l("3")]=l("202542"),[l("4")]=l("202543"),[l("5")]=l("202545"),[l("6")]=l("217201"),[l("7")]=l("217202"),[l("8")]=l("217203"),[l("9")]=l("217204"),[l("10")]=l("217205")}j["T101Count"]=j["WR_GetSuit"](m)j["PlayerInCombat"]=j["UnitAffectingCombat"]("player")j["ResistOutburst"]=j["WR_ResistOutburst"](l("5"))j["MustDefenseSpell"]=j["WR_MustDefenseSpell"]()j["Resist"]=f;if j["WR_ResistSustained"]()or j["ResistOutburst"]or j["MustDefenseSpell"]then j["Resist"]=g end;j["InsanityPower"]=j["UnitPower"]("player",l("13"))j["GCD"]=j["WR_GetGCD"]("真言术：韧")j["GCD_Max"]=j["WR_GetMaxGCD"](l("1.5"))j["CastTime_JSBC"]=j["WR_GetMaxGCD"](l("4.5"))j["CastTime_XLZB"]=j["WR_GetMaxGCD"](l("1.5"))j["CD_XKBF"]=j["WR_GetSpellCD"](l("228260"))if j["CD_XKBF"]<=j["GCD"]then j["CD_XKBF"]=l("0")end;j["CD_XKJ"]=j["WR_GetSpellCD"](l("205448"))if j["CD_XKJ"]<=j["GCD"]then j["CD_XKJ"]=l("0")end;j["CD_AYCZ"]=j["WR_GetSpellCD"]("暗影冲撞")if j["CD_AYCZ"]<=j["GCD"]then j["CD_AYCZ"]=l("0")end;local n,n,o,p,n=j["GetSpellCharges"]("心灵震爆")j["CD_XLZB"]=o+p-j["GetTime"]()if j["CD_XLZB"]>p then j["CD_XLZB"]=l("0")end;j["DebuffTime_SLYB"]=j["WR_GetUnitDebuffInfo"]("target","噬灵疫病",g)j["DebuffTime_XXGZC"]=j["WR_GetUnitDebuffInfo"]("target","吸血鬼之触",g)j["BuffTime_HS"],j["BuffCount_HS"],j["BuffSum_HS"]=j["WR_GetUnitBuffInfo"]("player","喝水")j["BuffTime_YY"],j["BuffCount_YY"],j["BuffSum_YY"]=j["WR_GetUnitBuffInfo"]("player","饮用")j["BuffTime_JSYS"],j["BuffCount_JSYS"],j["BuffSum_JSYS"]=j["WR_GetUnitBuffInfo"]("player","进食饮水")j["BuffTime_XKXT"],j["BuffCount_XKXT"],j["BuffSum_XKXT"]=j["WR_GetUnitBuffInfo"]("player","虚空形态")j["BuffTime_JSBCK"],j["BuffCount_JSBCK"],j["BuffSum_JSBCK"]=j["WR_GetUnitBuffInfo"]("player","精神鞭笞：狂")j["BuffTime_AYZB"],j["BuffCount_AYZB"],j["BuffSum_AYZB"]=j["WR_GetUnitBuffInfo"]("player","暗焰遮蔽")j["BuffTime_AYDC"],j["BuffCount_AYDC"],j["BuffSum_AYDC"]=j["WR_GetUnitBuffInfo"]("player","暗影洞察")j["BuffTime_AYYJ"],j["BuffCount_AYYJ"],j["BuffSum_AYYJ"]=j["WR_GetUnitBuffInfo"]("player","暗焰余烬")j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")j["PartyLostHP"]=j["WR_PartyLostHP"]("快速治疗")j["TargetDeathTime"]=j["WR_GetUnitDeathTime"]("target")j["AvgDeathTime"]=j["WR_GetSpellRangeAvgDeathTime"]("心灵震爆")j["PlayerMove"]=j["WR_GetPlayerMove"]()j["InTraining"]=j["WR_InTraining"]()j["RangeHarmUnitCount30"]=j["WR_GetRangeHarmUnitCount"](l("30"),not j["InTraining"])j["RangeHarmUnitCount40"]=j["WR_GetRangeHarmUnitCount"](l("40"),not j["InTraining"])j["EndGame"]=j["WR_EndGame"]()j["CastingName"]=j["UnitCastingInfo"]("player")j["ChannelName"]=j["UnitChannelInfo"]("player")j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["PartyInCombat"]=j["WR_PartyInCombat"]()if j["WR_CreateMacroButtonInfo"]~=g and not j["UnitAffectingCombat"]("player")and j["WR_CreateMacroButtonPass"]()~=h then j["WR_CreateMacroButtonInfo"]=g;j["WR_PriestCreateMacroButton"]()end;if j["IsFlying"]()or j["UnitIsDead"]("player")or j["BuffTime_HS"]>l("0")or j["BuffTime_YY"]>l("0")or j["BuffTime_JSYS"]>l("0")or j["SpellIsTargeting"]()or j["ChannelName"]=="虚空洪流"then j["WR_HideColorFrame"](l("0"))j["WR_HideColorFrame"](l("1"))return end;if not j["UnitIsDead"]("player")and(j["PlayerInCombat"]or j["WR_InTraining"]())then j["WR_CombatFrame"]["Show"](j["WR_CombatFrame"])else j["WR_CombatFrame"]["Hide"](j["WR_CombatFrame"])end;if j["zhandoumoshi"]~=l("1")then j["WR_HideColorFrame"](l("1"))j["WR_ShowColorFrame"]("ACSF1","爆发",l("1"))end;if j["zhandoumoshi"]==l("1")then j["WR_HideColorFrame"](l("0"))j["WR_ShowColorFrame"]("ACF10","平伤",l("0"))end;if j["WRSet"]["AY_ZNMB"]==l("1")and j["PartyInCombat"]and j["RangeHarmUnitCount40"]>=l("1")and not j["TargetInCombat"]then if j["UnitGroupRolesAssigned"]("party1")=="TANK"and j["WR_TargetInCombat"]("party1target")and j["WR_GetUnitRange"]("party1target")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACSF2","目标P1",j["zhandoumoshi"])return end;if j["UnitGroupRolesAssigned"]("party2")=="TANK"and j["WR_TargetInCombat"]("party2target")and j["WR_GetUnitRange"]("party2target")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACSF3","目标P2",j["zhandoumoshi"])return end;if j["UnitGroupRolesAssigned"]("party3")=="TANK"and j["WR_TargetInCombat"]("party3target")and j["WR_GetUnitRange"]("party3target")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACSF5","目标P3",j["zhandoumoshi"])return end;if j["UnitGroupRolesAssigned"]("party4")=="TANK"and j["WR_TargetInCombat"]("party4target")and j["WR_GetUnitRange"]("party4target")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACSF6","目标P4",j["zhandoumoshi"])return end end;if j["WRSet"]["AY_JWDY"]~=l("5")and j["WR_SpellUsable"]("绝望祷言")and j["PlayerHP"]<=j["WRSet"]["AY_JWDY"]/l("10")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF5","绝望祷言",j["zhandoumoshi"])return end;if j["WRSet"]["AY_ZLS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["AY_ZLS"]/l("10")then local q=j["GetItemCount"]("治疗石")local o,p,r=j["GetItemCooldown"]("治疗石")if q~=h and q>=l("1")and o+p-j["GetTime"]()<=l("0")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF6","治疗石",j["zhandoumoshi"])return end end;if j["WRSet"]["AY_ZLYS"]~=l("5")and j["PlayerHP"]<j["WRSet"]["AY_ZLYS"]/l("10")then local s={[l("1")]="振奋治疗药水",[l("2")]="梦行者治疗药水",[l("3")]="凋零梦境药水"}for n,t in j["ipairs"](s)do local q=j["GetItemCount"](t)local o,p,r=j["GetItemCooldown"](t)if q~=h and q>=l("1")and o+p-j["GetTime"]()<=l("0")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF7","治疗药水",j["zhandoumoshi"])return end end end;if j["WRSet"]["AY_JYS"]==l("1")and j["WR_SpellUsable"]("渐隐术")and j["UnitAffectingCombat"]("player")and(j["IsPlayerSpell"](l("373446"))and(j["PlayerHP"]<=l("0.3")or j["Resist"])or j["IsPlayerSpell"](l("108942"))and j["WR_ZiYouZhuFu"]("player"))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF3","渐隐术",j["zhandoumoshi"])return end;if j["WRSet"]["AY_XS"]~=l("5")and j["WR_SpellUsable"]("消散")and j["PlayerHP"]<=j["WRSet"]["AY_XS"]/l("10")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF4","消散",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("沉默")then if j["WRSet"]["AY_CM"]~=l("3")and j["WR_GetUnitRange"]("target")<=l("40")and j["WR_TargetInCombat"]("target")and j["WR_GetCastInterruptible"]("target",j["InterruptTime"])then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACN5","沉默T",j["zhandoumoshi"])return end;if j["WRSet"]["AY_CM"]==l("1")and j["WR_GetUnitRange"]("mouseover")<=l("40")and j["WR_TargetInCombat"]("mouseover")and j["WR_GetCastInterruptible"]("mouseover",j["InterruptTime"])then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACN8","沉默M",j["zhandoumoshi"])return end end;if j["GCD"]>j["ShiFaSuDu"]then j["WR_HideColorFrame"](l("0"))j["WR_HideColorFrame"](l("1"))return end;if j["WR_SpellUsable"]("净化疾病")and j["WR_GetUnitRange"]("mouseover")<=l("40")and j["UnitName"]("mouseover")=="受难之魂"then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSG","净化受难",j["zhandoumoshi"])return end;if j["WRSet"]["AY_JHJB"]==l("1")and j["WR_SpellUsable"]("净化疾病")then if j["WR_CanRemoveUnitDebuff"]("player")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF1","净化P",j["zhandoumoshi"])return end;if not j["UnitCanAttack"]("player","party1")and j["WR_CanRemoveUnitDebuff"]("party1")and j["WR_GetUnitRange"]("party1")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF2","净化P1",j["zhandoumoshi"])return end;if not j["UnitCanAttack"]("player","party2")and j["WR_CanRemoveUnitDebuff"]("party2")and j["WR_GetUnitRange"]("party2")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF3","净化P2",j["zhandoumoshi"])return end;if not j["UnitCanAttack"]("player","party3")and j["WR_CanRemoveUnitDebuff"]("party3")and j["WR_GetUnitRange"]("party3")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF4","净化P3",j["zhandoumoshi"])return end;if not j["UnitCanAttack"]("player","party4")and j["WR_CanRemoveUnitDebuff"]("party4")and j["WR_GetUnitRange"]("party4")<=l("40")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF5","净化P4",j["zhandoumoshi"])return end end;if j["UnitName"]("mouseover")=="虚体生物"and j["UnitCastingInfo"]("mouseover")~=h and not j["PlayerMove"]then if j["IsPlayerSpell"](l("205364"))and j["IsSpellInRange"]("统御意志","mouseover")==l("1")and not j["WR_StopCast"](j["WR_GetTrueCastTime"](l("1.8")))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ASF9","统御意志",j["zhandoumoshi"])return end;if j["IsPlayerSpell"](l("9484"))and j["IsSpellInRange"]("束缚亡灵","mouseover")==l("1")and not j["WR_StopCast"](j["WR_GetTrueCastTime"](l("1.5")))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF8","束缚亡灵",j["zhandoumoshi"])return end end;if j["WRSet"]["AY_QSMF"]==l("1")and j["IsPlayerSpell"](l("528"))and j["PlayerInCombat"]then if j["WR_GetUnitRange"]("target")<=l("30")and j["UnitCanAttack"]("player","target")and j["WR_GetUnitBuffType"]("target","Magic")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ASF11","驱散T",j["zhandoumoshi"])return end;if j["WR_GetUnitRange"]("party1target")<=l("30")and j["UnitCanAttack"]("player","party1target")and j["WR_GetUnitBuffType"]("party1target","Magic")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ASF3","驱散P1",j["zhandoumoshi"])return end;if j["WR_GetUnitRange"]("party2target")<=l("30")and j["UnitCanAttack"]("player","party2target")and j["WR_GetUnitBuffType"]("party2target","Magic")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ASF5","驱散P2",j["zhandoumoshi"])return end;if j["WR_GetUnitRange"]("party3target")<=l("30")and j["UnitCanAttack"]("player","party3target")and j["WR_GetUnitBuffType"]("party3target","Magic")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ASF6","驱散P3",j["zhandoumoshi"])return end;if j["WR_GetUnitRange"]("party4target")<=l("30")and j["UnitCanAttack"]("player","party4target")and j["WR_GetUnitBuffType"]("party4target","Magic")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ASF7","驱散P4",j["zhandoumoshi"])return end end;if j["WR_SpellUsable"]("暗影形态")and j["WR_GetUnitBuffInfo"]("player","暗影形态")==l("0")and j["WR_GetUnitBuffInfo"]("player","虚空形态")==l("0")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF9","暗影形态",j["zhandoumoshi"])return end;if j["WR_PartyNotBuff"]("真言术：韧")and j["BuffTime_XKXT"]==l("0")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSO","真言术韧",j["zhandoumoshi"])return end;if j["WR_PriestShadow_ZYSD_Me"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACSF9","盾",j["zhandoumoshi"])return end;if j["WR_PriestShadow_KSZL_FHSG"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACSF8","防护快疗",j["zhandoumoshi"])return end;if not j["TargetInCombat"]then j["WR_HideColorFrame"](l("0"))j["WR_HideColorFrame"](l("1"))return end;if j["WR_SpellUsable"]("暗影冲撞")and j["WR_GetUnitRange"]("target")<=l("40")and j["TargetInCombat"]and(j["AvgDeathTime"]>l("8")or j["InTraining"])and(j["RangeHarmUnitCount40"]>=l("2")or j["InTraining"])and(j["DebuffTime_XXGZC"]<=l("6.3")and j["BuffTime_XKXT"]==l("0")and j["ChannelName"]==h or j["DebuffTime_XXGZC"]<=l("1"))then if j["WRSet"]["AY_AYCZ"]==l("1")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSP","提示冲撞",j["zhandoumoshi"])return end;if j["WRSet"]["AY_AYCZ"]==l("2")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSU","指向冲撞",j["zhandoumoshi"])return end end;if j["WR_SpellUsable"]("吸血鬼之触")and j["WR_GetUnitRange"]("target")<=l("40")and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("1.5"))+l("0.2"))and j["CastingName"]~="吸血鬼之触"and j["DebuffTime_XXGZC"]<=l("6.3")and j["TargetInCombat"]and(j["CD_AYCZ"]>l("5")and j["CD_AYCZ"]<l("18")or j["WRSet"]["AY_AYCZ"]==l("3")and j["CD_AYCZ"]<=j["GCD"]and j["DebuffTime_XXGZC"]==l("0")or not j["InTraining"]and(j["RangeHarmUnitCount40"]<=l("1")or j["AvgDeathTime"]<=l("8"))or not j["IsPlayerSpell"](l("205385")))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF7","触",j["zhandoumoshi"])return end;if j["WRSet"]["AY_XXGDYB"]==l("1")and j["WR_SpellUsable"]("吸血鬼的拥抱")and j["WR_GetUnitBuffInfo"]("player","虚空形态")>l("12")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSB","吸血鬼",j["zhandoumoshi"])return end;if j["CD_AYCZ"]>l("0")or j["DebuffTime_XXGZC"]>l("0")or j["CastingName"]=="吸血鬼之触"then if j["zhandoumoshi"]==l("1")and j["WRSet"]["AY_AYM"]==l("1")and j["WR_SpellUsable"]("暗影魔")and j["WR_GetUnitRange"]("target")<=l("40")and j["BuffTime_XKXT"]==l("0")and j["BuffTime_AYZB"]==l("0")and j["ChannelName"]==h then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSZ","暗影魔1",j["zhandoumoshi"])return end;if j["WRSet"]["AY_XKBF"]==l("1")and j["zhandoumoshi"]==l("1")and j["WR_SpellUsable"]("虚空爆发")and j["WR_GetUnitRange"]("target")<=l("40")and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("1.5"))+l("0.2"))and j["CastingName"]~="虚空爆发"then if j["WRSet"]["AY_BFYS"]==l("1")then local u={[l("1")]="飞逝元素究极强能药水",[l("2")]="元素究极强能药水",[l("3")]="元素强能药水"}local v;for n,w in j["ipairs"](u)do local q=j["GetItemCount"](w)local o,p,r=j["GetItemCooldown"](w)if q~=h and q>=l("1")and o+p-j["GetTime"]()<=l("0")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSF9","爆发药水",j["zhandoumoshi"])return end end end;if j["zhandoumoshi"]==l("1")then if(j["WRSet"]["AY_SP"]==l("1")or j["WRSet"]["AY_SP"]==l("3"))and j["WR_GetEquipCD"](l("13"))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACF2","饰品1",j["zhandoumoshi"])return end;if(j["WRSet"]["AY_SP"]==l("2")or j["WRSet"]["AY_SP"]==l("3"))and j["WR_GetEquipCD"](l("14"))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACF3","饰品2",j["zhandoumoshi"])return end end;if j["zhandoumoshi"]==l("1")and j["WR_SpellUsable"]("能量灌注")then if j["WRSet"]["AY_NLGZ"]==l("1")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACF5","能量灌注1",j["zhandoumoshi"])return end;if j["WRSet"]["AY_NLGZ"]==l("2")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACF6","能量灌注2",j["zhandoumoshi"])return end;if j["WRSet"]["AY_NLGZ"]==l("3")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACF7","能量灌注3",j["zhandoumoshi"])return end;if j["WRSet"]["AY_NLGZ"]==l("4")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACF9","能量灌注4",j["zhandoumoshi"])return end end;j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF6","虚空爆发",j["zhandoumoshi"])return end;if j["BuffTime_AYZB"]>j["GCD"]then if j["BuffTime_AYZB"]>j["WR_GetMaxGCD"](l("1.5"))and j["WR_PriestShadow_XLZB_MAX"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSN","暗焰满震",j["zhandoumoshi"])return end;if j["WR_PriestShadow_XKJ"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF6","暗焰虚箭",j["zhandoumoshi"])return end;if j["BuffTime_AYZB"]>j["WR_GetMaxGCD"](l("1.5"))and j["WR_PriestShadow_XLZB"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSN","暗焰震爆",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("噬灵疫病")and j["WR_GetUnitRange"]("target")<=l("40")and(j["BuffCount_AYYJ"]<l("3")or j["zhandoumoshi"]==l("1"))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF10","暗焰噬病",j["zhandoumoshi"])return end end;if j["WR_PriestShadow_XKJ"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF6","虚空箭",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("噬灵疫病")and j["WR_GetUnitRange"]("target")<=l("40")and(j["BuffCount_AYYJ"]<l("3")or j["zhandoumoshi"]==l("1"))and(j["BuffTime_XKXT"]>j["GCD"]or j["BuffTime_XKXT"]==l("0")and j["DebuffTime_SLYB"]<l("1.8")and(j["CD_XKBF"]>j["DebuffTime_SLYB"]or j["WRSet"]["AY_XKBF"]==l("2")))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF10","噬灵疫病",j["zhandoumoshi"])return end;if j["WR_PriestShadow_XLZB_MAX"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSN","满震",j["zhandoumoshi"])return end;if j["WR_PriestShadow_XLZB"]()and j["WR_SpellUsable"]("虚空洪流")and j["BuffTime_XKXT"]>j["CD_XKJ"]+j["GCD"]and j["BuffTime_XKXT"]>j["CastTime_XLZB"]+j["GCD"]+l("0.2")and j["CD_XKJ"]<j["CastTime_XLZB"]+j["GCD"]then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSN","震爆后剑",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("虚空洪流")and j["WR_GetUnitRange"]("target")<=l("40")and j["WRSet"]["AY_XKHL"]==l("1")and not j["PlayerMove"]and not j["WR_StopCast"](l("3")+l("0.2"))and j["ChannelName"]==h and(j["zhandoumoshi"]==l("1")or j["InsanityPower"]<l("70"))and(j["DebuffTime_SLYB"]>l("2.5")or j["BuffTime_XKXT"]>l("2.5")and j["CD_XKJ"]>l("2.5"))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CF11","虚空洪流",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("控心术")and j["WR_GetUnitRange"]("target")<=l("40")and j["CastingName"]~="控心术"and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("1.5"))+l("0.2"))and j["ChannelName"]==h then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("ACN7","控心术",j["zhandoumoshi"])return end;if j["zhandoumoshi"]==l("1")and j["WRSet"]["AY_AYM"]==l("1")and j["WR_SpellUsable"]("暗影魔")and j["WR_GetUnitRange"]("target")<=l("40")and j["ChannelName"]==h then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSZ","暗影魔2",j["zhandoumoshi"])return end;if j["WR_PriestShadow_XLZB"]()then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSN","心灵震爆",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("光晕")and j["BuffTime_AYZB"]==l("0")and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("1.5"))+l("0.2"))and j["ChannelName"]==h and(j["InTraining"]or j["RangeHarmUnitCount30"]>=l("2")and j["AvgDeathTime"]>l("20"))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("SF8","光晕",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("精神鞭笞")and j["WR_GetUnitRange"]("target")<=l("40")and not j["PlayerMove"]and j["ChannelName"]==h and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("3"))+l("0.2"))and j["BuffTime_JSBCK"]>l("0")and(j["BuffTime_XKXT"]==l("0")or j["BuffTime_XKXT"]>l("0")and j["CD_XKJ"]<j["BuffTime_XKXT"]and(j["BuffCount_JSBCK"]>=l("2")and j["CD_XKJ"]>j["WR_GetMaxGCD"](l("1.5"))or j["BuffCount_JSBCK"]==l("1")and j["CD_XKJ"]>j["WR_GetMaxGCD"](l("3"))))then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSH","狂鞭",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("暗言术：灭")and j["WR_GetUnitRange"]("target")<=l("40")and j["UnitHealth"]("target")/j["UnitHealthMax"]("target")<l("0.2")and j["ChannelName"]==h then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSJ","灭",j["zhandoumoshi"])return end;if j["WR_SpellUsable"]("精神鞭笞")and j["WR_GetUnitRange"]("target")<=l("40")and not j["PlayerMove"]and j["ChannelName"]==h and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("4.5"))+l("0.2"))and j["BuffTime_XKXT"]==l("0")then j["WR_HideColorFrame"](j["zhandoumoshi"])j["WR_ShowColorFrame"]("CSH","精神鞭笞",j["zhandoumoshi"])return end end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_PriestShadow_XLZB"]=function()if(j["GetSpellCharges"]("心灵震爆")>=l("1")or j["CastingName"]=="虚空爆发")and j["WR_GetUnitRange"]("target")<=l("40")and(not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetMaxGCD"](l("1.5"))+l("0.2"))or j["BuffTime_AYDC"]>l("0"))then return g end;return f end;j["WR_PriestShadow_XLZB_MAX"]=function()if j["WR_PriestShadow_XLZB"]()and(j["CastingName"]~="心灵震爆"and(j["GetSpellCharges"]("心灵震爆")==l("2")or j["CD_XLZB"]<j["GCD_Max"])or j["zhandoumoshi"]==l("1")and j["CD_XKBF"]<j["WR_GetMaxGCD"](l("1.5")))then return g end;return f end;j["WR_PriestShadow_XKJ"]=function()if j["WR_SpellUsable"]("虚空箭")and j["WR_GetUnitRange"]("target")<=l("40")and(j["BuffTime_XKXT"]>l("0")or j["CD_XKBF"]>=l("119.7")or j["CastingName"]=="虚空爆发")then return g end;return f end;j["WR_PriestShadow_ZYSD_Me"]=function()if j["WRSet"]["AY_ZYSD"]==l("1")and j["WR_SpellUsable"]("真言术：盾")and j["WR_GetUnitBuffInfo"]("player","真言术：盾")==l("0")and j["PlayerInCombat"]and(j["ResistOutburst"]or j["MustDefenseSpell"]or j["PlayerHP"]<l("0.3")or j["WR_Mustheal"]("player"))then return g end;return f end;j["WR_PriestShadow_KSZL_FHSG"]=function()if j["WRSet"]["AY_FHSG"]==l("1")and j["WR_SpellUsable"]("快速治疗")and j["IsPlayerSpell"](l("193063"))and j["WR_GetUnitBuffInfo"]("player","防护圣光")==l("0")and j["UnitCastingInfo"]("player")~="快速治疗"and(j["ResistOutburst"]or j["MustDefenseSpell"])and(j["WR_GetInRiadOrParty"]()~="raid"and not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"](l("1.4"))))then return g end;return f end end)()