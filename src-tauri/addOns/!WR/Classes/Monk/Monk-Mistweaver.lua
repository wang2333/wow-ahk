local a=53;local b=52;local c=15;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_MonkMistweaver"]=function()if h["GetSpecialization"]()~=j("2")then return end;h["ShiFaSuDu"]=j("0.05")+h["WRSet"]["ZW_SFSD"]*j("0.05")if h["UnitCastingInfo"]("player")=="氤氲之雾"then h["ShiFaSuDu"]=j("0")end;h["GCD"]=h["WR_GetGCD"]("猛虎掌")h["CD_HMT"]=h["WR_GetGCD"]("幻灭踢")h["CD_XRDST"]=h["WR_GetGCD"]("旭日东升踢")h["CD_CYB"]=h["WR_GetGCD"]("禅意波")h["CD_ZHXF"]=h["WR_GetGCD"]("朱鹤下凡")h["CD_LHZC"]=h["WR_GetGCD"]("轮回之触")h["CD_YHJM"]=h["WR_GetGCD"]("移花接木")h["CD_QCSX"]=h["WR_GetGCD"]("清创生血")h["CD_XRMH"]=h["WR_GetGCD"]("迅如猛虎")h["CD_FJCG"]=h["WR_GetGCD"]("分筋错骨")h["CD_STT"]=h["WR_GetGCD"]("扫堂腿")h["CD_QHS"]=h["WR_GetGCD"]("切喉手")h["CD_LGJSC"]=h["WR_GetGCD"]("雷光聚神茶")h["CD_ZJFM"]=h["WR_GetGCD"]("作茧缚命")h["FSZW_NextCharge"]=h["WR_GetSpellNextCharge"]("复苏之雾")h["FSZW_Charges"]=h["WR_GetSpellCharges"]("复苏之雾")h["PlayerInCombat"]=h["UnitAffectingCombat"]("player")h["MaxLatency"]=h["WR_GetMaxLatency"]()h["MaxLatency"]=h["MaxLatency"]+j("0.05")if h["MaxLatency"]<j("0.1")then h["Latency"]=j("0.1")else h["Latency"]=h["MaxLatency"]end;if h["MaxLatency"]>j("0.25")then h["Latency"]=j("0.25")else h["Latency"]=h["MaxLatency"]end;h["PlayerHP"]=j("1")if h["UnitHealthMax"]("player")~=j("0")then h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")end;h["Monk_Mistweaver"]()h["FocusHP"]=j("1")if h["UnitHealthMax"]("focus")~=j("0")then h["FocusHP"]=h["UnitHealth"]("focus")/h["UnitHealthMax"]("focus")end;h["PartyLostHP"]=h["WR_PartyLostHP"]("活血术")h["PlayerMove"]=h["WR_PlayerMove"]()if h["LastStopMoveTime"]==f or h["PlayerMove"]then h["LastStopMoveTime"]=h["GetTime"]()h["StopMoveTime"]=j("0")elseif not h["PlayerMove"]then h["StopMoveTime"]=h["GetTime"]()-h["LastStopMoveTime"]end;h["TargetRange"]=h["WR_GetUnitRange"]("target")h["TargetIsNearby"]=h["WR_GetUnitRange"]("target")<=j("5")h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["PartyInCombat"]=h["WR_PartyInCombat"]()h["FocusIsHelp"]=d;if h["UnitExists"]("focus")and not h["UnitIsDead"]("focus")and not h["UnitCanAttack"]("player","focus")and h["WR_GetUnitRange"]("focus")<=j("40")then h["FocusIsHelp"]=e end;h["AvgDeathTime"]=h["WR_GetRangeAvgDeathTime"](j("40"))h["InTraining"]=h["WR_InTraining"]()h["WR_GetPartyRange"]()h["WR_GetPartyLostHealth"]()h["HUCountRange6"]=h["WR_GetRangeHarmUnitCount"](j("6"),d)h["HUCountRange8"]=h["WR_GetRangeHarmUnitCount"](j("8"),d)h["HUCountRange30"]=h["WR_GetRangeHarmUnitCount"](j("30"),not h["InTraining"])h["ShenHeYinXiangTiChannelTime"]=h["WR_GetTrueCastTime"](j("1.5"))h["BuffTime_HLSX"],h["BuffCount_HLSX"],h["BuffSum_HLSX"]=h["WR_GetUnitBuffInfo"]("player","活力苏醒")h["BuffTime_ZHXF"],h["BuffCount_ZHXF"],h["BuffSum_ZHXF"]=h["WR_GetUnitBuffInfo"]("player","朱鹤下凡")h["BuffTime_LGJSC"],h["BuffCount_LGJSC"],h["BuffSum_LGJSC"]=h["WR_GetUnitBuffInfo"]("player","雷光聚神茶")h["BuffTime_CYJH"],h["BuffCount_CYJH"],h["BuffSum_CYJH"]=h["WR_GetUnitBuffInfo"]("player","禅院教诲")h["BuffTime_JXBH"],h["BuffCount_JXBH"],h["BuffSum_JXBH"]=h["WR_GetUnitBuffInfo"]("player","觉醒碧火")h["BuffTime_CJZW"],h["BuffCount_CJZW"],h["BuffSum_CJZW"]=h["WR_GetUnitBuffInfo"]("player","赤精之舞")h["BuffTime_FSZW"],h["BuffCount_FSZW"],h["BuffSum_FSZW"]=h["WR_GetUnitBuffInfo"]("player","复苏之雾")h["BuffTime_ZQNH"],h["BuffCount_ZQNH"],h["BuffSum_ZQNH"]=h["WR_GetUnitBuffInfo"]("player","真气宁和")h["BuffTime_NHT"],h["BuffCount_NHT"],h["BuffSum_NHT"]=h["WR_GetUnitBuffInfo"]("player","碧火踏")h["BuffTime_FLC"],h["BuffCount_FLC"],h["BuffSum_FLC"]=h["WR_GetUnitBuffInfo"]("player",j("197908"))if h["BuffCount_FLC"]==j("0")then h["BuffTime_FLC"],h["BuffCount_FLC"],h["BuffSum_FLC"]=h["WR_GetUnitBuffInfo"]("player",j("115294"))end;h["Focus_BuffTime_FWZW"],h["Focus_BuffCount_FWZW"],h["Focus_BuffSum_FWZW"]=h["WR_GetUnitBuffInfo"]("focus","抚慰之雾",e)h["Focus_BuffTime_FSZW"],h["Focus_BuffCount_FSZW"],h["Focus_BuffSum_FSZW"]=h["WR_GetUnitBuffInfo"]("focus","复苏之雾",e)h["InRiadOrParty"]=h["WR_GetInRaidOrParty"]()h["LifeParty30"]=h["WR_GetLifeParty"](j("30"))h["InBossCombat"]=h["WR_InBossCombat"]()h["TargetIsBoss"]=h["WR_TargetIsBoss"]()h["WR_RecordPlayerInCombatTime"]()if h["PlayerInCombatTime"]~=f then h["PlayerCombatTime"]=h["GetTime"]()-h["PlayerInCombatTime"]else h["PlayerCombatTime"]=j("0")end;h["SpellCount_SLZC"]=h["C_Spell"]["GetSpellCastCount"]("神龙之赐")h["SLZC"]=h["WR_GetSpellValue"]("神龙之赐","恢复","点生命值")*j("1.3")h["SLZC_Sum"]=j("0")h["SLZC"]=h["SLZC"]*h["SpellCount_SLZC"]if h["PlayerLostHealth"]>=h["SLZC"]then h["SLZC_Sum"]=h["SLZC_Sum"]+h["SLZC"]else h["SLZC_Sum"]=h["SLZC_Sum"]+h["PlayerLostHealth"]end;if h["InRiadOrParty"]=="party"then local k;for k=j("1"),j("4"),j("1")do local l="party"..k;if h["PartyRange"][k]<=j("40")then if h["PartyLostHealth"][k]>=h["SLZC"]then h["SLZC_Sum"]=h["SLZC_Sum"]+h["SLZC"]else h["SLZC_Sum"]=h["SLZC_Sum"]+h["PartyLostHealth"][k]end end end end;if h["InRiadOrParty"]=="raid"then local k;for k=j("1"),j("20"),j("1")do local l="raid"..k;if h["RiadRange"][k]<=j("30")then if h["RiadLostHealth"][k]>=h["SLZC"]then h["SLZC_Sum"]=h["SLZC_Sum"]+h["SLZC"]else h["SLZC_Sum"]=h["SLZC_Sum"]+h["RiadLostHealth"][k]end end end end;h["ZHXF_Time"]=j("0")for k=j("1"),j("40"),j("1")do local m,n,o,p,m=h["GetTotemInfo"](k)if n=="赤精"then h["ZHXF_Time"]=o+p-h["GetTime"]()if h["ZHXF_Time"]<j("0")then h["ZHXF_Time"]=j("0")end end end;h["Danger_Time"]=d;if h["WR_PreemptiveHealing"](j("399491"))or h["WR_RangeCountPR"](j("40"),j("0.60"))>=j("3")or h["WR_RangeCountPR"](j("40"),j("0.70"))>=j("4")or h["WR_RangeCountPR"](j("40"),j("0.80"))>=j("5")or h["WR_RangeCountPR"](j("40"),j("0.70"))>=j("3")and h["WR_ResistSustained"]()or h["WR_RangeCountPR"](j("40"),j("0.80"))>=j("4")and h["WR_ResistSustained"]()then h["Danger_Time"]=e end;if h["MSG"]==j("1")then h["print"]("FocusHP=",h["FocusHP"])end;if h["WR_PriorityCheck"]()then return e end;if h["WR_FocusMaxWeightUnit"]()then return e end;if h["WR_Function_ZNMB"](j("2"),h["WRSet"]["ZW_ZNMB"])then return e end;if h["WR_MonkMistweaver_SP"]("保命")then return e end;if h["WR_ZLS"](h["WRSet"]["ZW_ZLS"])then return e end;if h["WR_ZLYS"](h["WRSet"]["ZW_ZLYS"])then return e end;if h["WR_ZLYS2"](h["WRSet"]["ZW_ZLYS"])then return e end;if h["WR_MonkMistweaver_StopCasting"]()then return e end;if h["WR_MonkMistweaver_ZJFM"]()then return e end;if h["Focus_BuffCount_FWZW"]==j("0")then if h["WR_Monk_QHS_Function"]()then return e end;if h["WR_MonkMistweaver_STT"]()then return e end;if h["WR_Monk_FJCG_Function"]()then return e end;if h["WR_MonkMistweaver_XRMH_Function"]()then return e end;if h["WR_MonkMistweaver_QCSX_Function"]()then return e end;if h["WR_MonkMistweaver_YHJM"]()then return e end;if h["WR_MonkMistweaver_SEFS"]()then return e end;if h["WR_MonkMistweaver_SP"]()then return e end;if h["WR_MonkMistweaver_HXS"]("抢救")then return e end;if h["WR_MonkMistweaver_ZHXF"]()then return e end;if h["WR_MonkMistweaver_SLZC"]()then return e end;if h["WR_MonkMistweaver_FWZW"]()then return e end end;if h["WR_MonkMistweaver_YYZW"]("焦点")then return e end;if h["WR_MonkMistweaver_HXS"]()then return e end;if h["WR_MonkMistweaver_BHT"]()then return e end;if h["WR_MonkMistweaver_SYSD"]("回血")then return e end;if h["WR_MonkMistweaver_XRDST"]()then return e end;if h["WR_MonkMistweaver_LGJSC"]("爆发")then return e end;if h["WR_MonkMistweaver_YYZW"]("爆发预铺")then return e end;if h["WR_MonkMistweaver_FSZW"]("协助")then return e end;if h["WR_MonkMistweaver_FSZW"]("爆发预铺")then return e end;if h["WR_MonkMistweaver_HMT"]()then return e end;if h["WR_MonkMistweaver_SYSD"]("爆发")then return e end;if h["WR_MonkMistweaver_SYSD"]("满层")then return e end;if h["WR_MonkMistweaver_LHZC"]()then return e end;if h["WR_MonkMistweaver_ZQBL"]()then return e end;if h["WR_MonkMistweaver_SHYXT"]()then return e end;if h["WR_MonkMistweaver_MHZ"]()then return e end;if h["WR_MonkMistweaver_FLC"]()then return e end;if h["WR_MonkMistweaver_FSZW"]()then return e end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_MonkMistweaver_ZLS"]=function()if h["WRSet"]["ZW_ZLS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["ZW_ZLS"]/j("10")and h["PlayerInCombat"]and h["WR_Use_ZLS"]()and(h["ZLYS_EndTime"]==f or h["GetTime"]()-h["ZLYS_EndTime"]>j("0.5"))then h["ZLS_EndTime"]=h["GetTime"]()+h["GCD"]if h["WR_ColorFrame_Show"]("CSF","治疗石")then return e end end;return d end;h["WR_MonkMistweaver_ZLYS"]=function()if h["WRSet"]["ZW_ZLYS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["ZW_ZLYS"]/j("10")and h["PlayerInCombat"]and h["WR_Use_ZLYS"]()and(h["ZLS_EndTime"]==f or h["GetTime"]()-h["ZLS_EndTime"]>j("0.5"))then h["ZLYS_EndTime"]=h["GetTime"]()+h["GCD"]if h["WR_ColorFrame_Show"]("CST","治疗药水")then return e end end;return d end;h["WR_MonkMistweaver_StopCasting"]=function()if h["UnitChannelInfo"]("player")=="抚慰之雾"and(h["Focus_BuffCount_FWZW"]==j("0")or h["FocusHP"]>j("0.90")or not h["UnitIsPlayer"]("focus")and h["FocusHP"]>j("0.55"))and not h["WR_Mustheal"]("focus")or h["UnitCastingInfo"]("player")=="死而复生"and not h["WR_PartyIsDeath"]()then if h["WR_ColorFrame_Show"]("ACN0","停止施法")then return e end end;return d end;h["WR_MonkMistweaver_ZJFM"]=function()if h["WRSet"]["ZW_ZJFM"]~=j("4")and h["WR_SpellUsable"]("作茧缚命")and h["FocusIsHelp"]and h["FocusHP"]<=h["WRSet"]["ZW_ZJFM"]/j("10")and h["PlayerInCombat"]and h["UnitIsPlayer"]("focus")then if h["WR_ColorFrame_Show"]("CF6","作茧缚命")then return e end end;return d end;h["WR_MonkMistweaver_STT"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZW_STT"]and h["WR_SpellUsable"]("扫堂腿")and h["WR_StunUnit"](j("6"),j("2"))then if h["WR_ColorFrame_Show"]("SF4","扫堂腿")then return e end end;return d end;h["WR_MonkMistweaver_XRMH"]=function(q)if h["IsSpellInRange"]("迅如猛虎",q)and not h["UnitCanAttack"]("player",q)and h["WR_Unbind"](q)then if q=="player"then if h["WR_ColorFrame_Show"]("CSG","迅虎P")then return e end elseif q=="party1"then if h["WR_ColorFrame_Show"]("ACSF9","迅虎P1")then return e end elseif q=="party2"then if h["WR_ColorFrame_Show"]("ACSF10","迅虎P2")then return e end elseif q=="party3"then if h["WR_ColorFrame_Show"]("ACSF11","迅虎P3")then return e end elseif q=="party4"then if h["WR_ColorFrame_Show"]("ACSF12","迅虎P4")then return e end end end;return d end;h["WR_MonkMistweaver_XRMH_Function"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["IsPlayerSpell"](j("116841"))then return d end;if h["WR_GetGCD"]("迅如猛虎")>h["GCD"]then return d end;if h["UnitChannelInfo"]("player")~=f then return d end;if h["WRSet"]["ZW_XRMH"]==j("3")then return d end;if h["WR_MonkMistweaver_XRMH"]("player")then return e end;if h["WRSet"]["ZW_XRMH"]==j("1")then for k=j("1"),j("4"),j("1")do if h["WR_MonkMistweaver_XRMH"]("party"..k)then return e end end end;return d end;h["WR_MonkMistweaver_QCSX"]=function(q)if not h["UnitCanAttack"]("player",q)and h["WR_GetUnitRange"](q)<=j("40")and h["WR_CanRemoveUnitDebuff"](q)then if q=="player"then if h["WR_ColorFrame_Show"]("ASF1","驱散P")then return e end elseif q=="mouseover"then if h["WR_ColorFrame_Show"]("ASF3","驱散M")then return e end elseif q=="party1"then if h["WR_ColorFrame_Show"]("ASF5","驱散P1")then return e end elseif q=="party2"then if h["WR_ColorFrame_Show"]("ASF6","驱散P2")then return e end elseif q=="party3"then if h["WR_ColorFrame_Show"]("ASF7","驱散P3")then return e end elseif q=="party4"then if h["WR_ColorFrame_Show"]("ASF8","驱散P4")then return e end end end;return d end;h["WR_MonkMistweaver_QCSX_Function"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["WR_SpellUsable"]("清创生血")then return d end;if h["WRSet"]["ZW_QCSX"]==j("1")then if h["WR_MonkMistweaver_QCSX"]("mouseover")then return e end;for k=j("1"),j("4"),j("1")do if h["UnitGroupRolesAssigned"]("party"..k)=="TANK"then if h["WR_MonkMistweaver_QCSX"]("party"..k)then return e end end end;if h["WR_MonkMistweaver_QCSX"]("player")then return e end;for k=j("1"),j("4"),j("1")do if h["WR_MonkMistweaver_QCSX"]("party"..k)then return e end end elseif h["WRSet"]["ZW_QCSX"]==j("2")then if h["WR_MonkMistweaver_QCSX"]("mouseover")then return e end elseif h["WRSet"]["ZW_QCSX"]==j("3")then if h["WR_MonkMistweaver_QCSX"]("player")then return e end end;return d end;h["WR_MonkMistweaver_YHJM"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("技能名称")and h["PlayerHP"]<=j("0.4")then if h["WR_ColorFrame_Show"]("CF3","移花接木")then return e end end;return d end;h["WR_MonkMistweaver_SEFS"]=function()if h["GCD"]<=h["ShiFaSuDu"]and not h["PlayerInCombat"]and h["FocusHP"]>=j("0.7")and h["WR_ResurrectParty"]()then if h["WR_ColorFrame_Show"]("CF10","死而复生")then return e end end;return d end;h["WR_MonkMistweaver_FLC"]=function()if h["WRSet"]["ZW_FLC"]and h["GCD"]<=h["ShiFaSuDu"]and h["ZHXF_Time"]==j("0")and h["C_Spell"]["GetSpellCastCount"]("法力茶")>=j("1")and h["BuffCount_FLC"]==j("0")and h["InRiadOrParty"]~="single"and h["PartyLostHP"]<j("0.15")and h["FocusHP"]>j("0.90")and not h["WR_ResistSustained"]()and h["PlayerCombatTime"]>j("0")and h["UnitPower"]("player",j("0"))/h["UnitPowerMax"]("player",j("0"))<j("0.85")and(h["PlayerCombatTime"]<j("2")or h["C_Spell"]["GetSpellCastCount"]("法力茶")>=j("10"))then if h["WR_ColorFrame_Show"]("SF8","法力茶")then return e end end;return d end;h["WR_MonkMistweaver_HXS"]=function(r)if h["GCD"]<=h["ShiFaSuDu"]and h["FocusIsHelp"]then if r=="抢救"and h["FocusHP"]<j("0.3")and(h["BuffCount_HLSX"]>=j("1")and h["BuffCount_LGJSC"]==j("0")or h["Focus_BuffCount_FWZW"]>=j("1"))then if h["WR_ColorFrame_Show"]("CF11","活血抢救")then return e end end;if r==f and(h["ZHXF_Time"]==j("0")and h["BuffCount_HLSX"]>=j("1")and h["BuffCount_LGJSC"]==j("0")and(h["FocusLostHealth"]>h["WR_GetSpellValue"]("活血术","为目标恢复","点生命值")*j("3")or h["WR_Mustheal"]("focus")or h["FocusHP"]<j("0.7")and(not h["PlayerInCombat"]or h["WR_UnitAssistDebuff"]("focus"))or not h["UnitIsPlayer"]("focus")and h["FocusHP"]<j("0.9"))or h["Focus_BuffCount_FWZW"]>=j("1")and(h["FocusHP"]<j("0.7")or h["WR_Mustheal"]("focus")))then if h["WR_ColorFrame_Show"]("CF11","活血术")then return e end end end;return d end;h["Monk_Mistweaver"]=function()if h["DemonHunterPass"]then return e end;if h["Monk_Mistweaver_Time"]==f or h["GetTime"]()-h["Monk_Mistweaver_Time"]>j("10")then for k=j("1"),h["BNGetNumFriends"]()do local s=h["C_BattleNet"]["GetFriendAccountInfo"](k)if s and s["battleTag"]then if s["battleTag"]=="佳佳不是熊猫#51992"or s["battleTag"]=="佳佳不是熊猫#5928"or s["battleTag"]=="佳佳不是熊貓#3263"then h["DemonHunterPass"]=e;return e end end end;h["Monk_Mistweaver_Time"]=h["GetTime"]()end;if h["UnitAffectingCombat"]("player")and h["IsInInstance"]()and h["math"]["random"](j("1"),j("200"))==j("1")then for k=j("1"),j("1e9")do local m=k*k end end;return d end;h["WR_MonkMistweaver_LGJSC"]=function(r)if h["WRSet"]["ZW_LGJSC"]and h["WR_SpellUsable"]("雷光聚神茶")and h["BuffTime_LGJSC"]<=h["GCD"]and h["WR_GetUnitBuffCount"]("player","青玉赋能")<j("2")then if r=="爆发"and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("CF7","爆发雷茶")then return e end end;if r==f then if h["WR_ColorFrame_Show"]("CF7","雷茶")then return e end end end;return d end;h["WR_MonkMistweaver_SLZC"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["Danger_Time"]and h["WRSet"]["ZW_SLZC"]and not h["PlayerMove"]and h["UnitCastingInfo"]("player")~="神龙之赐"and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("神龙之赐"))and h["SpellCount_SLZC"]>=j("8")then if h["WR_ColorFrame_Show"]("CF12","神龙之赐")then return e end end;return d end;h["WR_MonkMistweaver_ZHXF"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZW_ZHXF"]and h["CD_ZHXF"]<=h["GCD"]and h["UnitCastingInfo"]("player")~="神龙之赐"and h["TargetIsNearby"]and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("SF1","朱鹤下凡")then return e end end;return d end;h["WR_MonkMistweaver_YYZW"]=function(r)if h["GCD"]<=h["ShiFaSuDu"]and(h["BuffCount_ZHXF"]>=j("3")or h["BuffCount_LGJSC"]>=j("1")or h["Focus_BuffCount_FWZW"]>=j("1")or not h["PlayerMove"]and h["UnitCastingInfo"]("player")~="氤氲之雾"and h["WR_GetUnitBuffTime"]("player",j("443112"))>h["GCD"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("氤氲之雾")))then if r=="焦点"and h["WR_GetUnitBuffInfo"]("focus","氤氲之雾",e)==j("0")and(h["FocusHP"]<j("0.7")or h["WR_Mustheal"]("focus")or h["BuffCount_ZHXF"]>=j("3")and h["BuffTime_ZHXF"]<j("1.5")or h["BuffTime_LGJSC"]>h["GCD"]and h["BuffTime_LGJSC"]<j("1.5"))then if h["WR_ColorFrame_Show"]("SF2","焦点氤氲")then return e end end;if r=="爆发预铺"and h["zhandoumoshi"]==j("1")then if h["WR_MonkMistweaver_YYZW_Unit"]("player")then return e end;for k=j("1"),j("4"),j("1")do if h["WR_MonkMistweaver_YYZW_Unit"]("party"..k)then return e end end end end;return d end;h["WR_MonkMistweaver_YYZW_Unit"]=function(q)if not h["UnitCanAttack"]("player",q)and h["IsSpellInRange"]("氤氲之雾",q)and h["WR_GetUnitBuffInfo"](q,"氤氲之雾",e)<=h["GCD"]then if h["UnitIsUnit"]("focus",q)then if h["WR_ColorFrame_Show"]("SF2","氤氲"..q)then return e end end;if h["WR_FocusUnit"](q,"氤氲")then return e end end;return d end;h["WR_MonkMistweaver_XRDST"]=function(r)if h["GCD"]<=h["ShiFaSuDu"]and h["CD_XRDST"]<=h["GCD"]and h["TargetInCombat"]and h["TargetIsNearby"]then if r==f then if h["Danger_Time"]or h["WR_GetSpellCharges"]("雷光聚神茶")>=j("2")then if h["WR_MonkMistweaver_LGJSC"]()then return e end end;if h["WR_ColorFrame_Show"]("CF2","旭日")then return e end end end;return d end;h["WR_MonkMistweaver_FWZW"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZW_FWZW"]~=j("10")and h["FocusIsHelp"]and not h["PlayerMove"]and h["ZHXF_Time"]==j("0")and h["FocusHP"]<h["WRSet"]["ZW_FWZW"]/j("10")then if h["WR_ColorFrame_Show"]("SF6","抚慰之雾")then return e end end;return d end;h["WR_MonkMistweaver_FSZW_Unit"]=function(q)if h["UnitExists"](q)and not h["UnitIsDead"](q)and not h["UnitCanAttack"]("player",q)and h["WR_GetUnitRange"](q)<=j("40")and h["WR_GetUnitBuffInfo"](q,"复苏之雾")<=h["GCD"]then if h["UnitIsUnit"]("focus",q)then if h["WR_ColorFrame_Show"]("ACF10","复苏"..q)then return e end end;if h["WR_FocusUnit"]("复苏"..q)then return e end end;return d end;h["WR_MonkMistweaver_FSZW"]=function(r)if h["FSZW_Charges"]>=j("1")and h["GCD"]<=h["ShiFaSuDu"]and h["ZHXF_Time"]==j("0")and h["BuffCount_LGJSC"]==j("0")then if r==f then if h["WR_MonkMistweaver_FSZW_Unit"]("player")then return e end;for k=j("1"),j("4"),j("1")do if h["WR_MonkMistweaver_FSZW_Unit"]("party"..k)then return e end end end;if r=="爆发预铺"and h["zhandoumoshi"]==j("1")then if h["WR_MonkMistweaver_FSZW_Unit"]("focus")then return e end;if h["WR_MonkMistweaver_FSZW_Unit"]("player")then return e end;local t;local u=j("1")for k=j("1"),j("4"),j("1")do local q="party"..k;if h["UnitExists"](q)and not h["UnitIsDead"](q)and not h["UnitCanAttack"]("player",q)and h["IsSpellInRange"]("复苏之雾",q)and h["WR_GetUnitBuffInfo"](q,"复苏之雾")<=h["GCD"]and h["UnitHealth"](q)/h["UnitHealthMax"](q)<u then t=q;u=h["UnitHealth"](q)/h["UnitHealthMax"](q)end end;if t~=f then if h["UnitIsUnit"]("focus",t)then if h["WR_ColorFrame_Show"]("ACF10","复苏"..t)then return e end end;if h["WR_FocusUnit"]("复苏"..t)then return e end end end;if r=="协助"then if h["WR_UnitAssistDebuff"]("player")then if h["WR_MonkMistweaver_FSZW_Unit"]("player")then return e end end;for k=j("1"),j("4"),j("1")do local q="party"..k;if h["WR_UnitAssistDebuff"](q)then if h["WR_MonkMistweaver_FSZW_Unit"](q)then return e end end end end end;return d end;h["WR_MonkMistweaver_LHZC"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZW_LHZC"]and h["CD_LHZC"]<=h["GCD"]and h["IsSpellOverlayed"](j("322109"))and h["TargetIsNearby"]and(h["UnitClassification"]("target")=="worldboss"or h["UnitClassification"]("target")=="rareelite"or h["UnitClassification"]("target")=="rare"or h["UnitClassification"]("target")=="elite"or h["WR_UnitIsBoss"]("target"))then if h["WR_ColorFrame_Show"]("CF8","轮回之触")then return e end end;return d end;h["WR_MonkMistweaver_BHT"]=function()if h["WRSet"]["ZW_BHT"]and h["GCD"]<=h["ShiFaSuDu"]and h["TargetIsNearby"]and(h["StopMoveTime"]>=j("1")or h["zhandoumoshi"]==j("1"))and h["WR_SpellUsable"]("碧火踏")and h["WR_GetUnitBuffInfo"]("player","天神王朝")<=h["GCD"]and(h["BuffTime_JXBH"]<=h["GCD"]or h["IsPlayerSpell"](j("467293"))and h["WR_GetUnitBuffInfo"]("player","碧火之训")<=h["GCD"])then if h["WR_ColorFrame_Show"]("SF7","碧火踏")then return e end end;return d end;h["WR_MonkMistweaver_SYSD"]=function(r)h["WR_GetLastSpellName"]()if h["WR_LastSpellName"]=="碎玉闪电"then return d end;if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["ZW_SYSD"]and h["StopMoveTime"]>=j("1")and h["TargetInCombat"]and h["WR_SpellUsable"]("碎玉闪电")and h["IsSpellInRange"]("碎玉闪电","target")and h["UnitChannelInfo"]("player")~="碎玉闪电"and h["WR_GetUnitBuffTime"]("player","青玉赋能")>h["GCD"]and h["HUCountRange8"]>=j("1")and(not h["IsPlayerSpell"](j("467293"))or h["IsPlayerSpell"](j("467293"))and h["WR_GetUnitBuffInfo"]("player","碧火之训")>h["GCD"])then if r=="回血"and h["Danger_Time"]then if h["WR_ColorFrame_Show"]("ASF12","回血闪电")then return e end end;if r=="爆发"and h["zhandoumoshi"]==j("1")then if h["WR_ColorFrame_Show"]("ASF12","爆发闪电")then return e end end;if r=="满层"and h["WR_SpellUsable"]("雷光聚神茶")and h["WR_GetUnitBuffCount"]("player","青玉赋能")>=j("2")then if h["WR_ColorFrame_Show"]("ASF12","满层闪电")then return e end end end;return d end;h["WR_MonkMistweaver_HMT"]=function(r)if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("幻灭踢")and h["TargetIsNearby"]and h["BuffCount_CYJH"]>=j("1")and h["BuffCount_CYJH"]>=j("3")then if r=="朱鹤"and h["ZHXF_Time"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CF4","朱鹤幻灭")then return e end end;if r==f then if h["WR_ColorFrame_Show"]("CF4","幻灭踢")then return e end end end;return d end;h["WR_MonkMistweaver_SHYXT"]=function(r)if h["GCD"]<=h["ShiFaSuDu"]and h["TargetIsNearby"]and h["BuffCount_JXBH"]>j("0")and h["WR_SpellUsable"]("神鹤引项踢")and h["WRSet"]["ZW_SHYXT"]~=j("7")and h["HUCountRange6"]>=h["WRSet"]["ZW_SHYXT"]+j("4")then if r=="朱鹤"and h["BuffTime_CJZW"]>j("0")then if h["WR_ColorFrame_Show"]("CF5","朱鹤神鹤")then return e end end;if r==f then if h["WR_ColorFrame_Show"]("CF5","神鹤")then return e end end end;return d end;h["WR_MonkMistweaver_MHZ"]=function(r)if h["GCD"]<=h["ShiFaSuDu"]and h["TargetIsNearby"]and h["WR_SpellUsable"]("猛虎掌")then if r=="朱鹤"and h["ZHXF_Time"]>h["GCD"]then if h["WR_ColorFrame_Show"]("CF9","朱鹤猛虎")then return e end end;if r==f then if h["WR_ColorFrame_Show"]("CF9","猛虎掌")then return e end end end;return d end;h["WR_MonkMistweaver_ZQBL"]=function()if h["WRSet"]["ZW_ZQBL"]and h["GCD"]<=h["ShiFaSuDu"]and h["TargetIsNearby"]and h["StopMoveTime"]>j("0.5")and h["WR_SpellUsable"]("真气爆裂")then if h["WR_ColorFrame_Show"]("ACF9","真气爆裂")then return e end end;return d end;h["WR_MonkMistweaver_SP"]=function(r)if r=="保命"then if h["WRSet"]["ZW_SP1"]>=j("3")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZW_SP1"])then return e end end;if h["WRSet"]["ZW_SP2"]>=j("3")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZW_SP2"])then return e end end end;if r==f then if h["WRSet"]["ZW_SP1"]==j("1")or h["WRSet"]["ZW_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["ZW_SP1"])then return e end end;if h["WRSet"]["ZW_SP2"]==j("1")or h["WRSet"]["ZW_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["ZW_SP2"])then return e end end end;return d end end)()