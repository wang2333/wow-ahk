local a=70;local b=36;local c=31;local d=96;local e=85;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_MageFire"]=function()if j["GetSpecialization"]()~=l("2")then return end;j["ShiFaSuDu"]=l("0.4")j["Latency"]=j["math"]["min"](j["WR_GetMaxLatency"](),l("0.1"))j["GCD"]=j["WR_GetGCD"]("奥术智慧")+j["Latency"]j["MaxGCD"]=j["WR_GetMaxGCD"](l("1.5"))j["PlayerHP"]=j["WR_GetUnitHP"]("player")j["PlayerMove"]=j["WR_PlayerMove"]()j["Training"]=j["WR_InTraining"]()j["TargetHP"]=l("1")if j["UnitExists"]("target")then j["TargetHP"]=j["UnitHealth"]("target")/j["UnitHealthMax"]("target")end;j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["TargetRange"]=j["WR_GetUnitRange"]("target")j["TargetSingle"]=j["WR_SingleUnit"]()j["TargetDeathTime"]=j["WR_GetUnitDeathTime"]("target")j["AvgDeathTime"]=j["WR_GetRangeAvgDeathTime"](l("40"))j["FlyTime"]=j["WR_GetUnitRange"]("target")/l("40")j["HUCountRange40"]=j["WR_GetRangeHarmUnitCount"](l("40"),not j["Training"])j["BuffTime_RS"]=j["WR_GetUnitBuffTime"]("player","燃烧")j["BuffTime_TYWDNH"]=j["WR_GetUnitBuffTime"]("player","太阳王的怒火")j["BuffCount_TYZWDZF"]=j["WR_GetUnitBuffCount"]("player","太阳之王的祝福")j["BuffTime_RLBF"]=j["WR_GetUnitBuffTime"]("player","热力迸发")j["BuffTime_CRLJ"]=j["WR_GetUnitBuffTime"]("player","炽热连击！")j["BuffTime_GRGW"]=j["WR_GetUnitBuffTime"]("player","过热高温")j["BuffTime_FB"]=j["WR_GetUnitBuffTime"]("player","浮冰")j["BuffTime_LYHT"]=j["WR_GetUnitBuffTime"]("player","烈焰护体")j["BuffTime_LYCM"]=j["WR_GetUnitBuffTime"]("player","烈焰触媒")j["BuffTime_SHZX"]=j["WR_GetUnitBuffTime"]("player","霜火增效")j["BuffTime_DRDHS"]=j["WR_GetUnitBuffTime"]("player","点燃导火索")j["BuffTime_YLHS"]=j["WR_GetUnitBuffTime"]("player","溢流寒霜")j["BuffTime_YLFH"]=j["WR_GetUnitBuffTime"]("player","溢流飞火")j["BuffTime_ASFH"]=j["WR_GetUnitBuffTime"]("player","奥术凤凰")j["DebuffTime_FSYH"],j["DebuffCount_FSYH"],j["_"]=j["WR_GetUnitDebuffInfo"]("target","焚身余灰",g)j["MaxDebuff_DR_Unit"]=j["WR_MageFire_MaxDebuff_DR"]()j["WR_MageFire_LastSpellTime"]()if j["BSNZY_FiyTime"]~=h and j["GetTime"]()-j["BSNZY_FiyTime"]>=l("1")+j["Latency"]then j["BSNZY_FiyTime"]=h end;if j["BSNZY_DamageTime"]~=h and j["GetTime"]()-j["BSNZY_DamageTime"]>l("0.1")+j["Latency"]then j["BSNZY_FiyTime"]=h;j["BSNZY_DamageTime"]=h end;if j["YBS_FiyTime"]~=h and j["GetTime"]()-j["YBS_FiyTime"]>=l("1")+j["Latency"]then j["YBS_FiyTime"]=h end;if j["YBS_DamageTime"]~=h and j["GetTime"]()-j["YBS_DamageTime"]>l("0.1")+j["Latency"]then j["YBS_FiyTime"]=h;j["YBS_DamageTime"]=h end;if j["HQS_FiyTime"]~=h and j["GetTime"]()-j["HQS_FiyTime"]>=l("1")+j["Latency"]then j["HQS_FiyTime"]=h end;if j["HQS_DamageTime"]~=h and j["GetTime"]()-j["HQS_DamageTime"]>l("0.1")+j["Latency"]then j["HQS_FiyTime"]=h;j["HQS_DamageTime"]=h end;if j["SHZJ_FiyTime"]~=h and j["GetTime"]()-j["SHZJ_FiyTime"]>=l("1")+j["Latency"]then j["SHZJ_FiyTime"]=h end;if j["SHZJ_DamageTime"]~=h and j["GetTime"]()-j["SHZJ_DamageTime"]>l("0.1")+j["Latency"]then j["SHZJ_FiyTime"]=h;j["SHZJ_DamageTime"]=h end;if j["YBS_FiyTime"]~=h or j["BSNZY_FiyTime"]~=h or j["HQS_FiyTime"]~=h or j["SHZJ_FiyTime"]~=h then j["SpellFiying"]=g else j["SpellFiying"]=f end;if j["HYCJ_FiyTime"]==h or j["GetTime"]()-j["HYCJ_FiyTime"]>l("0.2")then j["LastSpell_Not_HYCJ"]=g else j["LastSpell_Not_HYCJ"]=f end;if j["MSG"]==l("1")then j["print"]("GCD:",j["GCD"])if j["YBS_FiyTime"]~=h then j["print"]("炎爆术 飞行时间：",j["GetTime"]()-j["YBS_FiyTime"])end;if j["BSNZY_FiyTime"]~=h then j["print"]("不死鸟之焰 飞行时间：",j["GetTime"]()-j["BSNZY_FiyTime"])end;j["print"]("技能在飞行中:",j["SpellFiying"])j["print"]("----------")end;if j["WR_MageFire_HYCJ"]("变易幻能")then return end;if j["WR_MageFire_StopCasting"]()then return end;if j["WR_PriorityCheck"]()then return end;if j["WR_MageFire_Use_CXCHW"]()then return end;if j["WR_Function_ZNMB"](l("40"),j["WRSet"]["HF_ZNMB"])then return g end;if j["WR_ZNJD"](j["WRSet"]["HF_ZNJD"])then return end;if j["WR_MageFire_SP"]("保命")then return g end;if j["WR_ZLS"](j["WRSet"]["HF_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["HF_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["HF_ZLYS"])then return g end;if j["WR_MageFire_HBPZ"]()then return g end;if j["WR_MageFire_FSFZ"]()then return g end;if j["WR_MageFire_QHYX"]()then return g end;if j["BuffTime_RS"]==l("0")and j["BuffTime_ASFH"]==l("0")and j["BuffTime_GRGW"]==l("0")then if j["WR_MageFire_JX"]()then return g end;if j["WR_MageFire_QTPZ"]()then return g end;if j["WR_MageFire_JCZZ"]()then return g end;if j["WR_MageFire_FSXQ"]()then return g end;if j["WR_MageFire_CJXX"]()then return g end;if j["WR_MageFire_CJB"]()then return g end;if j["WR_MageFire_LYHT"]()then return g end;if j["WR_MageFire_ASZH"]()then return g end end;if j["TargetInCombat"]and j["TargetRange"]<=l("40")and(j["UnitCastingInfo"]("player")~=h and j["GCD"]<j["WR_GetTrueCastTime"](j["UnitCastingInfo"]("player"))*l("0.8")or j["UnitCastingInfo"]("player")==h and j["GCD"]<=j["ShiFaSuDu"])then if j["WR_MageFire_SP"]("常驻")then return g end;if j["WR_WuQi"](l("40"),j["WRSet"]["HF_WuQi"])then return g end;if j["WR_MageFire_YBS_LYFB"]()then return end;if j["BuffTime_RS"]>l("0")and j["BuffTime_RS"]<j["GCD"]+j["MaxGCD"]and j["BuffTime_ASFH"]>j["GCD"]and j["WR_GetSpellCharges"]("火焰冲击")==l("0")then if j["WR_ColorFrame_Show"]("Stop","等待过热")then return g end end;if j["WR_MageFire_RS"]()then return end;if j["WR_MageFire_BYHN"]()then return g end;if j["WR_MageFire_HYCJ"]("燃烧")then return end;if j["WR_MageFire_BSNZY"]("燃烧")then return end;if j["WR_MageFire_ZS"]("燃烧")then return end;if j["WR_MageFire_HYCJ"]("必爆灼烧")then return end;if j["WR_MageFire_HYCJ"]("火球")then return end;if j["WR_MageFire_HYCJ"]("普通灼烧")then return end;if j["WR_MageFire_HYCJ"]("移动")then return end;if j["WR_MageFire_HYCJ"]("满层幻能")then return end;if j["WR_MageFire_BSNZY"]("满层")then return end;if j["WR_MageFire_HYCJ"]("即将幻能")then return end;if j["WR_MageFire_BSNZY"]("必爆灼烧")then return end;if j["WR_MageFire_ZS"]("斩杀")then return end;if j["WR_MageFire_BSNZY"]("火球")then return end;if j["WR_MageFire_BSNZY"]("补")then return end;if j["WR_MageFire_HQS"]()then return end;if j["WR_MageFire_ZS"]("移动")then return end end;j["WR_HideColorFrame"](j["zhandoumoshi"])if j["MSG"]==l("1")then end end;j["WR_MageFire_LastSpellTime"]=function()if j["MageFireLastSpellIsOpen"]==g then return end;local m=j["CreateFrame"]("Frame")m["RegisterEvent"](m,"COMBAT_LOG_EVENT_UNFILTERED")m["SetScript"](m,"OnEvent",function()if j["select"](l("4"),j["CombatLogGetCurrentEventInfo"]())==j["UnitGUID"]("player")then if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local n=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())if n=="炎爆术"then j["YBS_FiyTime"]=j["GetTime"]()end;if n=="不死鸟之焰"then j["BSNZY_FiyTime"]=j["GetTime"]()j["BSNZY_CastTime"]=j["GetTime"]()end;if n=="火球术"then j["HQS_FiyTime"]=j["GetTime"]()end;if n=="霜火之箭"then j["SHZJ_FiyTime"]=j["GetTime"]()end;if n=="灼烧"then j["ZS_FiyTime"]=j["GetTime"]()end;if n=="火焰冲击"then j["HYCJ_FiyTime"]=j["GetTime"]()if j["HYCJ_CastTime"]==h then j["HYCJ_CastTime"]=j["GetTime"]()else if j["GetTime"]()-j["HYCJ_CastTime"]<l("3")then j["CXCHW_UseTime"]=j["HYCJ_CastTime"]+l("3")end;j["HYCJ_CastTime"]=j["GetTime"]()end end end;if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local n=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())local o=j["select"](l("21"),j["CombatLogGetCurrentEventInfo"]())if n=="炎爆术"then if o then j["YBS_DamageTime"]=j["GetTime"]()else j["YBS_FiyTime"]=h end end;if n=="不死鸟之焰"then if o then j["BSNZY_DamageTime"]=j["GetTime"]()else j["BSNZY_FiyTime"]=h end end;if n=="火球术"then if o then j["HQS_DamageTime"]=j["GetTime"]()else j["HQS_FiyTime"]=h end end;if n=="霜火之箭"then if o then j["SHZJ_DamageTime"]=j["GetTime"]()else j["SHZJ_FiyTime"]=h end end end end end)j["MageFireLastSpellIsOpen"]=g end;j["WR_MageFire_RS"]=function()if j["WRSet"]["HF_RS"]and j["zhandoumoshi"]==l("1")and j["WR_SpellUsable"]("燃烧")and j["AvgDeathTime"]>=l("15")and j["BuffTime_RS"]<=l("3.6")and not j["SpellFiying"]and j["BuffTime_CRLJ"]<=j["GCD"]and j["WR_GetSpellCharges"]("火焰冲击")>=l("1")and(j["UnitCastingInfo"]("player")=="火球术"or j["WR_MageFire_Crit_ZS"]()and j["BuffTime_RLBF"]<=j["GCD"]or j["PlayerMove"]and j["BuffTime_RLBF"]>j["GCD"])then if j["WR_MageFire_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CN7","燃烧")then return g end end;return f end;j["WR_MageFire_Crit_ZS"]=function()if j["UnitCastingInfo"]("player")=="灼烧"and(j["TargetHP"]<l("0.3")or j["BuffTime_RS"]>j["GCD"])then return g end;return f end;j["WR_MageFire_Crit_Spell"]=function()if j["UnitCastingInfo"]("player")~=h and(j["BuffTime_RS"]>j["GCD"]+j["FlyTime"]or j["WR_MageFire_Crit_ZS"]()or j["BuffTime_TYWDNH"]>j["GCD"]and j["UnitCastingInfo"]("player")=="炎爆术")then return g end;return f end;j["WR_MageFire_GCD_RLBF"]=function()if j["BuffTime_CRLJ"]==l("0")and(j["BuffTime_RLBF"]>j["GCD"]and not j["WR_MageFire_Crit_Spell"]()or j["BuffTime_RLBF"]==l("0")and j["WR_MageFire_Crit_Spell"]())then return g end;return f end;j["WR_MageFire_StopCasting"]=function()if j["WR_GetCombatTime"]()>l("5")and(j["UnitCastingInfo"]("player")=="炎爆术"or j["UnitCastingInfo"]("player")=="烈焰风暴")then if j["WR_ColorFrame_Show"]("CN8","停止施法1")then return g end end;if j["UnitCastingInfo"]("player")=="灼烧"then if j["BuffTime_RLBF"]>j["GCD"]and not j["WR_MageFire_Crit_ZS"]()and j["LastSpell_Not_HYCJ"]and(j["WR_GetSpellCharges"]("火焰冲击")>=l("1")or j["WR_GetSpellCharges"]("不死鸟之焰")>=l("1")or j["WR_GetSpellNextCharge"]("火焰冲击")<j["BuffTime_RLBF"]-l("0.2")or j["WR_GetSpellNextCharge"]("不死鸟之焰")<j["BuffTime_RLBF"]-j["FlyTime"])then if j["WR_ColorFrame_Show"]("CN8","停止施法2")then return g end end;if j["BuffTime_CRLJ"]>j["GCD"]and j["GCD"]>j["WR_GetTrueCastTime"](j["UnitCastingInfo"]("player"))/l("2")then if j["WR_ColorFrame_Show"]("CN8","停止施法3")then return g end end end;if j["UnitCastingInfo"]("player")=="火球术"then if j["BuffTime_RLBF"]>j["GCD"]and j["BuffTime_RS"]<j["GCD"]+j["FlyTime"]and j["LastSpell_Not_HYCJ"]and j["WR_GetSpellCharges"]("不死鸟之焰")>=l("1")and j["WR_GetSpellCharges"]("火焰冲击")==l("0")then if j["WR_ColorFrame_Show"]("CN8","停止施法4")then return g end end end;return f end;j["WR_MageFire_Use_CXCHW"]=function()if j["BuffTime_RS"]>l("5")and j["CXCHW_UseTime"]~=h and j["CXCHW_UseTime"]>j["GetTime"]()and j["WR_GetSpellCharges"]("火焰冲击")==l("0")and j["WR_Use_Item"](l("9"),l("168989"))then if j["WR_ColorFrame_Show"]("SF12","超线程护腕")then return g end end;return f end;j["WR_MageFire_YBS_LYFB"]=function()if j["WR_SpellUsable"]("炎爆术")and(j["BuffTime_CRLJ"]>j["GCD"]or j["BuffTime_RLBF"]>j["GCD"]and j["WR_MageFire_Crit_ZS"]()or j["BuffTime_GRGW"]>j["GCD"])then if j["WRSet"]["HF_LYFB"]<=l("8")and j["WR_GetRangeHarmUnitCount"](l("20"),not j["WR_InTraining"]())>=j["WRSet"]["HF_LYFB"]then if j["WR_ColorFrame_Show"]("SF1","烈焰风暴")then return g end else if j["WR_ColorFrame_Show"]("CF2","炎爆术")then return g end end end;return f end;j["WR_MageFire_HYCJ"]=function(p)if j["WR_SpellUsable"]("火焰冲击")and j["LastSpell_Not_HYCJ"]and not j["SpellFiying"]and(j["HYCJ_PressTime"]==h or j["GetTime"]()-j["HYCJ_PressTime"]>j["MaxGCD"])and(j["BSNZY_PressTime"]==h or j["GetTime"]()-j["BSNZY_PressTime"]>j["ShiFaSuDu"])then if p=="燃烧"and(j["BuffTime_RS"]>j["GCD"]or j["BuffTime_ASFH"]>j["GCD"])and(j["BuffTime_RLBF"]>j["GCD"]or j["BuffTime_RLBF"]<=j["GCD"]and j["WR_MageFire_Crit_ZS"]()or j["BuffTime_RLBF"]<=j["GCD"]and j["UnitCastingInfo"]("player")=="火球术"and j["BuffTime_RS"]>j["GCD"]+j["FlyTime"])then if j["WR_ColorFrame_Show"]("F12","燃烧冲击")then return g end end;if p=="必爆灼烧"and j["WR_MageFire_Crit_ZS"]()and j["BuffTime_RLBF"]<=j["GCD"]then if j["WR_ColorFrame_Show"]("F12","灼烧冲击1")then return g end end;if p=="普通灼烧"and j["UnitCastingInfo"]("player")=="灼烧"and not j["WR_MageFire_Crit_ZS"]()and j["BuffTime_RLBF"]>j["GCD"]then if j["WR_ColorFrame_Show"]("F12","灼烧冲击2")then return g end end;if p=="火球"and j["UnitCastingInfo"]("player")=="火球术"and j["BuffTime_RLBF"]>j["GCD"]and j["WR_MageFire_GCD_RLBF"]()then if j["WR_ColorFrame_Show"]("F12","火球冲击")then return g end end;if p=="变易幻能"and j["UnitChannelInfo"]("player")=="变易幻能"and j["BuffTime_RLBF"]>j["GCD"]and j["WR_MageFire_GCD_RLBF"]()then if j["WR_ColorFrame_Show"]("F12","幻能冲击")then return g end end;if p=="移动"and j["BuffTime_FB"]<=j["GCD"]and j["PlayerMove"]and j["BuffTime_RLBF"]>j["GCD"]and j["UnitCastingInfo"]("player")==h then if j["WR_ColorFrame_Show"]("F12","移动冲击")then return g end end;if p=="即将幻能"and j["zhandoumoshi"]==l("1")and j["WRSet"]["HF_BYHN"]and j["WR_SpellUsable"]("变易幻能")and j["WR_GetGCD"]("燃烧")>l("12")and(j["BuffTime_RLBF"]>j["GCD"]or j["BSNZY_FiyTime"]~=h and j["YBS_FiyTime"]==h and j["HQS_FiyTime"]==h and j["BuffTime_RLBF"]<=j["GCD"])then if j["WR_ColorFrame_Show"]("F12","即幻冲击")then return g end end;if p=="满层幻能"and j["zhandoumoshi"]==l("1")and j["WRSet"]["HF_BYHN"]and j["WR_SpellUsable"]("变易幻能")and j["WR_GetGCD"]("燃烧")>l("12")and(j["BuffTime_RLBF"]>j["GCD"]or j["BSNZY_FiyTime"]~=h and j["YBS_FiyTime"]==h and j["HQS_FiyTime"]==h and j["BuffTime_RLBF"]<=j["GCD"])and(j["WR_GetUnitBuffTime"]("player","白炽耀焰")>j["GCD"]or j["WR_GetSpellCharges"]("不死鸟之焰")<=l("1")and j["WR_GetSpellCharges"]("火焰冲击")>j["WR_GetSpellCharges"]("不死鸟之焰"))then if j["WR_ColorFrame_Show"]("F12","白炽冲击")then return g end end end;return f end;j["WR_MageFire_BSNZY"]=function(p)if j["WR_SpellUsable"]("不死鸟之焰")then if p=="满层"and not j["SpellFiying"]and j["UnitCastingInfo"]("player")==h and j["LastSpell_Not_HYCJ"]and(j["BSNZY_CastTime"]==h or j["GetTime"]()-j["BSNZY_CastTime"]>j["MaxGCD"])then if j["WR_GetSpellCharges"]("不死鸟之焰")>=l("2")or j["WR_GetSpellNextCharge"]("不死鸟之焰")<j["GCD"]+j["MaxGCD"]and(j["WR_GetSpellCharges"]("火焰冲击")>=l("1")or j["WR_GetSpellNextCharge"]("火焰冲击")<j["GCD"]+j["MaxGCD"]+j["WR_GetTrueCastTime"]("火球术")/l("2"))then if j["WR_ColorFrame_Show"]("CF7","满层不死鸟")then return g end end;if j["zhandoumoshi"]==l("1")and j["WRSet"]["HF_BYHN"]and j["WR_SpellUsable"]("变易幻能")and j["WR_GetGCD"]("燃烧")>l("12")then if j["WR_ColorFrame_Show"]("CF7","即幻不死鸟")then return g end end end;if p=="补"and not j["SpellFiying"]and j["BuffTime_RLBF"]>j["GCD"]and j["UnitCastingInfo"]("player")==h and j["LastSpell_Not_HYCJ"]and j["WR_GetSpellCharges"]("火焰冲击")==l("0")and j["WR_GetSpellNextCharge"]("火焰冲击")>j["GCD"]then if j["WR_ColorFrame_Show"]("CF7","补不死鸟")then return g end end;if p=="燃烧"and j["LastSpell_Not_HYCJ"]and not j["SpellFiying"]and(j["BuffTime_RS"]>j["GCD"]+j["FlyTime"]or j["BuffTime_ASFH"]>j["GCD"])then if j["WR_ColorFrame_Show"]("CF7","燃烧不死鸟")then return g end end;if p=="火球"and j["BuffTime_RLBF"]<=j["GCD"]and j["UnitCastingInfo"]("player")=="火球术"and j["LastSpell_Not_HYCJ"]and(j["WR_GetSpellCharges"]("火焰冲击")>=l("1")or j["WR_GetSpellNextCharge"]("火焰冲击")<j["GCD"]+j["MaxGCD"]+j["WR_GetTrueCastTime"]("火球术")/l("2"))then if j["WR_ColorFrame_Show"]("CF7","火球不死鸟")then return g end end;if p=="必爆灼烧"and j["BuffTime_RLBF"]<=j["GCD"]and j["WR_MageFire_Crit_ZS"]()and j["LastSpell_Not_HYCJ"]and(j["WR_GetSpellCharges"]("火焰冲击")==l("0")and j["WR_GetSpellNextCharge"]("火焰冲击")>j["GCD"])then if j["WR_ColorFrame_Show"]("CF7","灼烧不死鸟")then return g end end end;return f end;j["WR_MageFire_HQS"]=function(p)if j["WR_SpellUsable"]("火球术")and j["LastSpell_Not_HYCJ"]and j["BuffTime_ASFH"]<=j["GCD"]and j["BuffTime_GRGW"]==l("0")and(j["BuffTime_FB"]>j["GCD"]or not j["PlayerMove"]and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("火球术")))and(not j["SpellFiying"]or j["BuffTime_RS"]<=j["GCD"]and j["WR_GetSpellCharges"]("火焰冲击")>=l("1")and(j["zhandoumoshi"]==l("0")or not j["WRSet"]["HF_BYHN"]or not j["WR_SpellUsable"]("变易幻能")or j["WR_GetGCD"]("燃烧")<l("12")))and(j["TargetHP"]>=l("0.3")or j["WR_InTraining"]())then if j["WR_ColorFrame_Show"]("CF4","火球术")then return g end end;return f end;j["WR_MageFire_ZS"]=function(p)if j["WR_SpellUsable"]("灼烧")and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("灼烧"))and not j["SpellFiying"]and j["LastSpell_Not_HYCJ"]then if p=="斩杀"and j["TargetHP"]<l("0.3")and not j["WR_InTraining"]()then if j["WR_ColorFrame_Show"]("CF3","斩杀灼烧")then return g end end;if p=="燃烧"and not j["SpellFiying"]and(j["BuffTime_RS"]>j["GCD"]+j["WR_GetTrueCastTime"]("灼烧")or j["BuffTime_ASFH"]>j["GCD"])then if j["WR_ColorFrame_Show"]("CF3","燃烧灼烧")then return g end end;if p=="移动"and j["BuffTime_FB"]==l("0")and j["PlayerMove"]and(j["BuffTime_RLBF"]<=j["GCD"]or j["BuffTime_RLBF"]>j["GCD"]and j["WR_GetSpellCharges"]("火焰冲击")==l("0")and j["WR_GetSpellCharges"]("不死鸟之焰")==l("0")and j["WR_GetSpellNextCharge"]("火焰冲击")>j["BuffTime_RLBF"]-l("0.2")and j["WR_GetSpellNextCharge"]("不死鸟之焰")>j["BuffTime_RLBF"]-j["FlyTime"])then if j["WR_ColorFrame_Show"]("CF3","移动灼烧")then return g end end end;return f end;j["WR_MageFire_FB"]=function()if j["WRSet"]["HF_FB"]and j["WR_SpellUsable"]("浮冰")and j["BuffTime_FB"]==l("0")then if j["WR_ColorFrame_Show"]("F7","浮冰")then return g end end;return f end;j["WR_MageFire_BYHN"]=function()if j["WRSet"]["HF_BYHN"]and j["zhandoumoshi"]==l("1")and j["BuffTime_RS"]<=j["GCD"]and not j["PlayerMove"]and not j["SpellFiying"]and j["BuffTime_CRLJ"]<=j["GCD"]and j["BuffTime_GRGW"]<=j["GCD"]and j["BuffTime_ASFH"]<=j["GCD"]and(j["WR_GetSpellCharges"]("不死鸟之焰")==l("0")or j["WR_GetSpellNextCharge"]("不死鸟之焰")>l("12")and j["WR_GetSpellCharges"]("火焰冲击")==l("0"))and j["WR_GetGCD"]("燃烧")>l("12")and not j["WR_StopCast"](j["WR_GetTrueCastTime"]("变易幻能"))and j["WR_SpellUsable"]("变易幻能")then if j["WR_MageFire_FB"]()then return g end;if j["WR_ColorFrame_Show"]("CSP","变易幻能")then return g end end;return f end;j["WR_MageFire_DR_Value"]=function(q)for r=l("1"),l("40"),l("1")do local s=j["C_UnitAuras"]["GetAuraDataByIndex"](q,r,"HARMFUL")if s~=h and s["name"]=="点燃"and s["sourceUnit"]=="player"then return s["points"][l("1")]end end;return l("0")end;j["WR_MageFire_MaxDebuff_DR"]=function()local t="target"local u=j["WR_MageFire_DR_Value"]("target")j["Temp_DR"]=j["WR_MageFire_DR_Value"]("mouseover")if j["Temp_DR"]>=u and j["WR_GetUnitRange"]("mouseover")<=l("40")and j["WR_TargetInCombat"]("mouseover")then t="mouseover"u=j["Temp_DR"]end;for r=l("1"),l("4"),l("1")do j["Temp_DR"]=j["WR_MageFire_DR_Value"]("party"..r.."target")if j["Temp_DR"]>=u and j["WR_GetUnitRange"]("party"..r.."target")<=l("40")and j["WR_TargetInCombat"]("party"..r.."target")then t="party"..r.."target"u=j["Temp_DR"]end end;return t end;j["WR_MageFire_SP"]=function(p)if p=="保命"then if j["WRSet"]["HF_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["HF_SP1"])then return g end end;if j["WRSet"]["HF_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["HF_SP2"])then return g end end elseif p=="常驻"then if j["WRSet"]["HF_SP1"]==l("1")then if j["WR_ShiPin"](l("1"),j["WRSet"]["HF_SP1"])then return g end end;if j["WRSet"]["HF_SP2"]==l("1")then if j["WR_ShiPin"](l("2"),j["WRSet"]["HF_SP2"])then return g end end elseif p=="爆发"then if j["WRSet"]["HF_SP1"]==l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["HF_SP1"])then return g end end;if j["WRSet"]["HF_SP2"]==l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["HF_SP2"])then return g end end end;return f end;j["WR_MageFire_HBPZ"]=function()if j["WRSet"]["HF_HBPZ"]~=l("5")and j["WR_SpellUsable"]("寒冰屏障")and j["PlayerHP"]<j["WRSet"]["HF_HBPZ"]/l("10")and j["UnitAffectingCombat"]("player")and j["WR_GetUnitBuffTime"]("player",l("113862"))==l("0")then if j["WR_ColorFrame_Show"]("F9","寒冰屏障")then return g end end;return f end;j["WR_MageFire_QHYX"]=function()if j["WRSet"]["HF_QHYX"]~=l("5")and j["IsPlayerSpell"](l("110959"))and j["WR_SpellUsable"]("强化隐形术")and j["PlayerHP"]<j["WRSet"]["HF_QHYX"]/l("10")and j["UnitAffectingCombat"]("player")and j["WR_GetUnitBuffTime"]("player","深寒凝冰")==l("0")and j["WR_GetUnitBuffTime"]("player","寒冰屏障")==l("0")then if j["WR_ColorFrame_Show"]("SF7","强化隐形")then return g end end;return f end;j["WR_MageFire_FSFZ_Unit"]=function(q)if j["IsSpellInRange"]("法术反制",q)and j["WR_GetCastInterruptible"](q,j["InterruptTime"],j["WR_MageFire_FSFZ_Important"])then if q=="target"then if j["WR_ColorFrame_Show"]("AN5","反制T")then return g end elseif q=="mouseover"then if j["WR_ColorFrame_Show"]("AN6","反制M")then return g end elseif q=="focus"then if j["WR_ColorFrame_Show"]("AN7","反制F")then return g end elseif q=="party1target"then if j["WR_ColorFrame_Show"]("AN1","反制P1T")then return g end elseif q=="party2target"then if j["WR_ColorFrame_Show"]("AN2","反制P2T")then return g end elseif q=="party3target"then if j["WR_ColorFrame_Show"]("AN3","反制P3T")then return g end elseif q=="party4target"then if j["WR_ColorFrame_Show"]("AN4","反制P4T")then return g end end end;return f end;j["WR_MageFire_FSFZ"]=function()if not j["WR_SpellUsable"]("法术反制")then return f end;if j["UnitChannelInfo"]("player")~=h then return f end;if j["WRSet"]["HF_FSFZ"]<=l("4")then j["WR_MageFire_FSFZ_Important"]=f else j["WR_MageFire_FSFZ_Important"]=g end;if j["WRSet"]["HF_FSFZ"]==l("9")then return f elseif j["WRSet"]["HF_FSFZ"]==l("1")or j["WRSet"]["HF_FSFZ"]==l("5")or(j["WRSet"]["HF_FSFZ"]==l("4")or j["WRSet"]["HF_FSFZ"]==l("8"))and(not j["UnitExists"]("focus")or j["UnitIsDead"]("focus")or not j["UnitCanAttack"]("player","focus"))then if j["WR_MageFire_FSFZ_Unit"]("focus")then return g end;if j["WR_MageFire_FSFZ_Unit"]("target")then return g end;if j["WR_MageFire_FSFZ_Unit"]("mouseover")then return g end;for r=l("1"),l("4"),l("1")do if j["WR_MageFire_FSFZ_Unit"]("party"..r.."target")then return g end end elseif j["WRSet"]["HF_FSFZ"]==l("2")or j["WRSet"]["HF_FSFZ"]==l("6")then if j["WR_MageFire_FSFZ_Unit"]("target")then return g end elseif j["WRSet"]["HF_FSFZ"]==l("3")or j["WRSet"]["HF_FSFZ"]==l("7")then if j["WR_MageFire_FSFZ_Unit"]("mouseover")then return g end elseif j["WRSet"]["HF_FSFZ"]==l("4")or j["WRSet"]["HF_FSFZ"]==l("8")then if j["WR_MageFire_FSFZ_Unit"]("focus")then return g end end;return f end;j["WR_MageFire_JX"]=function(p)if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["HF_JX"]~=l("7")and j["WR_SpellUsable"]("镜像")and j["BuffTime_RS"]<=j["GCD"]then if j["WRSet"]["HF_JX"]<=l("5")and j["PlayerHP"]<j["WRSet"]["HF_JX"]/l("10")then if j["WR_ColorFrame_Show"]("CF11","镜像")then return g end end;if j["WRSet"]["HF_JX"]==l("6")and j["zhandoumoshi"]==l("1")and(j["WR_SpellUsable"]("燃烧")or j["BuffTime_RS"]>l("10"))then if j["WR_ColorFrame_Show"]("CF11","爆发镜像")then return g end end end;return f end;j["WR_MageFire_QTPZ"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["HF_QTPZ"]~=l("10")and j["WR_SpellUsable"]("群体屏障")and j["UnitAffectingCombat"]("player")and j["WR_PartyLostHP"]()>j["WRSet"]["HF_QTPZ"]/l("10")then if j["WR_ColorFrame_Show"]("SF5","群体屏障")then return g end end;return f end;j["WR_MageFire_JCZZ_Unit"]=function(q)if j["IsSpellInRange"]("解除诅咒",q)and j["WR_CanRemoveUnitDebuff"](q)then if q=="mouseover"then if j["WR_ColorFrame_Show"]("CN5","解咒M")then return g end elseif q=="player"then if j["WR_ColorFrame_Show"]("CN6","解咒P")then return g end elseif q=="party1"then if j["WR_ColorFrame_Show"]("CN1","解咒P1")then return g end elseif q=="party2"then if j["WR_ColorFrame_Show"]("CN2","解咒P2")then return g end elseif q=="party3"then if j["WR_ColorFrame_Show"]("CN3","解咒P3")then return g end elseif q=="party4"then if j["WR_ColorFrame_Show"]("CN4","解咒P4")then return g end end end;return f end;j["WR_MageFire_JCZZ"]=function()if not j["WR_SpellUsable"]("解除诅咒")then return f end;if j["WRSet"]["HF_JCZZ"]==l("4")then return f end;if j["WRSet"]["HF_JCZZ"]==l("1")then if j["WR_MageFire_JCZZ_Unit"]("mouseover")then return g end;if j["WR_MageFire_JCZZ_Unit"]("player")then return g end;for r=l("1"),l("4"),l("1")do if j["WR_MageFire_JCZZ_Unit"]("party"..r)then return g end end end;if j["WRSet"]["HF_JCZZ"]==l("2")then if j["WR_MageFire_JCZZ_Unit"]("mouseover")then return g end end;if j["WRSet"]["HF_JCZZ"]==l("3")then if j["WR_MageFire_JCZZ_Unit"]("player")then return g end end;return f end;j["WR_MageFire_FSXQ"]=function()if j["WRSet"]["HF_FSXQ"]and j["IsSpellInRange"]("法术吸取","target")and j["WR_SpellUsable"]("法术吸取")and j["WR_GetUnitBuffTime"]("target",j["StealBuffName"],f,"ID")~=l("0")then if j["WR_ColorFrame_Show"]("CF9","法术吸取")then return g end end;return f end;j["WR_MageFire_CJXX_Unit"]=function(q)if j["C_Spell"]["IsSpellInRange"]("超级新星",q)and j["WR_StunSpell"](q,l("2"))then if q=="target"then if j["WR_ColorFrame_Show"]("CSF5","超星T")then return g end elseif q=="focus"then if j["WR_ColorFrame_Show"]("CSF6","超星F")then return g end elseif q=="mouseover"then if j["WR_ColorFrame_Show"]("CSF7","超星M")then return g end elseif q=="party1target"then if j["WR_ColorFrame_Show"]("CSF1","超星P1T")then return g end elseif q=="party2target"then if j["WR_ColorFrame_Show"]("CSF2","超星P2T")then return g end elseif q=="party3target"then if j["WR_ColorFrame_Show"]("CSF3","超星P3T")then return g end elseif q=="party4target"then if j["WR_ColorFrame_Show"]("CSF4","超星P4T")then return g end end end;return f end;j["WR_MageFire_CJXX"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["HF_CJXX"]and j["WR_SpellUsable"]("超级新星")then if j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("CSF7","超星P")then return g end end;if j["WR_MageFire_CJXX_Unit"]("target")then return g end;if j["WR_MageFire_CJXX_Unit"]("focus")then return g end;if j["WR_MageFire_CJXX_Unit"]("mouseover")then return g end;for r=l("1"),l("4"),l("1")do if j["WR_MageFire_CJXX_Unit"]("party"..r.."target")then return g end end end;return f end;j["WR_MageFire_CJB"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["HF_CJB"]and j["WR_SpellUsable"]("冲击波")then if j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("SF4","冲击波")then return g end end end;return f end;j["WR_MageFire_LYHT"]=function()if j["WRSet"]["HF_LYHT"]and j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("烈焰护体")and j["WR_GetUnitBuffTime"]("player","烈焰护体")<=j["GCD"]then if j["WR_ColorFrame_Show"]("ASF1","烈焰护体")then return g end end;return f end;j["WR_MageFire_ASZH"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("奥术智慧")and(j["WR_GetUnitBuffTime"]("player","奥术智慧")<=j["GCD"]or not j["UnitAffectingCombat"]("player")and(j["WR_GetUnitBuffTime"]("player","奥术智慧")<l("600")or j["WR_PartyNotBuff"]("奥术智慧")))then if j["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return g end end;return f end end)()