local a=43;local b=36;local c=58;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_MageFire"]=function()if h["GetSpecialization"]()~=j("2")then return end;if h["BYHN_StartTime"]~=f and h["GetTime"]()-h["BYHN_StartTime"]<j("0.5")then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return e end;h["ShiFaSuDu"]=j("0.4")h["Latency"]=h["math"]["min"](h["WR_GetMaxLatency"](),j("0.1"))h["GCD"]=h["WR_GetGCD"]("奥术智慧")+h["Latency"]h["MaxGCD"]=h["WR_GetMaxGCD"](j("1.5"))h["PlayerHP"]=h["WR_GetUnitHP"]("player")h["PlayerMove"]=h["WR_PlayerMove"]()h["Training"]=h["WR_InTraining"]()h["TargetHP"]=j("1")if h["UnitExists"]("target")then h["TargetHP"]=h["UnitHealth"]("target")/h["UnitHealthMax"]("target")end;h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["TargetRange"]=h["WR_GetUnitRange"]("target")h["TargetSingle"]=h["WR_SingleUnit"]()h["TargetDeathTime"]=h["WR_GetUnitDeathTime"]("target")h["AvgDeathTime"]=h["WR_GetRangeAvgDeathTime"](j("40"))h["FlyTime"]=h["WR_GetUnitRange"]("target")/j("40")h["HUCountRange40"]=h["WR_GetRangeHarmUnitCount"](j("40"),not h["Training"])h["BuffTime_RS"]=h["WR_GetUnitBuffTime"]("player","燃烧")h["BuffTime_TYWDNH"]=h["WR_GetUnitBuffTime"]("player","太阳王的怒火")h["BuffCount_TYZWDZF"]=h["WR_GetUnitBuffCount"]("player","太阳之王的祝福")h["BuffTime_RLBF"]=h["WR_GetUnitBuffTime"]("player","热力迸发")h["BuffTime_CRLJ"]=h["WR_GetUnitBuffTime"]("player","炽热连击！")h["BuffTime_GRGW"]=h["WR_GetUnitBuffTime"]("player","过热高温")h["BuffTime_FB"]=h["WR_GetUnitBuffTime"]("player","浮冰")h["BuffTime_LYHT"]=h["WR_GetUnitBuffTime"]("player","烈焰护体")h["BuffTime_LYCM"]=h["WR_GetUnitBuffTime"]("player","烈焰触媒")h["BuffTime_SHZX"]=h["WR_GetUnitBuffTime"]("player","霜火增效")h["BuffTime_DRDHS"]=h["WR_GetUnitBuffTime"]("player","点燃导火索")h["BuffTime_YLHS"]=h["WR_GetUnitBuffTime"]("player","溢流寒霜")h["BuffTime_YLFH"]=h["WR_GetUnitBuffTime"]("player","溢流飞火")h["BuffTime_ASFH"]=h["WR_GetUnitBuffTime"]("player","奥术凤凰")h["DebuffTime_FSYH"],h["DebuffCount_FSYH"],h["_"]=h["WR_GetUnitDebuffInfo"]("target","焚身余灰",e)h["MaxDebuff_DR_Unit"]=h["WR_MageFire_MaxDebuff_DR"]()h["WR_MageFire_LastSpellTime"]()if h["BSNZY_FiyTime"]~=f and h["GetTime"]()-h["BSNZY_FiyTime"]>=j("1")+h["Latency"]then h["BSNZY_FiyTime"]=f end;if h["BSNZY_DamageTime"]~=f and h["GetTime"]()-h["BSNZY_DamageTime"]>j("0.1")+h["Latency"]then h["BSNZY_FiyTime"]=f;h["BSNZY_DamageTime"]=f end;if h["YBS_FiyTime"]~=f and h["GetTime"]()-h["YBS_FiyTime"]>=j("1")+h["Latency"]then h["YBS_FiyTime"]=f end;if h["YBS_DamageTime"]~=f and h["GetTime"]()-h["YBS_DamageTime"]>j("0.1")+h["Latency"]then h["YBS_FiyTime"]=f;h["YBS_DamageTime"]=f end;if h["HQS_FiyTime"]~=f and h["GetTime"]()-h["HQS_FiyTime"]>=j("1")+h["Latency"]then h["HQS_FiyTime"]=f end;if h["HQS_DamageTime"]~=f and h["GetTime"]()-h["HQS_DamageTime"]>j("0.1")+h["Latency"]then h["HQS_FiyTime"]=f;h["HQS_DamageTime"]=f end;if h["SHZJ_FiyTime"]~=f and h["GetTime"]()-h["SHZJ_FiyTime"]>=j("1")+h["Latency"]then h["SHZJ_FiyTime"]=f end;if h["SHZJ_DamageTime"]~=f and h["GetTime"]()-h["SHZJ_DamageTime"]>j("0.1")+h["Latency"]then h["SHZJ_FiyTime"]=f;h["SHZJ_DamageTime"]=f end;if h["YBS_FiyTime"]~=f or h["BSNZY_FiyTime"]~=f or h["HQS_FiyTime"]~=f or h["SHZJ_FiyTime"]~=f then h["SpellFiying"]=e else h["SpellFiying"]=d end;if(h["HYCJ_FiyTime"]==f or h["GetTime"]()-h["HYCJ_FiyTime"]>j("0.2"))and(h["HYCJ_PressTime"]==f or h["GetTime"]()-h["HYCJ_PressTime"]>j("0.5"))then h["LastSpell_Not_HYCJ"]=e else h["LastSpell_Not_HYCJ"]=d end;if h["MSG"]==j("1")then h["print"]("GCD:",h["GCD"])if h["YBS_FiyTime"]~=f then h["print"]("炎爆术 飞行时间：",h["GetTime"]()-h["YBS_FiyTime"])end;if h["BSNZY_FiyTime"]~=f then h["print"]("不死鸟之焰 飞行时间：",h["GetTime"]()-h["BSNZY_FiyTime"])end;h["print"]("技能在飞行中:",h["SpellFiying"])h["print"]("----------")end;if h["WR_MageFire_HYCJ"]("变易幻能")then return end;if h["WR_MageFire_StopCasting"]()then return end;if h["WR_PriorityCheck"]()then return end;if h["WR_MageFire_Use_CXCHW"]()then return end;if h["WR_Function_ZNMB"](j("40"),h["WRSet"]["HF_ZNMB"])then return e end;if h["WR_ZNJD"](h["WRSet"]["HF_ZNJD"])then return end;if h["WR_MageFire_SP"]("保命")then return e end;if h["WR_ZLS"](h["WRSet"]["HF_ZLS"])then return e end;if h["WR_ZLYS"](h["WRSet"]["HF_ZLYS"])then return e end;if h["WR_ZLYS2"](h["WRSet"]["HF_ZLYS"])then return e end;if h["WR_MageFire_HBPZ"]()then return e end;if h["WR_MageFire_FSFZ"]()then return e end;if h["WR_MageFire_QHYX"]()then return e end;if h["BuffTime_RS"]==j("0")and h["BuffTime_ASFH"]==j("0")and h["BuffTime_GRGW"]==j("0")then if h["WR_MageFire_JX"]()then return e end;if h["WR_MageFire_QTPZ"]()then return e end;if h["WR_MageFire_JCZZ"]()then return e end;if h["WR_MageFire_FSXQ"]()then return e end;if h["WR_MageFire_CJXX"]()then return e end;if h["WR_MageFire_CJB"]()then return e end;if h["WR_MageFire_LYHT"]()then return e end;if h["WR_MageFire_ASZH"]()then return e end end;if h["TargetInCombat"]and h["TargetRange"]<=j("40")and(h["UnitCastingInfo"]("player")~=f and h["GCD"]<h["WR_GetTrueCastTime"](h["UnitCastingInfo"]("player"))*j("0.8")or h["UnitCastingInfo"]("player")==f and h["GCD"]<=h["ShiFaSuDu"])then if h["UnitCastingInfo"]("player")==f and h["UnitChannelInfo"]("player")==f then if h["WR_MageFire_SP"]("常驻")then return e end;if h["BuffTime_RS"]>j("5")or h["BuffTime_ASFH"]>j("0")or h["BuffTime_GRGW"]>j("5")then if h["WR_WuQi"](j("40"),h["WRSet"]["HF_WuQi"])then return e end;if h["WR_MageFire_SP"]("爆发")then return e end end end;if h["WR_MageFire_YBS_LYFB"]()then return end;if h["BuffTime_RS"]>j("0")and h["BuffTime_RS"]<h["GCD"]+h["MaxGCD"]and h["BuffTime_ASFH"]>h["GCD"]and h["WR_GetSpellCharges"]("火焰冲击")==j("0")then if h["WR_ColorFrame_Show"]("Stop","等待过热")then return e end end;if h["WR_MageFire_RS"]()then return end;if h["WR_MageFire_BYHN"]()then return e end;if h["WR_MageFire_HYCJ"]("燃烧")then return end;if h["WR_MageFire_BSNZY"]("燃烧")then return end;if h["WR_MageFire_ZS"]("燃烧")then return end;if h["WR_MageFire_HYCJ"]("必爆灼烧")then return end;if h["WR_MageFire_HYCJ"]("火球")then return end;if h["WR_MageFire_HYCJ"]("普通灼烧")then return end;if h["WR_MageFire_HYCJ"]("移动")then return end;if h["WR_MageFire_HYCJ"]("满层幻能")then return end;if h["WR_MageFire_BSNZY"]("满层")then return end;if h["WR_MageFire_HYCJ"]("即将幻能")then return end;if h["WR_MageFire_BSNZY"]("必爆灼烧")then return end;if h["WR_MageFire_ZS"]("斩杀")then return end;if h["WR_MageFire_BSNZY"]("火球")then return end;if h["WR_MageFire_BSNZY"]("补")then return end;if h["WR_MageFire_HQS"]()then return end;if h["WR_MageFire_ZS"]("移动")then return end end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_MageFire_LastSpellTime"]=function()if h["MageFireLastSpellIsOpen"]==e then return end;local k=h["CreateFrame"]("Frame")k["RegisterEvent"](k,"COMBAT_LOG_EVENT_UNFILTERED")k["SetScript"](k,"OnEvent",function()if h["select"](j("4"),h["CombatLogGetCurrentEventInfo"]())==h["UnitGUID"]("player")then if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local l=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if l=="炎爆术"then h["YBS_FiyTime"]=h["GetTime"]()end;if l=="不死鸟之焰"then h["BSNZY_FiyTime"]=h["GetTime"]()h["BSNZY_CastTime"]=h["GetTime"]()end;if l=="火球术"then h["HQS_FiyTime"]=h["GetTime"]()end;if l=="霜火之箭"then h["SHZJ_FiyTime"]=h["GetTime"]()end;if l=="灼烧"then h["ZS_FiyTime"]=h["GetTime"]()end;if l=="火焰冲击"then h["HYCJ_FiyTime"]=h["GetTime"]()if h["HYCJ_CastTime"]==f then h["HYCJ_CastTime"]=h["GetTime"]()else if h["GetTime"]()-h["HYCJ_CastTime"]<j("3")then h["CXCHW_UseTime"]=h["HYCJ_CastTime"]+j("3")end;h["HYCJ_CastTime"]=h["GetTime"]()end end end;if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local l=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())local m=h["select"](j("21"),h["CombatLogGetCurrentEventInfo"]())if l=="炎爆术"then if m then h["YBS_DamageTime"]=h["GetTime"]()else h["YBS_FiyTime"]=f end end;if l=="不死鸟之焰"then if m then h["BSNZY_DamageTime"]=h["GetTime"]()else h["BSNZY_FiyTime"]=f end end;if l=="火球术"then if m then h["HQS_DamageTime"]=h["GetTime"]()else h["HQS_FiyTime"]=f end end;if l=="霜火之箭"then if m then h["SHZJ_DamageTime"]=h["GetTime"]()else h["SHZJ_FiyTime"]=f end end end;if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_AURA_APPLIED"then local l=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if l=="变易幻能"then h["BYHN_StartTime"]=h["GetTime"]()end end end end)h["MageFireLastSpellIsOpen"]=e end;h["WR_MageFire_RS"]=function()if h["WRSet"]["HF_RS"]and h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("燃烧")and h["AvgDeathTime"]>=j("15")and h["BuffTime_RS"]<=j("3.6")and not h["SpellFiying"]and h["BuffTime_CRLJ"]<=h["GCD"]and h["WR_GetSpellCharges"]("火焰冲击")>=j("1")and(h["UnitCastingInfo"]("player")=="火球术"or h["WR_MageFire_Crit_ZS"]()and h["BuffTime_RLBF"]<=h["GCD"]or h["PlayerMove"]and h["BuffTime_RLBF"]>h["GCD"])then if h["WR_ColorFrame_Show"]("CN7","燃烧")then return e end end;return d end;h["WR_MageFire_Crit_ZS"]=function()if h["UnitCastingInfo"]("player")=="灼烧"and(h["TargetHP"]<j("0.3")or h["BuffTime_RS"]>h["GCD"])then return e end;return d end;h["WR_MageFire_Crit_Spell"]=function()if h["UnitCastingInfo"]("player")~=f and(h["BuffTime_RS"]>h["GCD"]+h["FlyTime"]or h["WR_MageFire_Crit_ZS"]()or h["BuffTime_TYWDNH"]>h["GCD"]and h["UnitCastingInfo"]("player")=="炎爆术")then return e end;return d end;h["WR_MageFire_GCD_RLBF"]=function()if h["BuffTime_CRLJ"]==j("0")and(h["BuffTime_RLBF"]>h["GCD"]and not h["WR_MageFire_Crit_Spell"]()or h["BuffTime_RLBF"]==j("0")and h["WR_MageFire_Crit_Spell"]())then return e end;return d end;h["WR_MageFire_StopCasting"]=function()if h["WR_GetCombatTime"]()>j("5")and(h["UnitCastingInfo"]("player")=="炎爆术"or h["UnitCastingInfo"]("player")=="烈焰风暴")then if h["WR_ColorFrame_Show"]("CN8","停止施法1")then return e end end;if h["UnitCastingInfo"]("player")=="灼烧"then if h["BuffTime_RLBF"]>h["GCD"]and not h["WR_MageFire_Crit_ZS"]()and h["LastSpell_Not_HYCJ"]and(h["WR_GetSpellCharges"]("火焰冲击")>=j("1")or h["WR_GetSpellCharges"]("不死鸟之焰")>=j("1")or h["WR_GetSpellNextCharge"]("火焰冲击")<h["BuffTime_RLBF"]-j("0.2")or h["WR_GetSpellNextCharge"]("不死鸟之焰")<h["BuffTime_RLBF"]-h["FlyTime"])then if h["WR_ColorFrame_Show"]("CN8","停止施法2")then return e end end;if h["BuffTime_CRLJ"]>h["GCD"]and h["GCD"]>h["WR_GetTrueCastTime"](h["UnitCastingInfo"]("player"))/j("2")then if h["WR_ColorFrame_Show"]("CN8","停止施法3")then return e end end end;if h["UnitCastingInfo"]("player")=="火球术"then if h["BuffTime_RLBF"]>h["GCD"]and h["BuffTime_RS"]<h["GCD"]+h["FlyTime"]and h["LastSpell_Not_HYCJ"]and h["WR_GetSpellCharges"]("不死鸟之焰")>=j("1")and h["WR_GetSpellCharges"]("火焰冲击")==j("0")then if h["WR_ColorFrame_Show"]("CN8","停止施法4")then return e end end end;return d end;h["WR_MageFire_Use_CXCHW"]=function()if h["BuffTime_RS"]>j("5")and h["CXCHW_UseTime"]~=f and h["CXCHW_UseTime"]>h["GetTime"]()and h["WR_GetSpellCharges"]("火焰冲击")==j("0")and h["WR_Use_Item"](j("9"),j("168989"))then if h["WR_ColorFrame_Show"]("SF12","超线程护腕")then return e end end;return d end;h["WR_MageFire_YBS_LYFB"]=function()if h["WR_SpellUsable"]("炎爆术")and(h["BuffTime_CRLJ"]>h["GCD"]or h["BuffTime_RLBF"]>h["GCD"]and h["WR_MageFire_Crit_ZS"]()or h["BuffTime_GRGW"]>h["GCD"])then if h["WRSet"]["HF_LYFB"]<=j("8")and h["WR_GetRangeHarmUnitCount"](j("20"),not h["WR_InTraining"]())>=h["WRSet"]["HF_LYFB"]then if h["WR_ColorFrame_Show"]("SF1","烈焰风暴")then return e end else if h["WR_ColorFrame_Show"]("CF2","炎爆术")then return e end end end;return d end;h["WR_MageFire_HYCJ"]=function(n)if h["WR_SpellUsable"]("火焰冲击")and h["LastSpell_Not_HYCJ"]and not h["SpellFiying"]and h["BuffTime_CRLJ"]<=h["GCD"]and(h["HYCJ_PressTime"]==f or h["GetTime"]()-h["HYCJ_PressTime"]>h["MaxGCD"])and(h["BSNZY_PressTime"]==f or h["GetTime"]()-h["BSNZY_PressTime"]>h["ShiFaSuDu"])then if n=="燃烧"and(h["BuffTime_RS"]>h["GCD"]or h["BuffTime_ASFH"]>h["GCD"])and(h["BuffTime_RLBF"]>h["GCD"]or h["BuffTime_RLBF"]<=h["GCD"]and h["WR_MageFire_Crit_ZS"]()or h["BuffTime_RLBF"]<=h["GCD"]and h["UnitCastingInfo"]("player")=="火球术"and h["BuffTime_RS"]>h["GCD"]+h["FlyTime"])then if h["WR_ColorFrame_Show"]("F12","燃烧冲击")then return e end end;if n=="必爆灼烧"and h["WR_MageFire_Crit_ZS"]()and h["BuffTime_RLBF"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("F12","灼烧冲击1")then return e end end;if n=="普通灼烧"and h["UnitCastingInfo"]("player")=="灼烧"and not h["WR_MageFire_Crit_ZS"]()and h["BuffTime_RLBF"]>h["GCD"]then if h["WR_ColorFrame_Show"]("F12","灼烧冲击2")then return e end end;if n=="火球"and h["UnitCastingInfo"]("player")=="火球术"and h["BuffTime_RLBF"]>h["GCD"]and h["WR_MageFire_GCD_RLBF"]()then if h["WR_ColorFrame_Show"]("F12","火球冲击")then return e end end;if n=="变易幻能"and h["UnitChannelInfo"]("player")=="变易幻能"then if h["BuffTime_RLBF"]>h["GCD"]and h["WR_MageFire_GCD_RLBF"]()then if h["WR_ColorFrame_Show"]("F12","幻能冲击")then return e end end;if h["WR_GetSpellCharges"]("火焰冲击")>=j("2")and h["WR_GetSpellNextCharge"]("火焰冲击")<j("5")then if h["WR_ColorFrame_Show"]("F12","幻能满冲")then return e end end end;if n=="移动"and h["BuffTime_FB"]<=h["GCD"]and h["PlayerMove"]and h["BuffTime_RLBF"]>h["GCD"]and h["UnitCastingInfo"]("player")==f then if h["WR_ColorFrame_Show"]("F12","移动冲击")then return e end end;if n=="即将幻能"and h["zhandoumoshi"]==j("1")and h["WRSet"]["HF_BYHN"]and h["WR_SpellUsable"]("变易幻能")and h["WR_GetGCD"]("燃烧")>j("12")and(h["BuffTime_RLBF"]>h["GCD"]or h["BSNZY_FiyTime"]~=f and h["YBS_FiyTime"]==f and h["HQS_FiyTime"]==f and h["BuffTime_RLBF"]<=h["GCD"])then if h["WR_ColorFrame_Show"]("F12","即幻冲击")then return e end end;if n=="满层幻能"and h["zhandoumoshi"]==j("1")and h["WRSet"]["HF_BYHN"]and h["WR_SpellUsable"]("变易幻能")and h["WR_GetGCD"]("燃烧")>j("12")and(h["BuffTime_RLBF"]>h["GCD"]or h["BSNZY_FiyTime"]~=f and h["YBS_FiyTime"]==f and h["HQS_FiyTime"]==f and h["BuffTime_RLBF"]<=h["GCD"])and(h["WR_GetUnitBuffTime"]("player","白炽耀焰")>h["GCD"]or h["WR_GetSpellCharges"]("不死鸟之焰")<=j("1")and h["WR_GetSpellCharges"]("火焰冲击")>h["WR_GetSpellCharges"]("不死鸟之焰"))then if h["WR_ColorFrame_Show"]("F12","白炽冲击")then return e end end end;return d end;h["WR_MageFire_BSNZY"]=function(n)if h["WR_SpellUsable"]("不死鸟之焰")then if n=="满层"and not h["SpellFiying"]and h["UnitCastingInfo"]("player")==f and h["LastSpell_Not_HYCJ"]and(h["BSNZY_CastTime"]==f or h["GetTime"]()-h["BSNZY_CastTime"]>h["MaxGCD"])then if h["WR_GetSpellCharges"]("不死鸟之焰")>=j("2")or h["WR_GetSpellNextCharge"]("不死鸟之焰")<h["GCD"]+h["MaxGCD"]and(h["WR_GetSpellCharges"]("火焰冲击")>=j("1")or h["WR_GetSpellNextCharge"]("火焰冲击")<h["GCD"]+h["MaxGCD"]+h["WR_GetTrueCastTime"]("火球术")/j("2"))then if h["WR_ColorFrame_Show"]("CF7","满层不死鸟")then return e end end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["HF_BYHN"]and h["WR_SpellUsable"]("变易幻能")and h["WR_GetGCD"]("燃烧")>j("12")then if h["WR_ColorFrame_Show"]("CF7","即幻不死鸟")then return e end end end;if n=="补"and not h["SpellFiying"]and h["BuffTime_RLBF"]>h["GCD"]and h["UnitCastingInfo"]("player")==f and h["LastSpell_Not_HYCJ"]and h["WR_GetSpellCharges"]("火焰冲击")==j("0")and h["WR_GetSpellNextCharge"]("火焰冲击")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF7","补不死鸟")then return e end end;if n=="燃烧"and h["LastSpell_Not_HYCJ"]and not h["SpellFiying"]and(h["BuffTime_RS"]>h["GCD"]+h["FlyTime"]or h["BuffTime_ASFH"]>h["GCD"])then if h["WR_ColorFrame_Show"]("CF7","燃烧不死鸟")then return e end end;if n=="火球"and h["BuffTime_RLBF"]<=h["GCD"]and h["UnitCastingInfo"]("player")=="火球术"and h["LastSpell_Not_HYCJ"]and(h["WR_GetSpellCharges"]("火焰冲击")>=j("1")or h["WR_GetSpellNextCharge"]("火焰冲击")<h["GCD"]+h["MaxGCD"]+h["WR_GetTrueCastTime"]("火球术")/j("2"))then if h["WR_ColorFrame_Show"]("CF7","火球不死鸟")then return e end end;if n=="必爆灼烧"and h["BuffTime_RLBF"]<=h["GCD"]and h["WR_MageFire_Crit_ZS"]()and h["LastSpell_Not_HYCJ"]and(h["WR_GetSpellCharges"]("火焰冲击")==j("0")and h["WR_GetSpellNextCharge"]("火焰冲击")>h["GCD"])then if h["WR_ColorFrame_Show"]("CF7","灼烧不死鸟")then return e end end end;return d end;h["WR_MageFire_HQS"]=function(n)if h["WR_SpellUsable"]("火球术")and h["LastSpell_Not_HYCJ"]and h["BuffTime_ASFH"]<=h["GCD"]and h["BuffTime_GRGW"]==j("0")and(h["BuffTime_FB"]>h["GCD"]or not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("火球术")))and(not h["SpellFiying"]or h["BuffTime_RS"]<=h["GCD"]and h["WR_GetSpellCharges"]("火焰冲击")>=j("1")and(h["zhandoumoshi"]==j("0")or not h["WRSet"]["HF_BYHN"]or not h["WR_SpellUsable"]("变易幻能")or h["WR_GetGCD"]("燃烧")<j("12")))and(h["TargetHP"]>=j("0.3")or h["WR_InTraining"]())then if h["WR_ColorFrame_Show"]("CF4","火球术")then return e end end;return d end;h["WR_MageFire_ZS"]=function(n)if h["WR_SpellUsable"]("灼烧")and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("灼烧"))and not h["SpellFiying"]and h["LastSpell_Not_HYCJ"]then if n=="斩杀"and h["TargetHP"]<j("0.3")and not h["WR_InTraining"]()then if h["WR_ColorFrame_Show"]("CF3","斩杀灼烧")then return e end end;if n=="燃烧"and not h["SpellFiying"]and(h["BuffTime_RS"]>h["GCD"]+h["WR_GetTrueCastTime"]("灼烧")or h["BuffTime_ASFH"]>h["GCD"])then if h["WR_ColorFrame_Show"]("CF3","燃烧灼烧")then return e end end;if n=="移动"and h["BuffTime_FB"]==j("0")and h["PlayerMove"]and(h["BuffTime_RLBF"]<=h["GCD"]or h["BuffTime_RLBF"]>h["GCD"]and h["WR_GetSpellCharges"]("火焰冲击")==j("0")and h["WR_GetSpellCharges"]("不死鸟之焰")==j("0")and h["WR_GetSpellNextCharge"]("火焰冲击")>h["BuffTime_RLBF"]-j("0.2")and h["WR_GetSpellNextCharge"]("不死鸟之焰")>h["BuffTime_RLBF"]-h["FlyTime"])then if h["WR_ColorFrame_Show"]("CF3","移动灼烧")then return e end end end;return d end;h["WR_MageFire_FB"]=function()if h["WRSet"]["HF_FB"]and h["WR_SpellUsable"]("浮冰")and h["BuffTime_FB"]==j("0")then if h["WR_ColorFrame_Show"]("F7","浮冰")then return e end end;return d end;h["WR_MageFire_BYHN"]=function()if h["WRSet"]["HF_BYHN"]and h["zhandoumoshi"]==j("1")and h["BuffTime_RS"]<=h["GCD"]and not h["PlayerMove"]and not h["SpellFiying"]and h["BuffTime_CRLJ"]<=h["GCD"]and h["BuffTime_GRGW"]<=h["GCD"]and h["BuffTime_ASFH"]<=h["GCD"]and(h["WR_GetSpellCharges"]("不死鸟之焰")==j("0")or h["WR_GetSpellNextCharge"]("不死鸟之焰")>j("12")and h["WR_GetSpellCharges"]("火焰冲击")==j("0"))and h["WR_GetGCD"]("燃烧")>j("12")and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("变易幻能"))and h["WR_SpellUsable"]("变易幻能")then if h["WR_MageFire_FB"]()then return e end;if h["WR_ColorFrame_Show"]("CSP","变易幻能")then return e end end;return d end;h["WR_MageFire_DR_Value"]=function(o)for p=j("1"),j("40"),j("1")do local q=h["C_UnitAuras"]["GetAuraDataByIndex"](o,p,"HARMFUL")if q~=f and q["name"]=="点燃"and q["sourceUnit"]=="player"then return q["points"][j("1")]end end;return j("0")end;h["WR_MageFire_MaxDebuff_DR"]=function()local r="target"local s=h["WR_MageFire_DR_Value"]("target")h["Temp_DR"]=h["WR_MageFire_DR_Value"]("mouseover")if h["Temp_DR"]>=s and h["WR_GetUnitRange"]("mouseover")<=j("40")and h["WR_TargetInCombat"]("mouseover")then r="mouseover"s=h["Temp_DR"]end;for p=j("1"),j("4"),j("1")do h["Temp_DR"]=h["WR_MageFire_DR_Value"]("party"..p.."target")if h["Temp_DR"]>=s and h["WR_GetUnitRange"]("party"..p.."target")<=j("40")and h["WR_TargetInCombat"]("party"..p.."target")then r="party"..p.."target"s=h["Temp_DR"]end end;return r end;h["WR_MageFire_SP"]=function(n)if n=="保命"then if h["WRSet"]["HF_SP1"]>=j("3")then if h["WR_ShiPin"](j("1"),h["WRSet"]["HF_SP1"])then return e end end;if h["WRSet"]["HF_SP2"]>=j("3")then if h["WR_ShiPin"](j("2"),h["WRSet"]["HF_SP2"])then return e end end elseif n=="常驻"then if h["WRSet"]["HF_SP1"]==j("1")then if h["WR_ShiPin"](j("1"),h["WRSet"]["HF_SP1"])then return e end end;if h["WRSet"]["HF_SP2"]==j("1")then if h["WR_ShiPin"](j("2"),h["WRSet"]["HF_SP2"])then return e end end elseif n=="爆发"then if h["WRSet"]["HF_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["HF_SP1"])then return e end end;if h["WRSet"]["HF_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["HF_SP2"])then return e end end end;return d end;h["WR_MageFire_HBPZ"]=function()if h["WRSet"]["HF_HBPZ"]~=j("5")and h["WR_SpellUsable"]("寒冰屏障")and h["PlayerHP"]<h["WRSet"]["HF_HBPZ"]/j("10")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitBuffTime"]("player",j("113862"))==j("0")then if h["WR_ColorFrame_Show"]("F9","寒冰屏障")then return e end end;return d end;h["WR_MageFire_QHYX"]=function()if h["WRSet"]["HF_QHYX"]~=j("5")and h["IsPlayerSpell"](j("110959"))and h["WR_SpellUsable"]("强化隐形术")and h["PlayerHP"]<h["WRSet"]["HF_QHYX"]/j("10")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitBuffTime"]("player","深寒凝冰")==j("0")and h["WR_GetUnitBuffTime"]("player","寒冰屏障")==j("0")then if h["WR_ColorFrame_Show"]("SF7","强化隐形")then return e end end;return d end;h["WR_MageFire_FSFZ_Unit"]=function(o)if h["IsSpellInRange"]("法术反制",o)and h["WR_GetCastInterruptible"](o,h["InterruptTime"],h["WR_MageFire_FSFZ_Important"])then if o=="target"then if h["WR_ColorFrame_Show"]("AN5","反制T")then return e end elseif o=="mouseover"then if h["WR_ColorFrame_Show"]("AN6","反制M")then return e end elseif o=="focus"then if h["WR_ColorFrame_Show"]("AN7","反制F")then return e end elseif o=="party1target"then if h["WR_ColorFrame_Show"]("AN1","反制P1T")then return e end elseif o=="party2target"then if h["WR_ColorFrame_Show"]("AN2","反制P2T")then return e end elseif o=="party3target"then if h["WR_ColorFrame_Show"]("AN3","反制P3T")then return e end elseif o=="party4target"then if h["WR_ColorFrame_Show"]("AN4","反制P4T")then return e end end end;return d end;h["WR_MageFire_FSFZ"]=function()if not h["WR_SpellUsable"]("法术反制")then return d end;if h["UnitChannelInfo"]("player")~=f then return d end;if h["WRSet"]["HF_FSFZ"]<=j("4")then h["WR_MageFire_FSFZ_Important"]=d else h["WR_MageFire_FSFZ_Important"]=e end;if h["WRSet"]["HF_FSFZ"]==j("9")then return d elseif h["WRSet"]["HF_FSFZ"]==j("1")or h["WRSet"]["HF_FSFZ"]==j("5")or(h["WRSet"]["HF_FSFZ"]==j("4")or h["WRSet"]["HF_FSFZ"]==j("8"))and(not h["UnitExists"]("focus")or h["UnitIsDead"]("focus")or not h["UnitCanAttack"]("player","focus"))then if h["WR_MageFire_FSFZ_Unit"]("focus")then return e end;if h["WR_MageFire_FSFZ_Unit"]("target")then return e end;if h["WR_MageFire_FSFZ_Unit"]("mouseover")then return e end;for p=j("1"),j("4"),j("1")do if h["WR_MageFire_FSFZ_Unit"]("party"..p.."target")then return e end end elseif h["WRSet"]["HF_FSFZ"]==j("2")or h["WRSet"]["HF_FSFZ"]==j("6")then if h["WR_MageFire_FSFZ_Unit"]("target")then return e end elseif h["WRSet"]["HF_FSFZ"]==j("3")or h["WRSet"]["HF_FSFZ"]==j("7")then if h["WR_MageFire_FSFZ_Unit"]("mouseover")then return e end elseif h["WRSet"]["HF_FSFZ"]==j("4")or h["WRSet"]["HF_FSFZ"]==j("8")then if h["WR_MageFire_FSFZ_Unit"]("focus")then return e end end;return d end;h["WR_MageFire_JX"]=function(n)if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["HF_JX"]~=j("7")and h["WR_SpellUsable"]("镜像")and h["BuffTime_RS"]<=h["GCD"]then if h["WRSet"]["HF_JX"]<=j("5")and h["PlayerHP"]<h["WRSet"]["HF_JX"]/j("10")then if h["WR_ColorFrame_Show"]("CF11","镜像")then return e end end;if h["WRSet"]["HF_JX"]==j("6")and h["zhandoumoshi"]==j("1")and(h["WR_SpellUsable"]("燃烧")or h["BuffTime_RS"]>j("10"))then if h["WR_ColorFrame_Show"]("CF11","爆发镜像")then return e end end end;return d end;h["WR_MageFire_QTPZ"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["HF_QTPZ"]~=j("10")and h["WR_SpellUsable"]("群体屏障")and h["UnitAffectingCombat"]("player")and h["WR_PartyLostHP"]()>h["WRSet"]["HF_QTPZ"]/j("10")then if h["WR_ColorFrame_Show"]("SF5","群体屏障")then return e end end;return d end;h["WR_MageFire_JCZZ_Unit"]=function(o)if h["IsSpellInRange"]("解除诅咒",o)and h["WR_CanRemoveUnitDebuff"](o)then if o=="mouseover"then if h["WR_ColorFrame_Show"]("CN5","解咒M")then return e end elseif o=="player"then if h["WR_ColorFrame_Show"]("CN6","解咒P")then return e end elseif o=="party1"then if h["WR_ColorFrame_Show"]("CN1","解咒P1")then return e end elseif o=="party2"then if h["WR_ColorFrame_Show"]("CN2","解咒P2")then return e end elseif o=="party3"then if h["WR_ColorFrame_Show"]("CN3","解咒P3")then return e end elseif o=="party4"then if h["WR_ColorFrame_Show"]("CN4","解咒P4")then return e end end end;return d end;h["WR_MageFire_JCZZ"]=function()if not h["WR_SpellUsable"]("解除诅咒")then return d end;if h["WRSet"]["HF_JCZZ"]==j("4")then return d end;if h["WRSet"]["HF_JCZZ"]==j("1")then if h["WR_MageFire_JCZZ_Unit"]("mouseover")then return e end;if h["WR_MageFire_JCZZ_Unit"]("player")then return e end;for p=j("1"),j("4"),j("1")do if h["WR_MageFire_JCZZ_Unit"]("party"..p)then return e end end end;if h["WRSet"]["HF_JCZZ"]==j("2")then if h["WR_MageFire_JCZZ_Unit"]("mouseover")then return e end end;if h["WRSet"]["HF_JCZZ"]==j("3")then if h["WR_MageFire_JCZZ_Unit"]("player")then return e end end;return d end;h["WR_MageFire_FSXQ"]=function()if h["WRSet"]["HF_FSXQ"]and h["IsSpellInRange"]("法术吸取","target")and h["WR_SpellUsable"]("法术吸取")and h["WR_GetUnitBuffTime"]("target",h["StealBuffName"],d,"ID")~=j("0")then if h["WR_ColorFrame_Show"]("CF9","法术吸取")then return e end end;return d end;h["WR_MageFire_CJXX_Unit"]=function(o)if h["C_Spell"]["IsSpellInRange"]("超级新星",o)and h["WR_StunSpell"](o,j("2"))then if o=="target"then if h["WR_ColorFrame_Show"]("CSF5","超星T")then return e end elseif o=="focus"then if h["WR_ColorFrame_Show"]("CSF6","超星F")then return e end elseif o=="mouseover"then if h["WR_ColorFrame_Show"]("CSF7","超星M")then return e end elseif o=="party1target"then if h["WR_ColorFrame_Show"]("CSF1","超星P1T")then return e end elseif o=="party2target"then if h["WR_ColorFrame_Show"]("CSF2","超星P2T")then return e end elseif o=="party3target"then if h["WR_ColorFrame_Show"]("CSF3","超星P3T")then return e end elseif o=="party4target"then if h["WR_ColorFrame_Show"]("CSF4","超星P4T")then return e end end end;return d end;h["WR_MageFire_CJXX"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["HF_CJXX"]and h["WR_SpellUsable"]("超级新星")then if h["WR_StunUnit"](j("8"),j("2"))then if h["WR_ColorFrame_Show"]("CSF7","超星P")then return e end end;if h["WR_MageFire_CJXX_Unit"]("target")then return e end;if h["WR_MageFire_CJXX_Unit"]("focus")then return e end;if h["WR_MageFire_CJXX_Unit"]("mouseover")then return e end;for p=j("1"),j("4"),j("1")do if h["WR_MageFire_CJXX_Unit"]("party"..p.."target")then return e end end end;return d end;h["WR_MageFire_CJB"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["HF_CJB"]and h["WR_SpellUsable"]("冲击波")then if h["WR_StunUnit"](j("8"),j("2"))then if h["WR_ColorFrame_Show"]("SF4","冲击波")then return e end end end;return d end;h["WR_MageFire_LYHT"]=function()if h["WRSet"]["HF_LYHT"]and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("烈焰护体")and h["WR_GetUnitBuffTime"]("player","烈焰护体")<=h["GCD"]then if h["WR_ColorFrame_Show"]("ASF1","烈焰护体")then return e end end;return d end;h["WR_MageFire_ASZH"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("奥术智慧")and(h["WR_GetUnitBuffTime"]("player","奥术智慧")<=h["GCD"]or not h["UnitAffectingCombat"]("player")and(h["WR_GetUnitBuffTime"]("player","奥术智慧")<j("600")or h["WR_PartyNotBuff"]("奥术智慧")))then if h["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return e end end;return d end end)()