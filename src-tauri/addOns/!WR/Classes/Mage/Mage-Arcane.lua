local a=87;local b=60;local c=98;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_MageArcane"]=function()if h["GetSpecialization"]()~=j("3")then return end;if h["UnitCastingInfo"]("player")==f then h["ShiFaSuDu"]=j("0.15")else h["ShiFaSuDu"]=j("0.2")end;h["WR_MageArcane_LastSpellTime"]()h["GCD"]=h["WR_GetGCD"]("奥术智慧")h["MaxGCD"]=h["WR_GetMaxGCD"](j("1.5"))h["FlyTime"]=h["WR_GetUnitRange"]("target")/j("40")h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")h["PlayerMove"]=h["WR_PlayerMove"]()h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["TargetRange"]=h["WR_GetUnitRange"]("target")h["DebuffTime_SDZH"],h["DebuffCount_SDZH"]=h["WR_MageArcane_GetDebuffInfo_SDZH"]()h["BuffTime_FB"]=h["WR_GetUnitBuffTime"]("player","浮冰")h["NotSDZH_Count"]=h["WR_GetNoDebuffRangeUnitCount"](j("10"),"深冬之寒")if h["MSG"]==j("1")then h["print"]("----------")end;if h["WR_PriorityCheck"]()then return end;if h["WR_Function_ZNMB"](j("40"),h["WRSet"]["BF_ZNMB"])then return e end;if h["WR_ZNJD"](h["WRSet"]["BF_ZNJD"])then return end;if h["WR_MageArcane_Priority_Help"]()then return end;if h["WR_MageArcane_SP"]("常驻")then return end;if h["WR_WuQi"](j("40"),h["WRSet"]["BF_WuQi"])then return e end;if h["WR_GetRangeHarmUnitCount"](j("15"))<j("3")then if h["WR_MageArcane_HBJ"]("开场")then return end;if h["WR_MageArcane_BFB"]("S1")then return end;if h["WR_MageArcane_BFB"]("S4")then return end;if h["WR_MageArcane_BLXM"]("单体")then return end;if h["WR_MageArcane_HXFB"]("单体")then return end;if h["WR_MageArcane_BCJC"]("单体")then return end;if h["WR_MageArcane_BSSX"]("单体")then return end;if h["WR_MageArcane_HBBZ"]("单体")then return end;if h["WR_MageArcane_Help"]()then return end;if h["WR_MageArcane_BYHN"]("单体")then return end;if h["WR_MageArcane_BQS"]("冻结")then return end;if h["WR_MageArcane_HBJ"]()then return end;if h["WR_MageArcane_BQS"]()then return end else if h["WR_MageArcane_BFX"]("开场")then return end;if h["WR_MageArcane_BLXM"]("AOE")then return end;if h["WR_MageArcane_HBBZ"]("AOE1")then return end;if h["WR_MageArcane_HBJ"]("死亡寒意")then return end;if h["WR_MageArcane_HXFB"]("AOE1")then return end;if h["WR_MageArcane_BZS"]()then return end;if h["WR_MageArcane_BDS"]()then return end;if h["WR_MageArcane_HBXX"]()then return end;if h["WR_MageArcane_BSXX"]()then return end;if h["WR_MageArcane_HBBZ"]("AOE2")then return end;if h["WR_MageArcane_BQS"]("满火")then return end;if h["WR_MageArcane_BFX"]()then return end;if h["WR_MageArcane_HXFB"]("AOE2")then return end;if h["WR_MageArcane_BSSX"]("AOE")then return end;if h["WR_MageArcane_BCJC"]("AOE")then return end;if h["WR_MageArcane_BFB"]("AOE1")then return end;if h["WR_MageArcane_BFB"]("AOE2")then return end;if h["WR_MageArcane_HBJ"]("霜火增效")then return end;if h["WR_MageArcane_Help"]()then return end;if h["WR_MageArcane_BYHN"]("AOE")then return end;if h["WR_MageArcane_BQS"]("冻结")then return end;if h["WR_MageArcane_HBJ"]()then return end;if h["WR_MageArcane_BQS"]()then return end end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_MageArcane_Priority_Help"]=function()if h["UnitCastingInfo"]("player")~="冰川尖刺"then if h["WR_MageArcane_SP"]("保命")then return e end;if h["WR_ZLS"](h["WRSet"]["BF_ZLS"])then return e end;if h["WR_ZLYS"](h["WRSet"]["BF_ZLYS"])then return e end;if h["WR_ZLYS2"](h["WRSet"]["BF_ZLYS"])then return e end;if h["WR_MageArcane_HBPZ"]()then return e end;if h["WR_MageArcane_QHYX"]()then return e end;if h["WR_MageArcane_JSLQ"]()then return e end;if h["WR_MageArcane_FSFZ"]()then return e end;if h["WR_MageArcane_JX"]("爆发")then return e end end;return d end;h["WR_MageArcane_Help"]=function()if h["WR_MageArcane_JX"]()then return e end;if h["WR_MageArcane_QTPZ"]()then return e end;if h["WR_MageArcane_JCZZ"]()then return e end;if h["WR_MageArcane_FSXQ"]()then return e end;if h["WR_MageArcane_CJXX"]()then return e end;if h["WR_MageArcane_CJB"]()then return e end;if h["WR_MageArcane_HBHT"]()then return e end;if h["WR_MageArcane_ASZH"]()then return e end;return d end;h["WR_MageArcane_LastSpellTime"]=function()if h["MageArcaneLastSpellIsOpen"]==e then return end;local k=h["CreateFrame"]("Frame")k["RegisterEvent"](k,"COMBAT_LOG_EVENT_UNFILTERED")k["SetScript"](k,"OnEvent",function()if h["select"](j("4"),h["CombatLogGetCurrentEventInfo"]())==h["UnitGUID"]("player")then if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local l=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if l=="冰风暴"then h["BFB_FiyTime"]=h["GetTime"]()h["BQS_CastCount"]=j("2")end;if l=="冰枪术"then h["BQS_FiyTime"]=h["GetTime"]()h["BQS_Fiying"]=e;if h["BQS_CastCount"]~=f then h["BQS_CastCount"]=h["BQS_CastCount"]-j("1")end end;if l=="霜火之箭"then h["SHZJ_FiyTime"]=h["GetTime"]()h["SHZJ_Fiying"]=e;if h["BQS_CastCount"]~=f then h["BQS_CastCount"]=h["BQS_CastCount"]-j("1")end end;if l=="冰川尖刺"then h["BCJC_FiyTime"]=h["GetTime"]()h["BCJC_Fiying"]=e;if h["BQS_CastCount"]~=f then h["BQS_CastCount"]=h["BQS_CastCount"]-j("1")end end;if l=="彗星风暴"then h["HXFB_FiyTime"]=h["GetTime"]()end;if l=="冰锥术"then h["BZS_FiyTime"]=h["GetTime"]()end;if l=="暴风雪"then h["BFX_FiyTime"]=h["GetTime"]()end end;if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_DAMAGE"then local l=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())local m=h["select"](j("21"),h["CombatLogGetCurrentEventInfo"]())if l=="冰枪术"then h["BQS_Fiying"]=d end;if l=="霜火之箭"then h["SHZJ_Fiying"]=d end;if l=="冰川尖刺"then h["BCJC_Fiying"]=d end end end end)h["MageArcaneLastSpellIsOpen"]=e end;h["WR_MageArcane_GetDebuffInfo_SDZH"]=function()local n,o=h["WR_GetUnitDebuffInfo"]("target","深冬之寒",e)if h["BFB_FiyTime"]~=f and h["GetTime"]()-h["BFB_FiyTime"]<h["MaxGCD"]then n=j("6")o=j("2")end;if h["BCJC_Fiying"]and h["GetTime"]()-h["BCJC_FiyTime"]>h["FlyTime"]then h["BCJC_Fiying"]=d end;if h["SHZJ_Fiying"]and h["GetTime"]()-h["SHZJ_FiyTime"]>h["FlyTime"]then h["SHZJ_Fiying"]=d end;if h["BQS_Fiying"]and h["GetTime"]()-h["BQS_FiyTime"]>h["FlyTime"]then h["BQS_Fiying"]=d end;h["FiyingSum"]=j("0")if h["BCJC_Fiying"]then h["FiyingSum"]=h["FiyingSum"]+j("1")end;if h["SHZJ_Fiying"]then h["FiyingSum"]=h["FiyingSum"]+j("1")end;if h["BQS_Fiying"]then h["FiyingSum"]=h["FiyingSum"]+j("1")end;o=o-h["FiyingSum"]if h["FiyingSum"]==j("0")and(h["UnitCastingInfo"]("player")=="冰川尖刺"or h["UnitCastingInfo"]("player")=="霜火之箭")then o=o-j("1")end;if o<=j("0")then n=j("0")end;if o<=j("0")or h["BQS_CastCount"]~=f and h["BQS_CastCount"]==j("0")then n=j("0")o=j("0")end;if h["MSG"]==j("1")then if h["BCJC_Fiying"]then h["print"]("冰川尖刺",h["GetTime"]()-h["BCJC_FiyTime"])end;if h["SHZJ_Fiying"]then h["print"]("霜火之箭",h["GetTime"]()-h["SHZJ_FiyTime"])end;if h["BQS_Fiying"]then h["print"]("冰枪术",h["GetTime"]()-h["BQS_FiyTime"])end;h["print"]("飞行技能数量:",h["FiyingSum"])h["print"]("深冬之寒:",o,"层,剩余时间:",n)end;return n,o end;h["WR_MageArcane_FSFZ_Unit"]=function(p)if h["IsSpellInRange"]("法术反制",p)and h["WR_GetCastInterruptible"](p,h["InterruptTime"],h["WR_MageArcane_FSFZ_Important"])then if p=="target"then if h["WR_ColorFrame_Show"]("AN5","反制T")then return e end elseif p=="mouseover"then if h["WR_ColorFrame_Show"]("AN6","反制M")then return e end elseif p=="focus"then if h["WR_ColorFrame_Show"]("AN7","反制F")then return e end elseif p=="party1target"then if h["WR_ColorFrame_Show"]("AN1","反制P1T")then return e end elseif p=="party2target"then if h["WR_ColorFrame_Show"]("AN2","反制P2T")then return e end elseif p=="party3target"then if h["WR_ColorFrame_Show"]("AN3","反制P3T")then return e end elseif p=="party4target"then if h["WR_ColorFrame_Show"]("AN4","反制P4T")then return e end end end;return d end;h["WR_MageArcane_FSFZ"]=function()if not h["WR_SpellUsable"]("法术反制")then return d end;if h["UnitCastingInfo"]("player")=="冰川尖刺"then return d end;if h["UnitChannelInfo"]("player")~=f then return d end;if h["WRSet"]["BF_FSFZ"]<=j("4")then h["WR_MageArcane_FSFZ_Important"]=d else h["WR_MageArcane_FSFZ_Important"]=e end;if h["WRSet"]["BF_FSFZ"]==j("9")then return d elseif h["WRSet"]["BF_FSFZ"]==j("1")or h["WRSet"]["BF_FSFZ"]==j("5")or(h["WRSet"]["BF_FSFZ"]==j("4")or h["WRSet"]["BF_FSFZ"]==j("8"))and(not h["UnitExists"]("focus")or h["UnitIsDead"]("focus")or not h["UnitCanAttack"]("player","focus"))then if h["WR_MageArcane_FSFZ_Unit"]("focus")then return e end;if h["WR_MageArcane_FSFZ_Unit"]("target")then return e end;if h["WR_MageArcane_FSFZ_Unit"]("mouseover")then return e end;for q=j("1"),j("4"),j("1")do if h["WR_MageArcane_FSFZ_Unit"]("party"..q.."target")then return e end end elseif h["WRSet"]["BF_FSFZ"]==j("2")or h["WRSet"]["BF_FSFZ"]==j("6")then if h["WR_MageArcane_FSFZ_Unit"]("target")then return e end elseif h["WRSet"]["BF_FSFZ"]==j("3")or h["WRSet"]["BF_FSFZ"]==j("7")then if h["WR_MageArcane_FSFZ_Unit"]("mouseover")then return e end elseif h["WRSet"]["BF_FSFZ"]==j("4")or h["WRSet"]["BF_FSFZ"]==j("8")then if h["WR_MageArcane_FSFZ_Unit"]("focus")then return e end end;return d end;h["WR_MageArcane_FSXQ"]=function()if h["WRSet"]["BF_FSXQ"]and h["IsSpellInRange"]("法术吸取","target")and h["WR_SpellUsable"]("法术吸取")and h["WR_GetUnitBuffTime"]("target",h["StealBuffName"],d,"ID")~=j("0")then if h["WR_ColorFrame_Show"]("CF9","法术吸取")then return e end end;return d end;h["WR_MageArcane_JCZZ_Unit"]=function(p)if h["IsSpellInRange"]("解除诅咒",p)and h["WR_CanRemoveUnitDebuff"](p)then if p=="mouseover"then if h["WR_ColorFrame_Show"]("CN5","解咒M")then return e end elseif p=="player"then if h["WR_ColorFrame_Show"]("CN6","解咒P")then return e end elseif p=="party1"then if h["WR_ColorFrame_Show"]("CN1","解咒P1")then return e end elseif p=="party2"then if h["WR_ColorFrame_Show"]("CN2","解咒P2")then return e end elseif p=="party3"then if h["WR_ColorFrame_Show"]("CN3","解咒P3")then return e end elseif p=="party4"then if h["WR_ColorFrame_Show"]("CN4","解咒P4")then return e end end end;return d end;h["WR_MageArcane_JCZZ"]=function()if not h["WR_SpellUsable"]("解除诅咒")then return d end;if h["WRSet"]["BF_JCZZ"]==j("4")then return d elseif h["WRSet"]["BF_JCZZ"]==j("1")then if h["WR_MageArcane_JCZZ_Unit"]("mouseover")then return e end;if h["WR_MageArcane_JCZZ_Unit"]("player")then return e end;for q=j("1"),j("4"),j("1")do if h["WR_MageArcane_JCZZ_Unit"]("party"..q)then return e end end elseif h["WRSet"]["BF_JCZZ"]==j("2")then if h["WR_MageArcane_JCZZ_Unit"]("mouseover")then return e end elseif h["WRSet"]["BF_JCZZ"]==j("3")then if h["WR_MageArcane_JCZZ_Unit"]("player")then return e end end;return d end;h["WR_MageArcane_HBHT"]=function()if h["WRSet"]["BF_HBHT"]and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("寒冰护体")and h["WR_GetUnitBuffTime"]("player","寒冰护体")<=h["GCD"]then if h["WR_ColorFrame_Show"]("ASF1","寒冰护体")then return e end end;return d end;h["WR_MageArcane_BXS"]=function()if h["WRSet"]["BF_BXS"]and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("变形术")and h["UnitCastingInfo"]("player")~="变形术"and not h["PlayerMove"]and h["TargetRange"]<=j("40")then if h["UnitName"]("mouseover")=="幻影仙狐"and h["GetUnitSpeed"]("mouseover")>j("0")and h["WR_GetUnitDebuffInfo"]("mouseover","变形术")<=h["GCD"]then if h["WR_ColorFrame_Show"]("ACN0","变形术M")then return e end end;if h["UnitCastingInfo"]("mouseover")=="预警尖鸣"then local r,s,t=h["WR_GetUnitCastInfo"]("mouseover")if s~=f and s<=j("3")then if h["WR_ColorFrame_Show"]("ACN0","变形术M")then return e end end end end;return d end;h["WR_MageArcane_ASZH"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("奥术智慧")and(h["WR_GetUnitBuffTime"]("player","奥术智慧")<=h["GCD"]or not h["UnitAffectingCombat"]("player")and(h["WR_GetUnitBuffTime"]("player","奥术智慧")<j("600")or h["WR_PartyNotBuff"]("奥术智慧")))then if h["WR_ColorFrame_Show"]("ASF2","奥术智慧")then return e end end;return d end;h["WR_MageArcane_HBJ"]=function(u)if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("寒冰箭")and h["TargetInCombat"]and h["TargetRange"]<=j("40")then if u=="开场"and not h["UnitAffectingCombat"]("player")and h["UnitCastingInfo"]("player")==f then if not h["PlayerMove"]then if h["WR_ColorFrame_Show"]("CF1","霜火开场")then return e end end end;if u==f then if h["WR_GetUnitBuffTime"]("player","霜火增效")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF1","霜火增效")then return e end end;if not h["PlayerMove"]then if h["WR_ColorFrame_Show"]("CF1","霜火之箭")then return e end end end;if u=="霜火增效"then if h["WR_GetUnitBuffTime"]("player","霜火增效")>h["GCD"]and h["WR_GetUnitBuffCount"]("player","溢流寒霜")<j("2")and h["WR_GetUnitBuffCount"]("player","溢流飞火")<j("2")then if h["WR_ColorFrame_Show"]("CF1","霜火增效A1")then return e end end end;if u=="死亡寒意"then if h["WRSet"]["BF_SWHY"]>=j("3")and h["WRSet"]["BF_SWHY"]~=j("16")and(h["WR_GetUnitBuffTime"]("player","霜火增效")<=h["GCD"]or h["WR_GetUnitBuffCount"]("player","溢流寒霜")<j("2")and h["WR_GetUnitBuffCount"]("player","溢流飞火")<j("2"))then if h["IsPlayerSpell"](j("450331"))and h["WR_GetUnitBuffTime"]("player","冰冷血脉")>j("9")and h["WR_GetGCD"]("寒冰宝珠")>h["GCD"]and(h["WR_GetUnitBuffCount"]("player","死亡寒意")<h["WRSet"]["BF_SWHY"]-j("3")or h["UnitCastingInfo"]("player")~="霜火之箭"and h["WR_GetUnitBuffCount"]("player","死亡寒意")<h["WRSet"]["BF_SWHY"])then if h["WR_ColorFrame_Show"]("CF1","死亡寒意")then return e end end end end end;return d end;h["WR_MageArcane_BQS"]=function(u)if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("冰枪术")and h["TargetInCombat"]and h["TargetRange"]<=j("40")then if u=="冻结"then if h["DebuffTime_SDZH"]>h["GCD"]+h["FlyTime"]and h["BQS_CastCount"]~=f and h["BQS_CastCount"]>j("0")then if h["WR_ColorFrame_Show"]("CF2","深冬冰枪")then return e end end;if h["WR_GetUnitBuffTime"]("player","寒冰指")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF2","冰指冰枪")then return e end end end;if u==f then if h["WR_ColorFrame_Show"]("CF2","填充冰枪")then return e end end;if u=="满火"and h["zhandoumoshi"]==j("1")and h["WR_GetUnitBuffCount"]("player","溢流飞火")>=j("2")and h["WR_GetGCD"]("彗星风暴")<=h["GCD"]+h["MaxGCD"]then if h["WR_ColorFrame_Show"]("CF2","满火冰枪")then return e end end end;return d end;h["WR_MageArcane_BFB"]=function(u)if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("冰风暴")and h["TargetInCombat"]and h["TargetRange"]<=j("40")then if u=="S1"and h["DebuffTime_SDZH"]<=h["GCD"]and(h["UnitCastingInfo"]("player")=="霜火之箭"and h["WR_GetUnitBuffCount"]("player","冰刺")<=j("3")or h["UnitCastingInfo"]("player")=="冰川尖刺"or h["WR_GetGCD"]("彗星风暴")>j("30")-h["MaxGCD"]and h["WR_GetUnitBuffCount"]("player","冰刺")<=j("4"))then if h["WR_ColorFrame_Show"]("CF3","冰风暴S1")then return e end end;if u=="S2"and h["DebuffTime_SDZH"]<=h["GCD"]and h["WR_GetUnitBuffCount"]("player","溢流寒霜")>=j("2")and h["WR_GetUnitBuffCount"]("player","冰刺")<=j("4")then if h["WR_ColorFrame_Show"]("CF3","冰风暴S2")then return e end end;if u=="S3"and h["WR_GetUnitBuffTime"]("player","溢流飞火")>h["GCD"]and h["WR_GetUnitBuffCount"]("player","冰刺")<=j("4")and h["WR_GetUnitBuffTime"]("player","冰冷智慧")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","冰风暴S3")then return e end end;if u=="S4"and h["WR_GetUnitBuffCount"]("player","冰刺")<=j("4")and h["WR_GetUnitBuffTime"]("player","溢流飞火")>h["GCD"]and h["WR_GetUnitBuffTime"]("player","溢流寒霜")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","冰风暴S4")then return e end end;if u=="AOE1"and h["WR_GetUnitBuffTime"]("player","溢流寒霜")>h["GCD"]and h["WR_GetUnitBuffTime"]("player","溢流飞火")>h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","冰风暴A1")then return e end end;if u=="AOE2"and h["DebuffTime_SDZH"]<=h["GCD"]then if h["WR_ColorFrame_Show"]("CF3","冰风暴A2")then return e end end end;return d end;h["WR_MageArcane_ZLS"]=function()if h["WRSet"]["BF_ZLS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["BF_ZLS"]/j("10")and h["UnitAffectingCombat"]("player")and h["WR_Use_ZLS"]()and(h["ZLYS_EndTime"]==f or h["GetTime"]()-h["ZLYS_EndTime"]>j("0.5"))then h["ZLS_EndTime"]=h["GetTime"]()+h["GCD"]if h["WR_ColorFrame_Show"]("CSF","治疗石")then return e end end;return d end;h["WR_MageArcane_ZLYS"]=function()if h["WRSet"]["BF_ZLYS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["BF_ZLYS"]/j("10")and h["UnitAffectingCombat"]("player")and h["WR_Use_ZLYS"]()and(h["ZLS_EndTime"]==f or h["GetTime"]()-h["ZLS_EndTime"]>j("0.5"))then h["ZLYS_EndTime"]=h["GetTime"]()+h["GCD"]if h["WR_ColorFrame_Show"]("CST","治疗药水")then return e end end;return d end;h["WR_MageArcane_SP"]=function(u)if u=="保命"then if h["WRSet"]["BF_SP1"]>=j("3")then if h["WR_ShiPin"](j("1"),h["WRSet"]["BF_SP1"])then return e end end;if h["WRSet"]["BF_SP2"]>=j("3")then if h["WR_ShiPin"](j("2"),h["WRSet"]["BF_SP2"])then return e end end elseif u=="常驻"then if h["WRSet"]["BF_SP1"]==j("1")then if h["WR_ShiPin"](j("1"),h["WRSet"]["BF_SP1"])then return e end end;if h["WRSet"]["BF_SP2"]==j("1")then if h["WR_ShiPin"](j("2"),h["WRSet"]["BF_SP2"])then return e end end elseif u=="爆发"then if h["WRSet"]["BF_SP1"]==j("2")then if h["WR_ShiPin"](j("1"),h["WRSet"]["BF_SP1"])then return e end end;if h["WRSet"]["BF_SP2"]==j("2")then if h["WR_ShiPin"](j("2"),h["WRSet"]["BF_SP2"])then return e end end end;return d end;h["WR_MageArcane_BCJC"]=function(u)if h["GCD"]<=h["ShiFaSuDu"]and h["UnitCastingInfo"]("player")~="冰川尖刺"and h["TargetInCombat"]and h["TargetRange"]<=j("40")and not h["PlayerMove"]and(h["WR_GetUnitBuffCount"]("player","冰刺")==j("5")or h["WR_GetUnitBuffCount"]("player","冰刺")==j("4")and h["UnitCastingInfo"]("player")=="霜火之箭")then if u=="单体"then if h["WR_ColorFrame_Show"]("CF4","冰川尖刺")then return e end end;if u=="AOE"and h["WR_GetRangeHarmUnitCount"](j("15"))<=j("6")then if h["WR_ColorFrame_Show"]("CF4","冰川尖刺A")then return e end end end;return d end;h["WR_MageArcane_BSSX"]=function(u)if h["GCD"]<=h["ShiFaSuDu"]and h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("冰霜射线")and h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["DebuffCount_SDZH"]>=j("1")and(not h["PlayerMove"]or h["WRSet"]["BF_FB"]and h["WR_SpellUsable"]("浮冰"))then if u=="单体"then if h["WR_MageArcane_FB"]()then return e end;if h["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return e end end;if u=="AOE"and h["IsPlayerSpell"](j("418733"))and h["DebuffCount_SDZH"]>=j("1")then if h["WR_MageArcane_FB"]()then return e end;if h["WR_ColorFrame_Show"]("ACSF9","冰霜射线")then return e end end end;return d end;h["WR_MageArcane_BFYS"]=function()if h["UnitName"]("player")=="佳法"and h["WR_InBossCombat"]()and h["WR_Use_BFYS"]()then if h["WR_ColorFrame_Show"]("SF12","爆发药水")then return e end end;return d end;h["WR_MageArcane_BLXM"]=function(u)if h["WRSet"]["BF_BLXM"]and h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("冰冷血脉")and h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["WR_GetUnitBuffTime"]("player","冰冷血脉")<j("1.5")then if u=="单体"then if h["WR_MageArcane_SP"]("爆发")then return e end;if h["WR_ColorFrame_Show"]("CN7","冰冷血脉")then return e end end;if u=="AOE"then if h["WR_MageArcane_SP"]("爆发")then return e end;if h["WR_ColorFrame_Show"]("CN7","冰冷血脉A")then return e end end end;return d end;h["WR_MageArcane_HXFB"]=function(u)if h["zhandoumoshi"]==j("1")and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("彗星风暴")and h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["WR_GetUnitBuffCount"]("player","溢流飞火")<j("2")then if u=="单体"then if h["WR_ColorFrame_Show"]("CF7","彗星风暴")then return e end end;if u=="AOE1"and not h["WR_SpellUsable"]("寒冰宝珠")and h["WR_GetGCD"]("冰锥术")<=h["GCD"]+h["MaxGCD"]then if h["WR_ColorFrame_Show"]("CF7","彗星A")then return e end end;if u=="AOE2"and h["WR_GetGCD"]("冰锥术")>j("10")then if h["WR_ColorFrame_Show"]("CF7","彗星A")then return e end end end;return d end;h["WR_MageArcane_BZS"]=function()if h["zhandoumoshi"]==j("1")and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("冰锥术")and h["TargetInCombat"]and h["TargetRange"]<=j("10")and h["WR_GetRangeHarmUnitCount"](j("10"))>=j("3")and h["WR_GetGCD"]("寒冰宝珠")>j("10")and h["WR_GetGCD"]("彗星风暴")>j("10")then if h["WR_ColorFrame_Show"]("CF12","冰锥术")then return e end end;return d end;h["WR_MageArcane_BDS"]=function()if h["WR_SpellUsable"]("冰冻术")and h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["UnitExists"]("pet")and h["UnitName"]("pet")=="水元素"and not h["UnitIsDead"]("pet")and h["NotSDZH_Count"]>=j("1")and(h["BZS_FiyTime"]==f or h["GetTime"]()-h["BZS_FiyTime"]>h["MaxGCD"]*j("2"))and h["WR_GetUnitDebuffInfo"]("target","冰霜新星",e)<=h["GCD"]and h["WR_GetUnitDebuffInfo"]("target","寒冰新星",e)<=h["GCD"]and h["WR_GetUnitDebuffInfo"]("target","冰冻术",e)<=h["GCD"]then if h["HXFB_FiyTime"]~=f and h["GetTime"]()-h["HXFB_FiyTime"]<=h["MaxGCD"]then if h["WR_ColorFrame_Show"]("SF8","冰冻术1")then return e end end;if h["UnitCastingInfo"]("player")=="冰川尖刺"and h["WR_GetUnitDebuffCount"]("target","深冬之寒",e)==j("0")then if h["WR_ColorFrame_Show"]("SF8","冰冻术2")then return e end end end;return d end;h["WR_MageArcane_HBXX"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("寒冰新星")and h["TargetInCombat"]and h["TargetRange"]<=j("40")and h["NotSDZH_Count"]>=j("1")and(h["BZS_FiyTime"]==f or h["GetTime"]()-h["BZS_FiyTime"]>h["MaxGCD"]*j("2"))and h["WR_GetUnitDebuffInfo"]("target","冰霜新星",e)<=h["GCD"]and h["WR_GetUnitDebuffInfo"]("target","寒冰新星",e)<=h["GCD"]and h["WR_GetUnitDebuffInfo"]("target","冰冻术",e)<=h["GCD"]then if h["HXFB_FiyTime"]~=f and h["GetTime"]()-h["HXFB_FiyTime"]<=h["MaxGCD"]then if h["WR_ColorFrame_Show"]("SF2","寒冰新星1")then return e end end;if h["UnitCastingInfo"]("player")=="冰川尖刺"and h["WR_GetUnitDebuffCount"]("target","深冬之寒",e)==j("0")then if h["WR_ColorFrame_Show"]("SF2","寒冰新星2")then return e end end end;return d end;h["WR_MageArcane_BSXX"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("冰霜新星")and h["TargetInCombat"]and h["TargetRange"]<=j("10")and h["NotSDZH_Count"]>=j("1")and(h["BZS_FiyTime"]==f or h["GetTime"]()-h["BZS_FiyTime"]>h["MaxGCD"]*j("2"))and h["WR_GetUnitDebuffInfo"]("target","冰霜新星",e)<=h["GCD"]and h["WR_GetUnitDebuffInfo"]("target","寒冰新星",e)<=h["GCD"]and h["WR_GetUnitDebuffInfo"]("target","冰冻术",e)<=h["GCD"]then if h["HXFB_FiyTime"]~=f and h["GetTime"]()-h["HXFB_FiyTime"]<=h["MaxGCD"]then if h["WR_ColorFrame_Show"]("SF3","冰霜新星1")then return e end end;if h["UnitCastingInfo"]("player")=="冰川尖刺"and h["WR_GetUnitDebuffCount"]("target","深冬之寒",e)==j("0")then if h["WR_ColorFrame_Show"]("SF3","冰霜新星2")then return e end end end;return d end;h["WR_MageArcane_HBBZ"]=function(u)if h["zhandoumoshi"]==j("1")and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("寒冰宝珠")and h["TargetInCombat"]and h["TargetRange"]<=j("40")then if u=="单体"then if h["WR_ColorFrame_Show"]("CSI","寒冰宝珠")then return e end end;if u=="AOE1"and h["WR_GetGCD"]("彗星风暴")<=h["GCD"]+h["MaxGCD"]and h["WR_GetGCD"]("冰锥术")<=h["GCD"]+h["MaxGCD"]*j("2")then if h["WR_ColorFrame_Show"]("CSI","宝珠A1")then return e end end;if u=="AOE2"then if h["WR_ColorFrame_Show"]("CSI","寒冰宝珠A")then return e end end end;return d end;h["WR_MageArcane_BFX"]=function(u)if h["UnitName"]("boss1")=="收割者吉卡塔尔"then return d end;if h["UnitName"]("boss1")=="唤雾者"then return d end;if h["WRSet"]["BF_BFX"]~=j("3")and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("暴风雪")and h["TargetInCombat"]and(not h["PlayerMove"]or h["WR_GetUnitBuffTime"]("player","冰冻之雨")>h["GCD"])then if u==f then if h["WRSet"]["BF_BFX"]==j("1")then if h["WR_ColorFrame_Show"]("SF1","暴风雪")then return e end elseif h["WRSet"]["BF_BFX"]==j("2")and h["UnitCastingInfo"]("player")~="暴风雪"and(h["BFX_FiyTime"]==f or h["GetTime"]()-h["BFX_FiyTime"]>h["MaxGCD"])then if h["WR_ColorFrame_Show"]("SF6","暴风雪")then return e end end end;if u=="开场"and not h["UnitAffectingCombat"]("player")and h["UnitCastingInfo"]("player")==f then if h["WRSet"]["BF_BFX"]==j("1")then if h["WR_ColorFrame_Show"]("SF1","暴雪开场")then return e end elseif h["WRSet"]["BF_BFX"]==j("2")and h["UnitCastingInfo"]("player")~="暴风雪"and(h["BFX_FiyTime"]==f or h["GetTime"]()-h["BFX_FiyTime"]>h["MaxGCD"])then if h["WR_ColorFrame_Show"]("SF6","暴雪开场")then return e end end end end;return d end;h["WR_MageArcane_FB"]=function()if h["WRSet"]["BF_FB"]and h["WR_SpellUsable"]("浮冰")and h["BuffTime_FB"]==j("0")then if h["WR_ColorFrame_Show"]("F7","浮冰")then return e end end;return d end;h["WR_MageArcane_BYHN"]=function(u)if h["WRSet"]["BF_BYHN"]and h["zhandoumoshi"]==j("1")and h["GCD"]<=h["ShiFaSuDu"]and h["WR_SpellUsable"]("变易幻能")and h["TargetInCombat"]and h["TargetRange"]<=j("40")then if u=="单体"and h["WR_GetGCD"]("冰冷血脉")>j("10")and h["WR_GetGCD"]("寒冰宝珠")>j("10")and h["WR_GetGCD"]("彗星风暴")>j("10")and(h["WR_GetGCD"]("冰霜射线")>j("10")or not h["IsPlayerSpell"](j("205021")))then if not h["PlayerMove"]or h["WRSet"]["BF_FB"]and h["WR_SpellUsable"]("浮冰")then if h["WR_MageArcane_FB"]()then return e end;if h["WR_ColorFrame_Show"]("CSP","变易幻能")then return e end end end;if u=="AOE"and h["WR_GetGCD"]("冰冷血脉")>j("10")and h["WR_GetGCD"]("寒冰宝珠")>j("10")and h["WR_GetGCD"]("彗星风暴")>j("10")and h["WR_GetGCD"]("冰锥术")>j("10")and h["WR_GetGCD"]("暴风雪")>j("1")then if not h["PlayerMove"]or h["WRSet"]["BF_FB"]and h["WR_SpellUsable"]("浮冰")then if h["WR_MageArcane_FB"]()then return e end;if h["WR_ColorFrame_Show"]("CSP","变易幻能A")then return e end end end end;return d end;h["WR_MageArcane_CJXX_Unit"]=function(p)if h["C_Spell"]["IsSpellInRange"]("超级新星",p)and h["WR_StunSpell"](p,j("2"))then if p=="target"then if h["WR_ColorFrame_Show"]("CSF5","超星T")then return e end elseif p=="focus"then if h["WR_ColorFrame_Show"]("CSF6","超星F")then return e end elseif p=="mouseover"then if h["WR_ColorFrame_Show"]("CSF7","超星M")then return e end elseif p=="party1target"then if h["WR_ColorFrame_Show"]("CSF1","超星P1T")then return e end elseif p=="party2target"then if h["WR_ColorFrame_Show"]("CSF2","超星P2T")then return e end elseif p=="party3target"then if h["WR_ColorFrame_Show"]("CSF3","超星P3T")then return e end elseif p=="party4target"then if h["WR_ColorFrame_Show"]("CSF4","超星P4T")then return e end end end;return d end;h["WR_MageArcane_CJXX"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["BF_CJXX"]and h["WR_SpellUsable"]("超级新星")then if h["WR_StunUnit"](j("8"),j("2"))then if h["WR_ColorFrame_Show"]("CSF7","超星P")then return e end end;if h["WR_MageArcane_CJXX_Unit"]("target")then return e end;if h["WR_MageArcane_CJXX_Unit"]("focus")then return e end;if h["WR_MageArcane_CJXX_Unit"]("mouseover")then return e end;for q=j("1"),j("4"),j("1")do if h["WR_MageArcane_CJXX_Unit"]("party"..q.."target")then return e end end end;return d end;h["WR_MageArcane_CJB"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["BF_CJB"]and h["WR_SpellUsable"]("冲击波")then if h["WR_StunUnit"](j("8"),j("2"))then if h["WR_ColorFrame_Show"]("SF4","冲击波")then return e end end end;return d end;h["WR_MageArcane_HBPZ"]=function()if h["WRSet"]["BF_HBPZ"]~=j("5")and h["WR_SpellUsable"]("寒冰屏障")and h["PlayerHP"]<h["WRSet"]["BF_HBPZ"]/j("10")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitBuffTime"]("player",j("113862"))==j("0")then if h["WR_ColorFrame_Show"]("F9","寒冰屏障")then return e end end;return d end;h["WR_MageArcane_QHYX"]=function()if h["WRSet"]["BF_QHYX"]~=j("5")and h["IsPlayerSpell"](j("110959"))and h["WR_SpellUsable"]("强化隐形术")and h["PlayerHP"]<h["WRSet"]["BF_QHYX"]/j("10")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitBuffTime"]("player","深寒凝冰")==j("0")and h["WR_GetUnitBuffTime"]("player","寒冰屏障")==j("0")then if h["WR_ColorFrame_Show"]("SF7","强化隐形")then return e end end;return d end;h["WR_MageArcane_JX"]=function(u)if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["BF_JX"]~=j("7")and h["WR_SpellUsable"]("镜像")and h["UnitAffectingCombat"]("player")then if u==f and h["WRSet"]["BF_JX"]<=j("5")and h["PlayerHP"]<h["WRSet"]["BF_JX"]/j("10")then if h["WR_ColorFrame_Show"]("CF11","镜像")then return e end elseif u=="爆发"and h["zhandoumoshi"]==j("1")and h["WRSet"]["BF_JX"]==j("6")and(h["WR_SpellUsable"]("冰冷血脉")or h["WR_GetUnitBuffTime"]("player","冰冷血脉")>h["GCD"])then if h["WR_ColorFrame_Show"]("CF11","爆发镜像")then return e end end end;return d end;h["WR_MageArcane_QTPZ"]=function()if h["GCD"]<=h["ShiFaSuDu"]and h["WRSet"]["BF_QTPZ"]~=j("10")and h["WR_SpellUsable"]("群体屏障")and h["UnitAffectingCombat"]("player")and h["WR_PartyLostHP"]()>h["WRSet"]["BF_QTPZ"]/j("10")then if h["WR_ColorFrame_Show"]("SF5","群体屏障")then return e end end;return d end;h["WR_MageArcane_JSLQ"]=function()if h["WRSet"]["BF_JSLQ"]and h["WR_SpellUsable"]("急速冷却")and h["WR_GetGCD"]("寒冰屏障")>j("30")and h["WR_GetUnitDebuffTime"]("player","低温")>j("0")and h["UnitAffectingCombat"]("player")then if h["WR_ColorFrame_Show"]("CF10","急速冷却")then return e end end;return d end;h["WR_MageArcane_CKSJ"]=function()local v=h["WR_GetUnitBuffTime"]("player","操控时间")if v==j("0")then h["WR_MageArcane_CKSJ_HP"]=f end;if h["WRSet"]["BF_CKSJ"]and h["WR_SpellUsable"]("操控时间")and h["UnitAffectingCombat"]("player")then local w=h["WR_ResistSustained"]()local x=h["WR_ResistOutburstTime"]()if h["MSG"]==j("2")then h["print"]("操控时间:",v)h["print"]("持续型伤害:",w)h["print"]("尖刺型伤害:",x)h["print"]("记录血量:",h["WR_MageArcane_CKSJ_HP"])end;if h["WR_MageArcane_CKSJ_HP"]==f then if v==j("0")and(w or x<=j("2"))then h["WR_MageArcane_CKSJ_HP"]=h["UnitHealth"]("player")if h["WR_ColorFrame_Show"]("F8","操控时间")then return e end end else if h["UnitHealth"]("player")<h["WR_MageArcane_CKSJ_HP"]and v>j("0")and(h["PlayerHP"]<=j("0.25")or not w and x>j("2"))then if h["WR_ColorFrame_Show"]("F8","时光回溯")then return e end end;if h["UnitHealth"]("player")>=h["WR_MageArcane_CKSJ_HP"]and v>j("0")and not w and x>j("2")then if h["WR_ColorFrame_Show"]("ACSF10","取消操控")then return e end end end end;return d end end)()