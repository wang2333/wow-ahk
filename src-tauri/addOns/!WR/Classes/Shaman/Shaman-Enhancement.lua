local a=90;local b=74;local c=0==1;local d=not c;local e=nil;local f=""local g=_G;local h=_ENV;local i=g["tonumber"]return(function(...)g["WR_ShamanEnhancement"]=function()if g["GetSpecialization"]()~=i("2")then return end;g["WR_DebugTime"](i("0"))g["ShiFaSuDu"]=i("0.05")+g["WRSet"]["ZQ_SFSD"]*i("0.05")g["AoeRange"]=i("10")g["GCD"]=g["WR_GetGCD"]("闪电之盾")if g["MaxGCD"]==e then g["MaxGCD"]=g["WR_GetMaxGCD"](i("1.5"))end;g["PlayerHP"]=g["UnitHealth"]("player")/g["UnitHealthMax"]("player")g["PlayerMove"]=g["WR_PlayerMove"]()g["TargetInCombat"]=g["WR_TargetInCombat"]("target")g["TargetRange"]=g["WR_GetUnitRange"]("target")g["TargetClose"]=g["TargetRange"]<=i("2")or g["C_Spell"]["IsSpellInRange"]("熔岩猛击","target")or g["C_Spell"]["IsSpellInRange"]("霜刃打击","target")g["TargetInRange40"]=g["C_Spell"]["IsSpellInRange"]("烈焰震击","target")or g["C_Spell"]["IsSpellInRange"]("闪电链","target")g["Totem_YD_Time"]=i("0")for j=i("1"),i("40"),i("1")do local k,l,m,n,k=g["GetTotemInfo"](j)if l=="涌动图腾"then g["Totem_YD_Time"]=m+n-g["GetTime"]()if g["Totem_YD_Time"]<i("0")then g["Totem_YD_Time"]=i("0")end end end;g["BuffCount_TTFT"]=g["WR_GetUnitBuffCount"]("player","图腾反弹")g["BuffTime_SWDCC"]=g["WR_GetUnitBuffTime"]("player","霜巫的传承")g["BuffTime_FXZT"]=g["WR_GetUnitBuffTime"]("player","飞旋之土")g["BuffTime_FXZQ"]=g["WR_GetUnitBuffTime"]("player","飞旋之气")g["BuffTime_SRDJ"]=g["WR_GetUnitBuffTime"]("player","霜刃打击")g["BuffCount_XWWQ"]=g["WR_GetUnitBuffCount"]("player","漩涡武器")g["TargetDebuffTime_LYZJ"]=g["WR_GetUnitDebuffTime"]("target","烈焰震击",d)g["SYZC_BuffTime"]=g["WR_GetUnitBuffTime"]("player","始源之潮")g["YXLH_BuffTime"]=g["WR_GetUnitBuffTime"]("player","野性狼魂")g["KFNH_BuffCount"]=g["WR_GetUnitBuffCount"]("player","狂风怒号")g["BuffSum_DDWQ"]=g["WR_GetUnitBuffSum"]("player","大地武器")g["HBDF_BuffSum"]=g["WR_GetUnitBuffSum"]("player","寒冰刀锋")g["RYWQ_BuffSum"]=g["WR_GetUnitBuffSum"]("player","熔岩武器")g["HMZF_BuffTime"]=g["WR_GetUnitBuffTime"]("player",i("466772"))g["SYFB_BuffTime"]=g["WR_GetUnitBuffTime"]("player","始源风暴")g["FBHJ_BuffTime"]=g["WR_GetUnitBuffTime"]("player","风暴轰击")g["BuffTime_ST"]=g["WR_GetUnitBuffTime"]("player","升腾")g["WolfSum"]=g["WR_GetUnitBuffSum"]("player",i("224125"))+g["WR_GetUnitBuffSum"]("player",i("224126"))+g["WR_GetUnitBuffSum"]("player",i("224127"))g["HUCountRangeAOE"]=g["WR_GetRangeHarmUnitCount"](g["AoeRange"],not g["WR_InTraining"]())g["LYZJCountRangeAOE"]=g["WR_GetHaveDebuffRangeUnitCount"](g["AoeRange"],"烈焰震击",c)g["WR_ShamanEnhancement_LastSpellTime"]()if g["MSG"]==i("1")then g["print"]("----------")end;if g["WR_PriorityCheck"]()then return d end;if g["WR_ZNJD"](g["WRSet"]["ZQ_ZNJD"])then return d end;if g["WR_ShamanEnhancement_SP"]("保命")then return d end;if g["WR_ZLS"](g["WRSet"]["ZQ_ZLS"])then return d end;if g["WR_ZLYS"](g["WRSet"]["ZQ_ZLYS"])then return d end;if g["WR_ZLYS2"](g["WRSet"]["ZQ_ZLYS"])then return d end;if g["WR_Shaman_XJZY"]()then return d end;if g["WR_ShamanEnhancement_ZLZQTT"]()then return d end;if g["WR_ShamanEnhancement_ZLZY"]()then return d end;if g["WR_ShamanEnhancement_YHB"]()then return d end;if g["WR_Shaman_Function_FJ"]()then return d end;if g["WR_ShamanEnhancement_FNWQ"]()then return d end;if g["WR_ShamanEnhancement_HSWQ"]()then return d end;if g["WR_Shaman_TN"]()then return d end;if g["WR_ShamanEnhancement_SDZD"]()then return d end;if g["WR_ShamanEnhancement_DDZD"]()then return d end;if g["WR_ShamanEnhancement_LTFB"]()then return d end;if g["WR_Shaman_Function_QDTT"]()then return d end;if g["WR_Shaman_Function_JHLH"]()then return d end;if g["WR_ShamanEnhancement_ZLTT"]()then return d end;if g["WR_Shaman_Function_JHS"]()then return d end;if g["WR_ShamanEnhancement_TYS"]()then return d end;if g["TargetClose"]and g["TargetInCombat"]then if g["WR_ShamanEnhancement_SP"]("常驻")then return d end;if g["WR_WuQi"](i("3"),g["WRSet"]["ZQ_WuQi"])then return d end end;if g["TargetInCombat"]and g["GCD"]<=g["ShiFaSuDu"]then if g["IsPlayerSpell"](i("444995"))then if g["WR_ShamanEnhancement_Combat_Single_TTJS"]()then return d end;if g["WR_ShamanEnhancement_Combat_AOE_TTJS"]()then return d end else end end;if g["WR_Function_ZNMB"](i("2"),g["WRSet"]["ZQ_ZNMB"])then return d end;if g["WR_Function_ZNMB"](i("10"),g["WRSet"]["ZQ_ZNMB"])then return d end;g["WR_HideColorFrame"](g["zhandoumoshi"])if g["MSG"]==i("1")then end end;g["WR_ShamanEnhancement_Combat_AOE_TTJS"]=function()if g["HUCountRangeAOE"]<=i("1")or g["WR_SingleUnit"]()then return c end;if g["WR_ShamanEnhancement_YDTT"]()then return d end;if g["WR_ShamanEnhancement_LYZJ"]()then return d end;if g["WR_ShamanEnhancement_YXLH"]()then return d end;if g["WR_ShamanEnhancement_RYMJ"]("熔火突袭")then return d end;if g["WR_ShamanEnhancement_SYZC"]()then return d end;if g["WR_ShamanEnhancement_RYBL"]("霜巫")then return d end;if g["WR_ShamanEnhancement_SDL"]("霜巫")then return d end;if g["WR_ShamanEnhancement_HMSD"]("顺劈")then return d end;if g["WR_ShamanEnhancement_HMZF"]()then return d end;if g["WR_ShamanEnhancement_SYFB"]()then return d end;if g["WR_ShamanEnhancement_RYBL"]("元素3敌")then return d end;if g["WR_ShamanEnhancement_RYMJ"]("灼手")then return d end;if g["WR_ShamanEnhancement_LDS"]("毁风")then return d end;if g["WR_ShamanEnhancement_HMSD"]("静电")then return d end;if g["WR_ShamanEnhancement_RYBL"]("元素满层")then return d end;if g["WR_ShamanEnhancement_SDL"]("满层")then return d end;if g["WR_ShamanEnhancement_LDS"]()then return d end;if g["WR_ShamanEnhancement_LDCY"]()then return d end;if g["WR_ShamanEnhancement_RYMJ"]()then return d end;if g["WR_ShamanEnhancement_HMSD"]()then return d end;if g["WR_ShamanEnhancement_FBDJ"]()then return d end;if g["WR_ShamanEnhancement_RYBL"]("元素冲击")then return d end;if g["WR_ShamanEnhancement_SDL"]()then return d end;if g["WR_ShamanEnhancement_BSZJ"]()then return d end;return c end;g["WR_ShamanEnhancement_Combat_Single_TTJS"]=function()if g["HUCountRangeAOE"]>i("1")and not g["WR_SingleUnit"]()then return c end;if g["WR_ShamanEnhancement_YDTT"]()then return d end;if g["WR_ShamanEnhancement_LYZJ"]()then return d end;if g["WR_ShamanEnhancement_RYMJ"]("灼手")then return d end;if g["WR_ShamanEnhancement_YXLH"]()then return d end;if g["WR_ShamanEnhancement_SYZC"]()then return d end;if g["WR_ShamanEnhancement_RYBL"]("霜巫")then return d end;if g["WR_ShamanEnhancement_SDJ"]("霜巫")then return d end;if g["WR_ShamanEnhancement_HMZF"]()then return d end;if g["WR_ShamanEnhancement_SYFB"]()then return d end;if g["WR_ShamanEnhancement_LDS"]("毁风")then return d end;if g["WR_ShamanEnhancement_HMSD"]("静电")then return d end;if g["WR_ShamanEnhancement_RYBL"]("满层")then return d end;if g["WR_ShamanEnhancement_FBDJ"]("毁风霜巫")then return d end;if g["WR_ShamanEnhancement_SDJ"]("满层")then return d end;if g["WR_ShamanEnhancement_LDS"]()then return d end;if g["WR_ShamanEnhancement_FBDJ"]("毁风轰击")then return d end;if g["WR_ShamanEnhancement_RYMJ"]("飞旋触媒")then return d end;if g["WR_ShamanEnhancement_FBDJ"]()then return d end;if g["WR_ShamanEnhancement_RYMJ"]()then return d end;if g["WR_ShamanEnhancement_HMSD"]()then return d end;if g["WR_ShamanEnhancement_LDCY"]()then return d end;if g["WR_ShamanEnhancement_RYBL"]()then return d end;if g["WR_ShamanEnhancement_SDJ"]()then return d end;if g["WR_ShamanEnhancement_BSZJ"]()then return d end;return c end;g["WR_ShamanEnhancement_YDTT"]=function()if g["WRSet"]["ZQ_YDTT"]and g["TargetClose"]and g["Totem_YD_Time"]<=g["GCD"]and g["WR_SpellUsable"]("涌动图腾")then if g["WR_ColorFrame_Show"]("CF6","涌动图腾")then return d end end;return c end;g["WR_ShamanEnhancement_YXLH"]=function(o)if g["GCD"]<=g["ShiFaSuDu"]and g["TargetInCombat"]and g["zhandoumoshi"]==i("1")and g["TargetRange"]<=i("25")and not g["IsPlayerSpell"](i("469314"))and g["WR_SpellUsable"]("野性狼魂")then if o==e and(g["WR_GetGCD"]("毁灭之风")>i("15")or g["WR_GetGCD"]("毁灭之风")<i("5"))and(g["WR_GetGCD"]("始源之潮")>i("15")or g["WR_GetGCD"]("始源之潮")<i("5")or g["SYFB_BuffTime"]>g["GCD"])then if g["WR_ColorFrame_Show"]("CF1","野性狼魂")then return d end end end;return c end;g["WR_ShamanEnhancement_LYZJ"]=function()if g["TargetInRange40"]and g["TargetDebuffTime_LYZJ"]<=g["GCD"]and g["WR_SpellUsable"]("烈焰震击")then if g["WR_ColorFrame_Show"]("CF2","烈焰震击")then return d end end;return c end;g["WR_ShamanEnhancement_SYZC"]=function()if g["TargetRange"]<=i("10")and g["zhandoumoshi"]==i("1")and g["SYFB_BuffTime"]<=g["GCD"]and g["WR_SpellUsable"]("始源之潮")then if g["WR_ColorFrame_Show"]("CF11","始源之潮")then return d end end;return c end;g["WR_ShamanEnhancement_SYFB"]=function()if g["TargetClose"]and g["zhandoumoshi"]==i("1")and g["SYFB_BuffTime"]>g["GCD"]and g["BuffCount_XWWQ"]>=i("10")and g["WR_SpellUsable"]("始源之潮")then if g["WR_ColorFrame_Show"]("CF11","始源之潮")then return d end end;return c end;g["WR_ShamanEnhancement_HMSD"]=function(o)if g["TargetClose"]and g["WR_SpellUsable"]("毁灭闪电")then if o=="顺劈"and g["WR_GetUnitBuffTime"]("player",i("187878"))<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF9","顺劈毁闪")then return d end end;if o=="静电"and g["WR_GetUnitBuffTime"]("player","静电注码")>=i("8")then if g["WR_ColorFrame_Show"]("CF9","静电毁闪")then return d end end;if o==e then if g["WR_ColorFrame_Show"]("CF9","毁灭闪电")then return d end end end;return c end;g["WR_ShamanEnhancement_HMZF"]=function(o)if g["WRSet"]["ZQ_HMZF"]and g["TargetClose"]and g["WR_SpellUsable"]("毁灭之风")and g["zhandoumoshi"]==i("1")then if g["WR_ShamanEnhancement_SP"]("爆发")then return d end;if g["WR_ColorFrame_Show"]("CSK","毁灭之风")then return d end end;return c end;g["WR_ShamanEnhancement_RYMJ"]=function(o)if g["TargetClose"]and g["WR_SpellUsable"]("熔岩猛击")then if o=="灼手"and g["WR_GetUnitBuffTime"]("player","灼热之手")>g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","灼手火打")then return d end end;if o==e then if g["WR_ColorFrame_Show"]("CF3","熔岩猛击")then return d end end;if o=="飞旋触媒"and(g["WR_GetUnitBuffTime"]("player","飞旋之火")>g["GCD"]or g["WR_GetUnitBuffTime"]("player","灰烬触媒")>=i("8"))then if g["WR_ColorFrame_Show"]("CF3","熔岩猛击")then return d end end;if o=="熔火突袭"and g["IsPlayerSpell"](i("334033"))and g["TargetDebuffTime_LYZJ"]>g["GCD"]and g["LYZJCountRangeAOE"]<g["HUCountRangeAOE"]and g["LYZJCountRangeAOE"]<i("6")then if g["WR_ColorFrame_Show"]("CF3","熔火突袭")then return d end end end;return c end;g["WR_ShamanEnhancement_LDS"]=function(o)if g["TargetClose"]and g["WR_SpellUsable"]("裂地术")then if o=="毁风"and g["HMZF_BuffTime"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CSJ","毁风裂地")then return d end end;if o==e then if g["WR_ColorFrame_Show"]("CSJ","裂地术")then return d end end end;return c end;g["WR_ShamanEnhancement_SDL"]=function(o)if g["TargetInRange40"]and g["WR_SpellUsable"]("闪电链")and g["BuffCount_XWWQ"]>=i("5")then if o=="霜巫"and g["TargetClose"]and g["zhandoumoshi"]==i("1")and g["BuffTime_SWDCC"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")and g["WR_GetGCD"]("毁灭之风")<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF5","霜巫电链")then return d end end;if o=="满层"and g["SYFB_BuffTime"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")then if g["WR_ColorFrame_Show"]("CF5","满层电链")then return d end end;if o==e and g["SYFB_BuffTime"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF5","闪电链")then return d end end end;return c end;g["WR_ShamanEnhancement_SDJ"]=function(o)if g["TargetInRange40"]and g["WR_SpellUsable"]("闪电箭")and g["BuffCount_XWWQ"]>=i("5")then if o=="霜巫"and g["TargetClose"]and g["zhandoumoshi"]==i("1")and g["BuffTime_SWDCC"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")and g["WR_GetGCD"]("毁灭之风")<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF4","霜巫电箭")then return d end end;if o=="满层"and g["SYFB_BuffTime"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")then if g["WR_ColorFrame_Show"]("CF4","满层电箭")then return d end end;if o==e and g["SYFB_BuffTime"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF4","闪电箭")then return d end end end;return c end;g["WR_ShamanEnhancement_RYBL"]=function(o)if g["TargetInRange40"]and g["WR_SpellUsable"]("熔岩爆裂")and g["BuffCount_XWWQ"]>=i("5")then if o=="霜巫"and g["TargetClose"]and g["zhandoumoshi"]==i("1")and g["BuffTime_SWDCC"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")and g["WR_GetGCD"]("毁灭之风")<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACSF1","霜巫爆裂")then return d end end;if o=="满层"and g["SYFB_BuffTime"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")then if g["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return d end end;if o==e and g["SYFB_BuffTime"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACSF1","熔岩爆裂")then return d end end;if o=="元素满层"and g["IsPlayerSpell"](i("117014"))and g["SYFB_BuffTime"]<=g["GCD"]and g["BuffCount_XWWQ"]>=i("10")then if g["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return d end end;if o=="元素冲击"and g["IsPlayerSpell"](i("117014"))and g["SYFB_BuffTime"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return d end end;if o=="元素3敌"and g["IsPlayerSpell"](i("117014"))and g["BuffCount_XWWQ"]>=i("10")and g["HUCountRangeAOE"]<=i("3")and g["SYFB_BuffTime"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("ACSF1","满层爆裂")then return d end end end;return c end;g["WR_ShamanEnhancement_LDCY"]=function()if g["TargetInRange40"]and g["WR_GetUnitBuffTime"]("player","流电炽焰")>g["GCD"]and g["WR_SpellUsable"]("流电炽焰")then if g["WR_ColorFrame_Show"]("CF2","流电炽焰")then return d end end;return c end;g["WR_ShamanEnhancement_FBDJ"]=function(o)if g["TargetClose"]and g["WR_SpellUsable"]("风暴打击")then if o==e then if g["WR_ColorFrame_Show"]("CSF7","风暴打击")then return d end end;if o=="毁风霜巫"and g["HMZF_BuffTime"]>g["GCD"]and g["BuffTime_SWDCC"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CSF7","毁风风打")then return d end end;if o=="毁风轰击"and(g["HMZF_BuffTime"]>g["GCD"]or g["FBHJ_BuffTime"]>g["GCD"])then if g["WR_ColorFrame_Show"]("CSF7","毁风轰击")then return d end end end;return c end;g["WR_ShamanEnhancement_BSZJ"]=function()if g["TargetInRange40"]and g["WR_SpellUsable"]("冰霜震击")then if g["WR_ColorFrame_Show"]("CSH","冰霜震击")then return d end end;return c end;g["WR_ShamanEnhancement_SP"]=function(o)if o=="保命"then if g["WRSet"]["ZQ_SP1"]>=i("3")then if g["WR_ShiPin"](i("1"),g["WRSet"]["ZQ_SP1"])then return d end end;if g["WRSet"]["ZQ_SP2"]>=i("3")then if g["WR_ShiPin"](i("2"),g["WRSet"]["ZQ_SP2"])then return d end end elseif o=="常驻"then if g["WRSet"]["ZQ_SP1"]==i("1")then if g["WR_ShiPin"](i("1"),g["WRSet"]["ZQ_SP1"])then return d end end;if g["WRSet"]["ZQ_SP2"]==i("1")then if g["WR_ShiPin"](i("2"),g["WRSet"]["ZQ_SP2"])then return d end end elseif o=="爆发"then if g["WRSet"]["ZQ_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["ZQ_SP1"])then return d end end;if g["WRSet"]["ZQ_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["ZQ_SP2"])then return d end end end;return c end;g["WR_ShamanEnhancement_Combat_Single"]=function()if g["HUCountRangeAOE"]>i("1")and not g["WR_SingleUnit"]()then return c end;if g["zhandoumoshi"]==i("1")and g["TargetRange"]<=i("25")and not g["IsPlayerSpell"](i("469314"))and g["WR_SpellUsable"]("野性狼魂")then if g["WR_ColorFrame_Show"]("CF1","狼魂S1")then return d end end;if g["TargetInRange40"]and g["TargetDebuffTime_LYZJ"]<=g["GCD"]and g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("始源之潮")then if g["WR_ColorFrame_Show"]("CF11","始源S1")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("熔岩猛击")and g["IsPlayerSpell"](i("334046"))and g["WR_GetUnitDebuffInfo"]("target","鞭笞烈焰",d)<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","火打S0")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("风暴打击")and g["BuffCount_XWWQ"]<i("2")and g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_ST"]and g["WR_SpellUsable"]("升腾")then if g["WR_ColorFrame_Show"]("CSF7","风打S0")then return d end end;if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_ST"]and g["TargetRange"]<=g["AoeRange"]and g["WR_SpellUsable"]("升腾")and g["TargetDebuffTime_LYZJ"]>g["GCD"]and g["LastSpell"]~="闪电链"and g["BuffCount_XWWQ"]>=i("2")then if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["ZQ_SP1"])then return d end end;if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["ZQ_SP2"])then return d end end;if g["WR_ColorFrame_Show"]("CF10","升腾S1")then return d end end;if g["TargetInRange40"]and g["KFNH_BuffCount"]>g["GCD"]and g["WR_SpellUsable"]("狂风怒号")and(g["BuffCount_XWWQ"]>=i("10")or g["KFNH_BuffCount"]>=i("2")and g["WR_GetUnitBuffCount"]("player","觉醒风暴")>=i("2")and g["BuffCount_XWWQ"]>=i("5"))then if g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF4","怒号S1")then return d end else if g["IsPlayerSpell"](i("117014"))and g["WR_SpellUsable"]("元素冲击")then if g["WR_ColorFrame_Show"]("CSP","冲击NS1")then return d end elseif g["IsPlayerSpell"](i("51505"))and g["WR_SpellUsable"]("熔岩爆裂")then if g["WR_ColorFrame_Show"]("ACSF1","爆裂NS1")then return d end else if g["WR_ColorFrame_Show"]("CF5","电链NS1")then return d end end end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("元素冲击")and g["BuffCount_XWWQ"]>=i("10")and g["IsPlayerSpell"](i("262624"))and g["WolfSum"]>=i("6")and(g["WR_GetSpellNextCharge"]("元素冲击")<i("2.4")or g["WR_GetUnitBuffTime"]("player","升腾")>g["GCD"])then if g["WR_ColorFrame_Show"]("CSP","冲击S1")then return d end end;if g["TargetRange"]<=i("30")and g["C_Spell"]["IsSpellUsable"]("风切")and g["WR_GetGCD"]("风切")<=g["GCD"]+i("0.3")and g["WR_GetUnitBuffTime"]("player","升腾")>g["WR_GetGCD"]("风切")+i("0.2")and g["BuffCount_XWWQ"]>i("0")and g["LastSpell"]~="闪电链"and g["WR_GetSpellCharges"]("风切")>=i("2")then if g["WR_ColorFrame_Show"]("CSF7","风切S0")then return d end end;if g["WRSet"]["ZQ_HMZF"]and g["TargetClose"]and g["WR_SpellUsable"]("毁灭之风")and g["zhandoumoshi"]==i("1")and g["IsPlayerSpell"](i("262624"))and g["IsPlayerSpell"](i("114051"))and g["BuffCount_XWWQ"]>=i("2")then if g["WR_ColorFrame_Show"]("CSK","毁风S0")then return d end end;if g["TargetRange"]<=i("30")and g["C_Spell"]["IsSpellUsable"]("风切")and g["WR_GetGCD"]("风切")<=g["GCD"]+i("0.3")and g["WR_GetUnitBuffTime"]("player","升腾")>g["WR_GetGCD"]("风切")+i("0.2")and g["BuffCount_XWWQ"]>i("0")and g["LastSpell"]~="闪电链"then if g["WR_ColorFrame_Show"]("CSF7","风切S1")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")and g["TargetDebuffTime_LYZJ"]<=g["GCD"]and g["IsPlayerSpell"](i("390370"))then if g["WR_ColorFrame_Show"]("CF2","火震S1")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("闪电箭")and g["KFNH_BuffCount"]==i("0")and g["BuffCount_XWWQ"]>=i("10")and g["SYZC_BuffTime"]>g["GCD"]then if g["KFNH_BuffCount"]==i("0")or g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF4","电箭S0")then return d end else if g["IsPlayerSpell"](i("117014"))and g["WR_SpellUsable"]("元素冲击")then if g["WR_ColorFrame_Show"]("CSP","冲击JS0")then return d end else if g["WR_ColorFrame_Show"]("CF5","电链JS0")then return d end end end end;if g["TargetInRange40"]and g["KFNH_BuffCount"]>g["GCD"]and g["WR_SpellUsable"]("狂风怒号")and g["BuffCount_XWWQ"]>=i("8")then if g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF4","怒号S2")then return d end else if g["IsPlayerSpell"](i("117014"))and g["WR_SpellUsable"]("元素冲击")then if g["WR_ColorFrame_Show"]("CSP","冲击NS2")then return d end elseif g["IsPlayerSpell"](i("51505"))and g["WR_SpellUsable"]("熔岩爆裂")then if g["WR_ColorFrame_Show"]("ACSF1","爆裂NS2")then return d end else if g["WR_ColorFrame_Show"]("CF5","电链NS2")then return d end end end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("始源之潮")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF11","始源S2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("元素冲击")and g["BuffCount_XWWQ"]>=i("8")and g["WolfSum"]>=i("4")and(g["WR_GetUnitBuffTime"]("player","升腾")<=g["GCD"]or g["WR_GetSpellNextCharge"]("元素冲击")<i("2.4"))then if g["WR_ColorFrame_Show"]("CSP","冲击S2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("闪电箭")and g["KFNH_BuffCount"]==i("0")and g["BuffCount_XWWQ"]>=i("8")then if g["KFNH_BuffCount"]==i("0")or g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF4","电箭S1")then return d end else if g["IsPlayerSpell"](i("117014"))and g["WR_SpellUsable"]("元素冲击")then if g["WR_ColorFrame_Show"]("CSP","冲击JS1")then return d end else if g["WR_ColorFrame_Show"]("CF5","电链JS1")then return d end end end end;if g["TargetClose"]and g["WR_SpellUsable"]("风暴打击")and(g["HMZF_BuffTime"]>g["GCD"]or g["IsPlayerSpell"](i("319930"))and g["WR_GetUnitBuffTime"]("player",i("201846"))>g["GCD"]and g["WR_GetSpellCharges"]("风暴打击")>=i("2"))then if g["WR_ColorFrame_Show"]("CSF7","风打S1")then return d end end;if g["TargetInRange40"]and g["WR_GetUnitBuffTime"]("player","流电炽焰")>g["GCD"]and g["WR_SpellUsable"]("流电炽焰")and g["HMZF_BuffTime"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF2","流电S1")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("霜刃打击")and g["IsPlayerSpell"](i("210853"))and g["IsPlayerSpell"](i("384359"))and g["IsPlayerSpell"](i("384447"))then if g["WR_ColorFrame_Show"]("CSL","霜打S1")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("风暴打击")then if g["WR_ColorFrame_Show"]("CSF7","风打S2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("闪电箭")and g["BuffCount_XWWQ"]>=i("5")and g["KFNH_BuffCount"]==i("0")then if g["KFNH_BuffCount"]==i("0")or g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF4","电箭S2")then return d end else if g["IsPlayerSpell"](i("117014"))and g["WR_SpellUsable"]("元素冲击")then if g["WR_ColorFrame_Show"]("CSP","冲击JS2")then return d end else if g["WR_ColorFrame_Show"]("CF5","电链JS2")then return d end end end end;if g["TargetInRange40"]and g["WR_GetUnitBuffTime"]("player","流电炽焰")>g["GCD"]and g["WR_SpellUsable"]("流电炽焰")then if g["WR_ColorFrame_Show"]("CF2","流电S2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("冰霜震击")and g["WR_GetUnitBuffTime"]("player","冰雹")>g["GCD"]and g["WR_GetUnitBuffTime"]("player","霜刃打击")>g["GCD"]and g["IsPlayerSpell"](i("384359"))and g["IsPlayerSpell"](i("114051"))then if g["WR_ColorFrame_Show"]("CSH","冰震S1")then return d end end;if g["WRSet"]["ZQ_HMZF"]and g["TargetClose"]and g["WR_SpellUsable"]("毁灭之风")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CSK","毁风S0")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("闪电箭")and g["KFNH_BuffCount"]==i("0")and g["WR_GetUnitBuffTime"]("player","弧形放电")>g["GCD"]then if g["KFNH_BuffCount"]==i("0")or g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ColorFrame_Show"]("CF4","电箭S3")then return d end else if g["IsPlayerSpell"](i("117014"))and g["WR_SpellUsable"]("元素冲击")then if g["WR_ColorFrame_Show"]("CSP","冲击JS3")then return d end else if g["WR_ColorFrame_Show"]("CF5","电链JS3")then return d end end end end;if g["TargetClose"]and g["WR_SpellUsable"]("熔岩猛击")and g["IsPlayerSpell"](i("210853"))and g["IsPlayerSpell"](i("454009"))and g["IsPlayerSpell"](i("334033"))and g["TargetDebuffTime_LYZJ"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CF3","火打S1")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")and g["TargetDebuffTime_LYZJ"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF2","火震S2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("冰霜震击")and g["WR_GetUnitBuffTime"]("player","冰雹")>g["GCD"]then if g["WR_ColorFrame_Show"]("CSH","冰震S2")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("熔岩猛击")then if g["WR_ColorFrame_Show"]("CF3","火打S2")then return d end end;if g["TargetRange"]<=i("30")and g["C_Spell"]["IsSpellUsable"]("风切")and g["WR_GetGCD"]("风切")<=g["GCD"]+i("0.3")and g["WR_GetUnitBuffTime"]("player","升腾")>g["WR_GetGCD"]("风切")+i("0.2")then if g["WR_ColorFrame_Show"]("CSF7","风切S2")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("裂地术")then if g["WR_ColorFrame_Show"]("CSJ","裂地S1")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("冰霜震击")then if g["WR_ColorFrame_Show"]("CSH","冰震S3")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("毁灭闪电")then if g["WR_ColorFrame_Show"]("CF9","毁闪S1")then return d end end;if g["WR_ShamanEnhancement_TYS"]()then return d end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")then if g["WR_ColorFrame_Show"]("CF2","火震S3")then return d end end;return c end;g["WR_ShamanEnhancement_Combat_AOE"]=function()if g["HUCountRangeAOE"]<=i("1")or g["WR_SingleUnit"]()then return c end;if g["WR_GetUnitBuffTime"]("player","升腾")<=g["GCD"]then if g["TargetInRange40"]and g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("始源之潮")and(g["TargetDebuffTime_LYZJ"]<=g["GCD"]or g["KFNH_BuffCount"]>g["GCD"])then if g["WR_ColorFrame_Show"]("CF11","始源A0")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")and g["TargetDebuffTime_LYZJ"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF2","火震A0")then return d end end;if g["TargetClose"]and g["WR_SpellUsable"]("毁灭闪电")and g["WR_GetUnitBuffTime"]("player",i("187878"))<=g["GCD"]and g["BuffCount_XWWQ"]<i("10")then if g["WR_ColorFrame_Show"]("CF9","毁闪A0")then return d end end;if g["WR_SpellUsable"]("熔岩猛击")and g["WR_GetUnitDebuffTime"](g["BeatUnit_RYMJ"],"烈焰震击",d)>g["GCD"]and g["LYZJCountRangeAOE"]<g["HUCountRangeAOE"]and g["LYZJCountRangeAOE"]<i("6")and(g["BuffCount_XWWQ"]<i("10")or g["SYZC_BuffTime"]>g["GCD"])then if g["WR_ShamanEnhancement_RYMJ"](g["BeatUnit_RYMJ"],"A0")then return d end end end;if g["zhandoumoshi"]==i("1")and g["TargetRange"]<=i("25")and not g["IsPlayerSpell"](i("469314"))and g["WR_SpellUsable"]("野性狼魂")then if g["WR_ColorFrame_Show"]("CF1","狼魂A1")then return d end end;if g["WRSet"]["ZQ_HMZF"]and g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("毁灭之风")and g["zhandoumoshi"]==i("1")and g["BuffTime_ST"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CSK","毁风A0")then return d end end;if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_ST"]and g["TargetRange"]<=g["AoeRange"]and g["WR_SpellUsable"]("升腾")and g["TargetDebuffTime_LYZJ"]>g["GCD"]and g["LastSpell"]=="闪电链"then if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["ZQ_SP1"])then return d end end;if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["ZQ_SP2"])then return d end end;if g["WR_ColorFrame_Show"]("CF10","升腾A1")then return d end end;if g["WR_SpellUsable"]("狂风怒号")and g["KFNH_BuffCount"]>g["GCD"]and g["BuffCount_XWWQ"]>=i("5")and(g["WR_GetUnitBuffTime"]("player","弧形放电")<=g["GCD"]and g["BuffCount_XWWQ"]>=i("8")or g["WR_GetUnitBuffCount"]("player","觉醒风暴")==i("2")or g["KFNH_BuffCount"]>=i("2")and g["SYZC_BuffTime"]>g["GCD"]and g["BuffCount_XWWQ"]>=i("8"))then if g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ShamanEnhancement_KFNH"](g["BeatUnit_YLZ"],"A1")then return d end else if g["WR_ShamanEnhancement_SDL"](g["BeatUnit_YLZ"],"NA1")then return d end end end;if g["C_Spell"]["IsSpellUsable"]("风切")and g["WR_GetGCD"]("风切")<=g["GCD"]+i("0.3")and g["WR_GetUnitBuffTime"]("player","升腾")>g["WR_GetGCD"]("风切")+i("0.2")and g["IsPlayerSpell"](i("384444"))and g["BuffCount_XWWQ"]>i("0")and g["LastSpell"]=="闪电链"then if g["WR_ShamanEnhancement_FQ"](g["BeatUnit_YLZ"],"A1")then return d end end;if g["WR_SpellUsable"]("闪电箭")and(g["KFNH_BuffCount"]>=i("1")or g["SYZC_BuffTime"]<=i("5"))and(g["LYZJCountRangeAOE"]==g["HUCountRangeAOE"]or g["LYZJCountRangeAOE"]==i("6"))and g["SYZC_BuffTime"]>g["GCD"]and g["BuffCount_XWWQ"]>=i("10")then if g["KFNH_BuffCount"]==i("0")or g["WRSet"]["ZQ_KFNH"]==i("1")or g["WRSet"]["ZQ_KFNH"]==i("2")and g["zhandoumoshi"]==i("1")then if g["WR_ShamanEnhancement_SDJ"](g["BeatUnit_YLZ"],"A1")then return d end else if g["WR_ShamanEnhancement_SDL"](g["BeatUnit_YLZ"],"JA1")then return d end end end;if g["WR_GetUnitBuffTime"]("player","流电炽焰")>g["GCD"]and g["WR_SpellUsable"]("流电炽焰")and g["BuffCount_XWWQ"]<=i("8")then if g["WR_ColorFrame_Show"]("CF2","流电A1")then return d end end;if g["WR_SpellUsable"]("熔岩猛击")and g["IsPlayerSpell"](i("334033"))and(g["IsPlayerSpell"](i("375982"))or g["IsPlayerSpell"](i("333974")))and g["WR_GetUnitDebuffTime"](g["BeatUnit_RYMJ"],"烈焰震击",d)>g["GCD"]and g["LYZJCountRangeAOE"]<g["HUCountRangeAOE"]and g["LYZJCountRangeAOE"]<i("6")then if g["WR_ShamanEnhancement_RYMJ"](g["BeatUnit_RYMJ"],"A1")then return d end end;if g["zhandoumoshi"]==i("1")and g["WR_SpellUsable"]("始源之潮")then if g["WR_ShamanEnhancement_SYZC"](g["BeatUnit_LYZJ"],"A1")then return d end end;if g["WR_SpellUsable"]("闪电链")and g["WR_GetUnitBuffTime"]("player","弧形放电")>g["GCD"]and g["BuffCount_XWWQ"]>=i("5")then if g["WR_ShamanEnhancement_SDL"](g["BeatUnit_YLZ"],"A1")then return d end end;if g["TargetInCombat"]and g["IsSpellInRange"]("元素冲击","target")and g["WR_SpellUsable"]("元素冲击")and(g["WR_GetSpellCharges"]("元素冲击")>=i("2")or g["WR_GetSpellNextCharge"]("元素冲击")<=g["GCD"]+i("1")or g["WolfSum"]>=i("2"))and g["BuffCount_XWWQ"]>=i("10")and(not g["IsPlayerSpell"](i("334308"))or g["HUCountRangeAOE"]<=i("3"))then if g["WR_ColorFrame_Show"]("CSP","冲击A1")then return d end end;if g["WR_SpellUsable"]("闪电链")and g["BuffCount_XWWQ"]>=i("8")then if g["WR_ShamanEnhancement_SDL"](g["BeatUnit_YLZ"],"A2")then return d end end;if g["WRSet"]["ZQ_HMZF"]and g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("毁灭之风")and g["zhandoumoshi"]==i("1")and g["LastSpell"]=="闪电链"then if g["WR_ColorFrame_Show"]("CSK","毁风A1")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("毁灭闪电")and(g["HMZF_BuffTime"]>g["GCD"]and g["HUCountRangeAOE"]>=i("4")or g["WR_GetUnitBuffTime"]("player",i("187878"))<=g["GCD"])then if g["WR_ColorFrame_Show"]("CF9","毁闪A1")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("裂地术")and g["HMZF_BuffTime"]>g["GCD"]then if g["WR_ColorFrame_Show"]("CSJ","裂地A1")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("火焰新星")and(g["LYZJCountRangeAOE"]==i("6")or g["LYZJCountRangeAOE"]>=i("4")and g["LYZJCountRangeAOE"]==g["HUCountRangeAOE"])then if g["WR_ColorFrame_Show"]("CF7","火星A1")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("风暴打击")and g["IsPlayerSpell"](i("319930"))and g["IsPlayerSpell"](i("344357"))then if g["WR_ColorFrame_Show"]("CSF7","风打A0")then return d end end;if g["WR_GetUnitBuffTime"]("player","流电炽焰")>g["GCD"]and g["WR_SpellUsable"]("流电炽焰")then if g["WR_ColorFrame_Show"]("CF2","流电A2")then return d end end;if g["WR_SpellUsable"]("熔岩猛击")and g["WR_GetUnitDebuffTime"](g["BeatUnit_RYMJ"],"烈焰震击",d)>g["GCD"]and(g["IsPlayerSpell"](i("334046"))or g["IsPlayerSpell"](i("334033")))then if g["WR_ShamanEnhancement_RYMJ"](g["BeatUnit_RYMJ"],"A2")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("霜刃打击")and g["IsPlayerSpell"](i("334195"))and g["WR_GetUnitBuffTime"]("player","霜刃打击")<=g["GCD"]then if g["WR_ColorFrame_Show"]("CSL","霜打A1")then return d end end;if g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["WR_SpellUsable"]("冰霜震击")and g["IsPlayerSpell"](i("334195"))and g["WR_GetUnitBuffTime"]("player","冰雹")>g["GCD"]then if g["WR_ColorFrame_Show"]("CSH","冰震A1")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("裂地术")then if g["WR_ColorFrame_Show"]("CSJ","裂地A2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")and g["IsPlayerSpell"](i("334033"))and g["TargetDebuffTime_LYZJ"]<=g["GCD"]then if g["WR_ColorFrame_Show"]("CF2","火震A1")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")and g["LYZJCountRangeAOE"]<g["HUCountRangeAOE"]and g["LYZJCountRangeAOE"]<i("6")then if g["WR_ShamanEnhancement_LYZJ"](g["BeatUnit_LYZJ"],"A2")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("火焰新星")and g["LYZJCountRangeAOE"]>=i("3")then if g["WR_ColorFrame_Show"]("CF7","火星A2")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("风暴打击")and g["WR_GetUnitBuffTime"]("player",i("187878"))>g["GCD"]and(g["IsPlayerSpell"](i("378270"))or g["WR_GetUnitBuffCount"]("player","汇聚风暴")>=i("6"))then if g["WR_ColorFrame_Show"]("CSF7","风打A1")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("毁灭闪电")and g["IsPlayerSpell"](i("334308"))and g["WR_GetUnitBuffTime"]("player",i("333964"))>g["GCD"]and g["HUCountRangeAOE"]>=i("4")then if g["WR_ColorFrame_Show"]("CF9","毁闪A2")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("风暴打击")then if g["WR_ColorFrame_Show"]("CSF7","风打A2")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("霜刃打击")then if g["WR_ColorFrame_Show"]("CSL","霜打A2")then return d end end;if g["WR_SpellUsable"]("熔岩猛击")then if g["WR_ShamanEnhancement_RYMJ"](g["BeatUnit_RYMJ"],"A3")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("毁灭闪电")then if g["WR_ColorFrame_Show"]("CF9","毁闪A3")then return d end end;if g["TargetClose"]and g["TargetInCombat"]and g["WR_SpellUsable"]("火焰新星")and g["LYZJCountRangeAOE"]>=i("2")then if g["WR_ColorFrame_Show"]("CF7","火星A3")then return d end end;if g["TargetInCombat"]and g["IsSpellInRange"]("元素冲击","target")and g["WR_SpellUsable"]("元素冲击")and(g["WR_GetSpellCharges"]("元素冲击")>=i("2")or g["WR_GetSpellNextCharge"]("元素冲击")<=g["GCD"]+i("1")or g["WolfSum"]>=i("2"))and g["BuffCount_XWWQ"]>=i("5")and(not g["IsPlayerSpell"](i("334308"))or g["HUCountRangeAOE"]<=i("3"))then if g["WR_ColorFrame_Show"]("CSP","冲击A2")then return d end end;if g["TargetInRange40"]and g["WR_SpellUsable"]("烈焰震击")and g["WR_GetUnitDebuffTime"](g["BeatUnit_LYZJ"],"烈焰震击",d)<=g["GCD"]then if g["WR_ShamanEnhancement_LYZJ"](g["BeatUnit_LYZJ"],"A3")then return d end end;if g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["WR_SpellUsable"]("冰霜震击")and not g["IsPlayerSpell"](i("334195"))then if g["WR_ColorFrame_Show"]("CSH","冰震A2")then return d end end;return c end;g["WR_ShamanEnhancement_LastSpellTime"]=function()if g["LastSpellIsOpen"]then return end;local p=g["CreateFrame"]("Frame")p["RegisterEvent"](p,"COMBAT_LOG_EVENT_UNFILTERED")p["SetScript"](p,"OnEvent",function()if g["select"](i("4"),g["CombatLogGetCurrentEventInfo"]())==g["UnitGUID"]("player")then if g["select"](i("2"),g["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local q=g["select"](i("13"),g["CombatLogGetCurrentEventInfo"]())if q=="风暴打击"then g["CastTime_FBDJ"]=g["GetTime"]()elseif q=="风切"then g["CastTime_FQ"]=g["GetTime"]()elseif q=="闪电箭"then g["CastTime_SDJ"]=g["GetTime"]()g["LastSpell"]="闪电箭"elseif q=="闪电链"then g["CastTime_SDL"]=g["GetTime"]()g["LastSpell"]="闪电链"elseif q=="狂风怒号"then g["CastTime_KFNH"]=g["GetTime"]()end end end end)g["LastSpellIsOpen"]=d end;g["WR_ShamanEnhancement_GetBeatUnit_YLZ"]=function()if not g["IsPlayerSpell"](i("455123"))then return"target"end;local r=i("0")local s=f;if g["WR_GetUnitRange"]("target")<=g["AoeRange"]and g["WR_TargetInCombat"]("target")then local t=i("8")-g["WR_GetUnitDebuffTime"]("target","引雷针",d)if t==i("8")then return"target"elseif t>r then r=t;s="target"end end;if g["WR_GetUnitRange"]("mouseover")<=g["AoeRange"]and g["WR_TargetInCombat"]("mouseover")then local t=i("8")-g["WR_GetUnitDebuffTime"]("mouseover","引雷针",d)if t==i("8")then return"mouseover"elseif t>r then r=t;s="mouseover"end end;for j=i("1"),i("4")do local u="party"..j.."target"if g["WR_GetUnitRange"](u)<=g["AoeRange"]and g["WR_TargetInCombat"](u)then local t=i("8")-g["WR_GetUnitDebuffTime"](u,"引雷针",d)if t==i("8")then return u elseif t>r then r=t;s=u end end end;if s==f then return"target"end;return s end;g["WR_ShamanEnhancement_GetBeatUnit_LYZJ"]=function()local r=i("999")local s=f;if g["WR_GetUnitRange"]("target")<=g["AoeRange"]and g["WR_TargetInCombat"]("target")then local t=g["WR_GetUnitDebuffTime"]("target","烈焰震击",d)if t==i("0")then return"target"elseif t<r then r=t;s="target"end end;if g["WR_GetUnitRange"]("mouseover")<=g["AoeRange"]and g["WR_TargetInCombat"]("mouseover")then local t=g["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",d)if t==i("0")then return"mouseover"elseif t<r then r=t;s="mouseover"end end;for j=i("1"),i("4")do local u="party"..j.."target"if g["WR_GetUnitRange"](u)<=g["AoeRange"]and g["WR_TargetInCombat"](u)then local t=g["WR_GetUnitDebuffTime"](u,"烈焰震击",d)if t==i("0")then return u elseif t<r then r=t;s=u end end end;if s==f then return"target"end;return s end;g["WR_ShamanEnhancement_GetBeatUnit_RYMJ"]=function()local r=i("999")local s=f;if g["C_Spell"]["IsSpellInRange"]("熔岩猛击","target")and g["WR_TargetInCombat"]("target")and g["WR_GetUnitDebuffTime"]("target","烈焰震击",d)>g["GCD"]then local t=g["WR_GetUnitDebuffTime"]("target","鞭笞烈焰",d)if t==i("0")then return"target"elseif t<r then r=t;s="target"end end;if g["C_Spell"]["IsSpellInRange"]("熔岩猛击","mouseover")and g["WR_TargetInCombat"]("mouseover")and g["WR_GetUnitDebuffTime"]("mouseover","烈焰震击",d)>g["GCD"]then local t=g["WR_GetUnitDebuffTime"]("mouseover","鞭笞烈焰",d)if t==i("0")then return"mouseover"elseif t<r then r=t;s="mouseover"end end;for j=i("1"),i("4")do local u="party"..j.."target"if g["C_Spell"]["IsSpellInRange"]("熔岩猛击",u)and g["WR_TargetInCombat"](u)and g["WR_GetUnitDebuffTime"](u,"烈焰震击",d)>g["GCD"]then local t=g["WR_GetUnitDebuffTime"](u,"鞭笞烈焰",d)if t==i("0")then return u elseif t<r then r=t;s=u end end end;if s==f then return"target"end;return s end;g["WR_ShamanEnhancement_ZLZQTT"]=function()if g["WR_SpellUsable"]("治疗之泉图腾")and(g["WR_PartyLostHP"]("治疗之涌")>i("0.50")or g["UnitChannelInfo"]("boss1")=="喑星之夜")then if g["WR_ColorFrame_Show"]("CF8","治疗之泉")then return d end end;return c end;g["WR_ShamanEnhancement_ZLZY"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["ZQ_ZLZY"]~=i("8")and g["PlayerHP"]<g["WRSet"]["ZQ_ZLZY"]/i("10")and g["BuffCount_XWWQ"]>=i("5")then if g["WR_ColorFrame_Show"]("ACN0","治疗之涌")then return d end end;return c end;g["WR_ShamanEnhancement_YHB"]=function()if g["WRSet"]["ZQ_YHB"]and g["WR_SpellUsable"]("幽魂步")and(g["WR_Unbind"]("player")or g["WR_SpeedUp"]())then if g["WR_ColorFrame_Show"]("CSB","幽魂步")then return d end end;return c end;g["WR_ShamanEnhancement_FNWQ"]=function()local k,k,k,v,k,k,k,w=g["GetWeaponEnchantInfo"]()if g["GCD"]<=g["ShiFaSuDu"]and g["IsPlayerSpell"](i("33757"))and v~=i("5401")then if g["WR_ColorFrame_Show"]("ASF1","风怒武器")then return d end end;return c end;g["WR_ShamanEnhancement_HSWQ"]=function()local k,k,k,v,k,k,k,w=g["GetWeaponEnchantInfo"]()if g["GCD"]<=g["ShiFaSuDu"]and g["IsPlayerSpell"](i("318038"))and w~=i("5400")then if g["WR_ColorFrame_Show"]("ASF2","火舌武器")then return d end end;return c end;g["WR_ShamanEnhancement_SDZD"]=function()if g["GCD"]<=g["ShiFaSuDu"]and(g["WRSet"]["ZQ_HD"]==i("1")or g["WRSet"]["ZQ_HD"]~=i("3")and g["IsPlayerSpell"](i("383010")))and g["WR_SpellUsable"]("闪电之盾")and g["WR_GetUnitBuffTime"]("player","闪电之盾")==i("0")then if g["WR_ColorFrame_Show"]("ASF3","闪电之盾")then return d end end;return c end;g["WR_ShamanEnhancement_DDZD"]=function()if g["GCD"]<=g["ShiFaSuDu"]and(g["WRSet"]["ZQ_HD"]==i("2")or g["WRSet"]["ZQ_HD"]~=i("3")and g["IsPlayerSpell"](i("383010")))and g["WR_SpellUsable"]("大地之盾")and g["WR_GetUnitBuffTime"]("player","大地之盾")==i("0")and not g["UnitAffectingCombat"]("player")then if g["WR_ColorFrame_Show"]("ASF5","大地之盾")then return d end end;return c end;g["WR_ShamanEnhancement_LTFB"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["WRSet"]["ZQ_LTFB"]and g["WR_SpellUsable"]("雷霆风暴")and g["WR_GetInRaidOrParty"]()~="raid"and g["WR_StunUnit"](i("8"),i("2"))then if g["WR_ColorFrame_Show"]("SF12","雷霆风暴")then return d end end;return c end;g["WR_ShamanEnhancement_FQ"]=function(x,o)if g["WR_GetUnitRange"](x)<=i("30")and g["WR_TargetInCombat"](x)then if x=="target"then if g["WR_ColorFrame_Show"]("CSF7",o.."风切T")then return d end elseif x=="mouseover"then if g["WR_ColorFrame_Show"]("CSF8",o.."风切M")then return d end elseif x=="party1target"then if g["WR_ColorFrame_Show"]("CN7",o.."风切P1T")then return d end elseif x=="party2target"then if g["WR_ColorFrame_Show"]("CN8",o.."风切P2T")then return d end elseif x=="party3target"then if g["WR_ColorFrame_Show"]("CN9",o.."风切P3T")then return d end elseif x=="party4target"then if g["WR_ColorFrame_Show"]("CN0",o.."风切P4T")then return d end end end;return c end;g["WR_ShamanEnhancement_Function_FQ"]=function(o)if g["GCD"]<=g["ShiFaSuDu"]and g["C_Spell"]["IsSpellUsable"]("风切")and g["WR_GetGCD"]("风切")<=g["GCD"]+i("0.3")and g["WR_GetUnitBuffTime"]("player","升腾")>g["WR_GetGCD"]("风切")+i("0.2")then if o=="祈咒"and g["IsPlayerSpell"](i("384444"))and g["BuffCount_XWWQ"]>i("0")and(g["HUCountRangeAOE"]<=i("1")and g["LastSpell"]~="闪电链"or g["HUCountRangeAOE"]>i("1")and g["LastSpell"]=="闪电链")or o=="单体"then if g["WR_ShamanEnhancement_FQ"](g["BeatUnit_YLZ"],o)then return d end end end;return c end;g["WR_ShamanEnhancement_ST"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["TargetInCombat"]and g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_ST"]and g["TargetRange"]<=g["AoeRange"]and g["WR_SpellUsable"]("升腾")and g["TargetDebuffTime_LYZJ"]>g["GCD"]and(g["LastSpell"]~="闪电链"and g["HUCountRangeAOE"]<=i("1")or g["LastSpell"]=="闪电链"and g["HUCountRangeAOE"]>i("1"))then if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_SP1"]==i("2")then if g["WR_ShiPin"](i("1"),g["WRSet"]["ZQ_SP1"])then return d end end;if g["zhandoumoshi"]==i("1")and g["WRSet"]["ZQ_SP2"]==i("2")then if g["WR_ShiPin"](i("2"),g["WRSet"]["ZQ_SP2"])then return d end end;if g["WR_ColorFrame_Show"]("CF10","升腾")then return d end end;return c end;g["WR_ShamanEnhancement_TYS"]=function()if g["GCD"]<=g["ShiFaSuDu"]and g["TargetInCombat"]and g["TargetRange"]<=i("20")and g["WR_SpellUsable"]("土元素")and(g["WRSet"]["ZQ_TYS"]==i("1")and g["WR_InBossCombat"]()or g["WRSet"]["ZQ_TYS"]==i("2")and g["zhandoumoshi"]==i("1"))then if g["WR_ColorFrame_Show"]("ASF6","土元素")then return d end end;return c end;g["WR_ShamanEnhancement_HYXX"]=function(o)if g["GCD"]>g["ShiFaSuDu"]then return c end;if not g["TargetInCombat"]then return c end;if g["TargetRange"]>i("8")then return c end;if not g["WR_SpellUsable"]("火焰新星")then return c end;if o=="单体"and g["IsPlayerSpell"](i("384359"))and g["TargetDebuffTime_LYZJ"]>g["GCD"]and g["BuffCount_XWWQ"]<i("10")or o=="单填"and g["TargetDebuffTime_LYZJ"]>g["GCD"]or o=="4层"and g["LYZJCountRangeAOE"]>=i("4")and(g["LYZJCountRangeAOE"]==i("6")or g["LYZJCountRangeAOE"]==g["HUCountRangeAOE"])or o=="3层"and g["LYZJCountRangeAOE"]>=i("3")or o=="2层"and g["LYZJCountRangeAOE"]>=i("2")then if g["WR_ColorFrame_Show"]("CF7",o.."火星")then return d end end;return c end;g["WR_ShamanEnhancement_BSZJ"]=function(o)if g["GCD"]<=g["ShiFaSuDu"]and g["TargetInCombat"]and g["TargetRange"]<=i("40")and g["WR_SpellUsable"]("冰霜震击")then if o=="单体"or o=="冰雹"and g["WR_GetUnitBuffTime"]("player","冰雹")>g["GCD"]or o=="AOE"and not g["IsPlayerSpell"](i("334195"))then if g["WR_ColorFrame_Show"]("CSH",o.."冰震")then return d end end end;return c end;g["WR_ShamanEnhancement_SRDJ"]=function(o)if g["GCD"]<=g["ShiFaSuDu"]and g["TargetInCombat"]and g["IsSpellInRange"]("霜刃打击","target")and g["WR_SpellUsable"]("霜刃打击")and g["WR_GetUnitBuffTime"]("player","霜刃打击")<=g["GCD"]then if o=="单体"or o=="AOE"or o=="冰雹"and g["IsPlayerSpell"](i("334195"))or o=="单优"and g["IsPlayerSpell"](i("210853"))and g["IsPlayerSpell"](i("384359"))then if g["WR_ColorFrame_Show"]("CSL",o.."霜打")then return d end end end;return c end;g["WR_ShamanEnhancement_YSCJ"]=function(o)if g["GCD"]<=g["ShiFaSuDu"]and g["TargetInCombat"]and g["IsSpellInRange"]("元素冲击","target")and g["WR_SpellUsable"]("元素冲击")and g["BuffCount_XWWQ"]>=i("5")then if o=="单优"and g["KFNH_BuffCount"]<i("2")and g["IsPlayerSpell"](i("262624"))and g["WolfSum"]>=i("2")and g["YXLH_BuffTime"]<=g["GCD"]+g["MaxGCD"]*i("2")or o=="单满"and(g["WR_GetSpellCharges"]("元素冲击")>=i("2")or g["WR_GetSpellNextCharge"]("元素冲击")<=g["GCD"]+i("1"))or o=="8狼"and g["BuffCount_XWWQ"]>=i("10")and g["IsPlayerSpell"](i("262624"))and g["WolfSum"]>=i("8")and g["WR_GetSpellNextCharge"]("元素冲击")<i("2.4")or o=="7狼"and g["BuffCount_XWWQ"]>=i("8")and(g["HBDF_BuffSum"]>=i("1")or g["RYWQ_BuffSum"]>=i("1"))and(g["WolfSum"]>=i("7")or g["WR_GetSpellNextCharge"]("元素冲击")<i("2.4"))and g["YXLH_BuffTime"]>=i("3")or o=="4狼"and g["IsPlayerSpell"](i("262624"))and g["WolfSum"]>=i("4")or o=="单体"and(g["BuffCount_XWWQ"]>=i("8")and(g["WolfSum"]>=i("2")or not g["IsPlayerSpell"](i("262624"))))or(o=="A填"or o=="A满"and g["BuffCount_XWWQ"]>=i("10"))and(not g["IsPlayerSpell"](i("262624"))or g["IsPlayerSpell"](i("262624"))and(g["WR_GetSpellCharges"]("元素冲击")>=i("2")or g["WR_GetSpellNextCharge"]("元素冲击")<=g["GCD"]+i("1")or g["WolfSum"]>=i("2")))and(not g["IsPlayerSpell"](i("334308"))or g["HUCountRangeAOE"]<=i("3"))then if g["WR_ColorFrame_Show"]("CSP",o.."冲击")then return d end end end;return c end;g["WR_ShamanEnhancement_ZLTT"]=function()if g["IsPlayerSpell"](i("8143"))and g["WR_SpellUsable"]("战栗图腾")and(g["UnitCastingInfo"]("boss1")=="憎恨之容"or g["UnitCastingInfo"]("boss2")=="憎恨之容")then if g["WR_ColorFrame_Show"]("CSU","战栗图腾")then return d end end;return c end end)()