local a=93;local b=44;local c=83;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_PriestShadow"]=function()if h["GetSpecialization"]()~=j("3")then return end;h["ShiFaSuDu"]=j("0.3")h["WR_LFGList"]()h["WR_AllUnitRange"]={}h["WR_BuffInfo_All"]={}local k={[j("1")]=j("202540"),[j("2")]=j("202541"),[j("3")]=j("202542"),[j("4")]=j("202543"),[j("5")]=j("202545"),[j("6")]=j("217201"),[j("7")]=j("217202"),[j("8")]=j("217203"),[j("9")]=j("217204"),[j("10")]=j("217205")}h["T101Count"]=h["WR_GetSuit"](k)h["PlayerInCombat"]=h["UnitAffectingCombat"]("player")h["ResistOutburst"]=h["WR_ResistOutburst"](j("5"))h["MustDefenseSpell"]=h["WR_MustDefenseSpell"]()h["Resist"]=d;if h["WR_ResistSustained"]()or h["ResistOutburst"]or h["MustDefenseSpell"]then h["Resist"]=e end;h["InsanityPower"]=h["UnitPower"]("player",j("13"))h["GCD"]=h["WR_GetGCD"]("真言术：韧")h["GCD_Max"]=h["WR_GetMaxGCD"](j("1.5"))h["CastTime_JSBC"]=h["WR_GetMaxGCD"](j("4.5"))h["CastTime_XLZB"]=h["WR_GetMaxGCD"](j("1.5"))h["CD_XKBF"]=h["WR_GetSpellCD"](j("228260"))if h["CD_XKBF"]<=h["GCD"]then h["CD_XKBF"]=j("0")end;h["CD_XKJ"]=h["WR_GetSpellCD"](j("205448"))if h["CD_XKJ"]<=h["GCD"]then h["CD_XKJ"]=j("0")end;h["CD_AYCZ"]=h["WR_GetSpellCD"]("暗影冲撞")if h["CD_AYCZ"]<=h["GCD"]then h["CD_AYCZ"]=j("0")end;local l,l,m,n,l=h["GetSpellCharges"]("心灵震爆")h["CD_XLZB"]=m+n-h["GetTime"]()if h["CD_XLZB"]>n then h["CD_XLZB"]=j("0")end;h["DebuffTime_SLYB"]=h["WR_GetUnitDebuffInfo"]("target","噬灵疫病",e)h["DebuffTime_XXGZC"]=h["WR_GetUnitDebuffInfo"]("target","吸血鬼之触",e)h["BuffTime_HS"],h["BuffCount_HS"],h["BuffSum_HS"]=h["WR_GetUnitBuffInfo"]("player","喝水")h["BuffTime_YY"],h["BuffCount_YY"],h["BuffSum_YY"]=h["WR_GetUnitBuffInfo"]("player","饮用")h["BuffTime_JSYS"],h["BuffCount_JSYS"],h["BuffSum_JSYS"]=h["WR_GetUnitBuffInfo"]("player","进食饮水")h["BuffTime_XKXT"],h["BuffCount_XKXT"],h["BuffSum_XKXT"]=h["WR_GetUnitBuffInfo"]("player","虚空形态")h["BuffTime_JSBCK"],h["BuffCount_JSBCK"],h["BuffSum_JSBCK"]=h["WR_GetUnitBuffInfo"]("player","精神鞭笞：狂")h["BuffTime_AYZB"],h["BuffCount_AYZB"],h["BuffSum_AYZB"]=h["WR_GetUnitBuffInfo"]("player","暗焰遮蔽")h["BuffTime_AYDC"],h["BuffCount_AYDC"],h["BuffSum_AYDC"]=h["WR_GetUnitBuffInfo"]("player","暗影洞察")h["BuffTime_AYYJ"],h["BuffCount_AYYJ"],h["BuffSum_AYYJ"]=h["WR_GetUnitBuffInfo"]("player","暗焰余烬")h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")h["PartyLostHP"]=h["WR_PartyLostHP"]("快速治疗")h["TargetDeathTime"]=h["WR_GetUnitDeathTime"]("target")h["AvgDeathTime"]=h["WR_GetSpellRangeAvgDeathTime"]("心灵震爆")h["PlayerMove"]=h["WR_GetPlayerMove"]()h["InTraining"]=h["WR_InTraining"]()h["RangeHarmUnitCount30"]=h["WR_GetRangeHarmUnitCount"](j("30"),not h["InTraining"])h["RangeHarmUnitCount40"]=h["WR_GetRangeHarmUnitCount"](j("40"),not h["InTraining"])h["EndGame"]=h["WR_EndGame"]()h["CastingName"]=h["UnitCastingInfo"]("player")h["ChannelName"]=h["UnitChannelInfo"]("player")h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["PartyInCombat"]=h["WR_PartyInCombat"]()if h["WR_CreateMacroButtonInfo"]~=e and not h["UnitAffectingCombat"]("player")and h["WR_CreateMacroButtonPass"]()~=f then h["WR_CreateMacroButtonInfo"]=e;h["WR_PriestCreateMacroButton"]()end;if h["IsFlying"]()or h["UnitIsDead"]("player")or h["BuffTime_HS"]>j("0")or h["BuffTime_YY"]>j("0")or h["BuffTime_JSYS"]>j("0")or h["SpellIsTargeting"]()or h["ChannelName"]=="虚空洪流"then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return end;if not h["UnitIsDead"]("player")and(h["PlayerInCombat"]or h["WR_InTraining"]())then h["WR_CombatFrame"]["Show"](h["WR_CombatFrame"])else h["WR_CombatFrame"]["Hide"](h["WR_CombatFrame"])end;if h["zhandoumoshi"]~=j("1")then h["WR_HideColorFrame"](j("1"))h["WR_ShowColorFrame"]("ACSF1","爆发",j("1"))end;if h["zhandoumoshi"]==j("1")then h["WR_HideColorFrame"](j("0"))h["WR_ShowColorFrame"]("ACF10","平伤",j("0"))end;if h["WRSet"]["AY_ZNMB"]==j("1")and h["PartyInCombat"]and h["RangeHarmUnitCount40"]>=j("1")and not h["TargetInCombat"]then if h["UnitGroupRolesAssigned"]("party1")=="TANK"and h["WR_TargetInCombat"]("party1target")and h["WR_GetUnitRange"]("party1target")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF2","目标P1",h["zhandoumoshi"])return end;if h["UnitGroupRolesAssigned"]("party2")=="TANK"and h["WR_TargetInCombat"]("party2target")and h["WR_GetUnitRange"]("party2target")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF3","目标P2",h["zhandoumoshi"])return end;if h["UnitGroupRolesAssigned"]("party3")=="TANK"and h["WR_TargetInCombat"]("party3target")and h["WR_GetUnitRange"]("party3target")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF5","目标P3",h["zhandoumoshi"])return end;if h["UnitGroupRolesAssigned"]("party4")=="TANK"and h["WR_TargetInCombat"]("party4target")and h["WR_GetUnitRange"]("party4target")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF6","目标P4",h["zhandoumoshi"])return end end;if h["WRSet"]["AY_JWDY"]~=j("5")and h["WR_SpellUsable"]("绝望祷言")and h["PlayerHP"]<=h["WRSet"]["AY_JWDY"]/j("10")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF5","绝望祷言",h["zhandoumoshi"])return end;if h["WRSet"]["AY_ZLS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["AY_ZLS"]/j("10")then local o=h["GetItemCount"]("治疗石")local m,n,p=h["GetItemCooldown"]("治疗石")if o~=f and o>=j("1")and m+n-h["GetTime"]()<=j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF6","治疗石",h["zhandoumoshi"])return end end;if h["WRSet"]["AY_ZLYS"]~=j("5")and h["PlayerHP"]<h["WRSet"]["AY_ZLYS"]/j("10")then local q={[j("1")]="振奋治疗药水",[j("2")]="梦行者治疗药水",[j("3")]="凋零梦境药水"}for l,r in h["ipairs"](q)do local o=h["GetItemCount"](r)local m,n,p=h["GetItemCooldown"](r)if o~=f and o>=j("1")and m+n-h["GetTime"]()<=j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF7","治疗药水",h["zhandoumoshi"])return end end end;if h["WRSet"]["AY_JYS"]==j("1")and h["WR_SpellUsable"]("渐隐术")and h["UnitAffectingCombat"]("player")and(h["IsPlayerSpell"](j("373446"))and(h["PlayerHP"]<=j("0.3")or h["Resist"])or h["IsPlayerSpell"](j("108942"))and h["WR_ZiYouZhuFu"]("player"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF3","渐隐术",h["zhandoumoshi"])return end;if h["WRSet"]["AY_XS"]~=j("5")and h["WR_SpellUsable"]("消散")and h["PlayerHP"]<=h["WRSet"]["AY_XS"]/j("10")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF4","消散",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("沉默")then if h["WRSet"]["AY_CM"]~=j("3")and h["WR_GetUnitRange"]("target")<=j("40")and h["WR_TargetInCombat"]("target")and h["WR_GetCastInterruptible"]("target",h["InterruptTime"])then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN5","沉默T",h["zhandoumoshi"])return end;if h["WRSet"]["AY_CM"]==j("1")and h["WR_GetUnitRange"]("mouseover")<=j("40")and h["WR_TargetInCombat"]("mouseover")and h["WR_GetCastInterruptible"]("mouseover",h["InterruptTime"])then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN8","沉默M",h["zhandoumoshi"])return end end;if h["GCD"]>h["ShiFaSuDu"]then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return end;if h["WR_SpellUsable"]("净化疾病")and h["WR_GetUnitRange"]("mouseover")<=j("40")and h["UnitName"]("mouseover")=="受难之魂"then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSG","净化受难",h["zhandoumoshi"])return end;if h["WRSet"]["AY_JHJB"]==j("1")and h["WR_SpellUsable"]("净化疾病")then if h["WR_CanRemoveUnitDebuff"]("player")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF1","净化P",h["zhandoumoshi"])return end;if not h["UnitCanAttack"]("player","party1")and h["WR_CanRemoveUnitDebuff"]("party1")and h["WR_GetUnitRange"]("party1")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF2","净化P1",h["zhandoumoshi"])return end;if not h["UnitCanAttack"]("player","party2")and h["WR_CanRemoveUnitDebuff"]("party2")and h["WR_GetUnitRange"]("party2")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF3","净化P2",h["zhandoumoshi"])return end;if not h["UnitCanAttack"]("player","party3")and h["WR_CanRemoveUnitDebuff"]("party3")and h["WR_GetUnitRange"]("party3")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF4","净化P3",h["zhandoumoshi"])return end;if not h["UnitCanAttack"]("player","party4")and h["WR_CanRemoveUnitDebuff"]("party4")and h["WR_GetUnitRange"]("party4")<=j("40")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF5","净化P4",h["zhandoumoshi"])return end end;if h["UnitName"]("mouseover")=="虚体生物"and h["UnitCastingInfo"]("mouseover")~=f and not h["PlayerMove"]then if h["IsPlayerSpell"](j("205364"))and h["IsSpellInRange"]("统御意志","mouseover")==j("1")and not h["WR_StopCast"](h["WR_GetTrueCastTime"](j("1.8")))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF9","统御意志",h["zhandoumoshi"])return end;if h["IsPlayerSpell"](j("9484"))and h["IsSpellInRange"]("束缚亡灵","mouseover")==j("1")and not h["WR_StopCast"](h["WR_GetTrueCastTime"](j("1.5")))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF8","束缚亡灵",h["zhandoumoshi"])return end end;if h["WRSet"]["AY_QSMF"]==j("1")and h["IsPlayerSpell"](j("528"))and h["PlayerInCombat"]then if h["WR_GetUnitRange"]("target")<=j("30")and h["UnitCanAttack"]("player","target")and h["WR_GetUnitBuffType"]("target","Magic")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF11","驱散T",h["zhandoumoshi"])return end;if h["WR_GetUnitRange"]("party1target")<=j("30")and h["UnitCanAttack"]("player","party1target")and h["WR_GetUnitBuffType"]("party1target","Magic")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF3","驱散P1",h["zhandoumoshi"])return end;if h["WR_GetUnitRange"]("party2target")<=j("30")and h["UnitCanAttack"]("player","party2target")and h["WR_GetUnitBuffType"]("party2target","Magic")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF5","驱散P2",h["zhandoumoshi"])return end;if h["WR_GetUnitRange"]("party3target")<=j("30")and h["UnitCanAttack"]("player","party3target")and h["WR_GetUnitBuffType"]("party3target","Magic")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF6","驱散P3",h["zhandoumoshi"])return end;if h["WR_GetUnitRange"]("party4target")<=j("30")and h["UnitCanAttack"]("player","party4target")and h["WR_GetUnitBuffType"]("party4target","Magic")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF7","驱散P4",h["zhandoumoshi"])return end end;if h["WR_SpellUsable"]("暗影形态")and h["WR_GetUnitBuffInfo"]("player","暗影形态")==j("0")and h["WR_GetUnitBuffInfo"]("player","虚空形态")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF9","暗影形态",h["zhandoumoshi"])return end;if h["WR_PartyNotBuff"]("真言术：韧")and h["BuffTime_XKXT"]==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSO","真言术韧",h["zhandoumoshi"])return end;if h["WR_PriestShadow_ZYSD_Me"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF9","盾",h["zhandoumoshi"])return end;if h["WR_PriestShadow_KSZL_FHSG"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF8","防护快疗",h["zhandoumoshi"])return end;if not h["TargetInCombat"]then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return end;if h["WR_SpellUsable"]("暗影冲撞")and h["WR_GetUnitRange"]("target")<=j("40")and h["TargetInCombat"]and(h["AvgDeathTime"]>j("8")or h["InTraining"])and(h["RangeHarmUnitCount40"]>=j("2")or h["InTraining"])and(h["DebuffTime_XXGZC"]<=j("6.3")and h["BuffTime_XKXT"]==j("0")and h["ChannelName"]==f or h["DebuffTime_XXGZC"]<=j("1"))then if h["WRSet"]["AY_AYCZ"]==j("1")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSP","提示冲撞",h["zhandoumoshi"])return end;if h["WRSet"]["AY_AYCZ"]==j("2")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSU","指向冲撞",h["zhandoumoshi"])return end end;if h["WR_SpellUsable"]("吸血鬼之触")and h["WR_GetUnitRange"]("target")<=j("40")and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("1.5"))+j("0.2"))and h["CastingName"]~="吸血鬼之触"and h["DebuffTime_XXGZC"]<=j("6.3")and h["TargetInCombat"]and(h["CD_AYCZ"]>j("5")and h["CD_AYCZ"]<j("18")or h["WRSet"]["AY_AYCZ"]==j("3")and h["CD_AYCZ"]<=h["GCD"]and h["DebuffTime_XXGZC"]==j("0")or not h["InTraining"]and(h["RangeHarmUnitCount40"]<=j("1")or h["AvgDeathTime"]<=j("8"))or not h["IsPlayerSpell"](j("205385")))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF7","触",h["zhandoumoshi"])return end;if h["WRSet"]["AY_XXGDYB"]==j("1")and h["WR_SpellUsable"]("吸血鬼的拥抱")and h["WR_GetUnitBuffInfo"]("player","虚空形态")>j("12")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSB","吸血鬼",h["zhandoumoshi"])return end;if h["CD_AYCZ"]>j("0")or h["DebuffTime_XXGZC"]>j("0")or h["CastingName"]=="吸血鬼之触"then if h["zhandoumoshi"]==j("1")and h["WRSet"]["AY_AYM"]==j("1")and h["WR_SpellUsable"]("暗影魔")and h["WR_GetUnitRange"]("target")<=j("40")and h["BuffTime_XKXT"]==j("0")and h["BuffTime_AYZB"]==j("0")and h["ChannelName"]==f then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSZ","暗影魔1",h["zhandoumoshi"])return end;if h["WRSet"]["AY_XKBF"]==j("1")and h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("虚空爆发")and h["WR_GetUnitRange"]("target")<=j("40")and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("1.5"))+j("0.2"))and h["CastingName"]~="虚空爆发"then if h["WRSet"]["AY_BFYS"]==j("1")then local s={[j("1")]="飞逝元素究极强能药水",[j("2")]="元素究极强能药水",[j("3")]="元素强能药水"}local t;for l,u in h["ipairs"](s)do local o=h["GetItemCount"](u)local m,n,p=h["GetItemCooldown"](u)if o~=f and o>=j("1")and m+n-h["GetTime"]()<=j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSF9","爆发药水",h["zhandoumoshi"])return end end end;if h["zhandoumoshi"]==j("1")then if(h["WRSet"]["AY_SP"]==j("1")or h["WRSet"]["AY_SP"]==j("3"))and h["WR_GetEquipCD"](j("13"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF2","饰品1",h["zhandoumoshi"])return end;if(h["WRSet"]["AY_SP"]==j("2")or h["WRSet"]["AY_SP"]==j("3"))and h["WR_GetEquipCD"](j("14"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF3","饰品2",h["zhandoumoshi"])return end end;if h["zhandoumoshi"]==j("1")and h["WR_SpellUsable"]("能量灌注")then if h["WRSet"]["AY_NLGZ"]==j("1")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF5","能量灌注1",h["zhandoumoshi"])return end;if h["WRSet"]["AY_NLGZ"]==j("2")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF6","能量灌注2",h["zhandoumoshi"])return end;if h["WRSet"]["AY_NLGZ"]==j("3")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF7","能量灌注3",h["zhandoumoshi"])return end;if h["WRSet"]["AY_NLGZ"]==j("4")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF9","能量灌注4",h["zhandoumoshi"])return end end;h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF6","虚空爆发",h["zhandoumoshi"])return end;if h["BuffTime_AYZB"]>h["GCD"]then if h["BuffTime_AYZB"]>h["WR_GetMaxGCD"](j("1.5"))and h["WR_PriestShadow_XLZB_MAX"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSN","暗焰满震",h["zhandoumoshi"])return end;if h["WR_PriestShadow_XKJ"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF6","暗焰虚箭",h["zhandoumoshi"])return end;if h["BuffTime_AYZB"]>h["WR_GetMaxGCD"](j("1.5"))and h["WR_PriestShadow_XLZB"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSN","暗焰震爆",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("噬灵疫病")and h["WR_GetUnitRange"]("target")<=j("40")and(h["BuffCount_AYYJ"]<j("3")or h["zhandoumoshi"]==j("1"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF10","暗焰噬病",h["zhandoumoshi"])return end end;if h["WR_PriestShadow_XKJ"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF6","虚空箭",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("噬灵疫病")and h["WR_GetUnitRange"]("target")<=j("40")and(h["BuffCount_AYYJ"]<j("3")or h["zhandoumoshi"]==j("1"))and(h["BuffTime_XKXT"]>h["GCD"]or h["BuffTime_XKXT"]==j("0")and h["DebuffTime_SLYB"]<j("1.8")and(h["CD_XKBF"]>h["DebuffTime_SLYB"]or h["WRSet"]["AY_XKBF"]==j("2")))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF10","噬灵疫病",h["zhandoumoshi"])return end;if h["WR_PriestShadow_XLZB_MAX"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSN","满震",h["zhandoumoshi"])return end;if h["WR_PriestShadow_XLZB"]()and h["WR_SpellUsable"]("虚空洪流")and h["BuffTime_XKXT"]>h["CD_XKJ"]+h["GCD"]and h["BuffTime_XKXT"]>h["CastTime_XLZB"]+h["GCD"]+j("0.2")and h["CD_XKJ"]<h["CastTime_XLZB"]+h["GCD"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSN","震爆后剑",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("虚空洪流")and h["WR_GetUnitRange"]("target")<=j("40")and h["WRSet"]["AY_XKHL"]==j("1")and not h["PlayerMove"]and not h["WR_StopCast"](j("3")+j("0.2"))and h["ChannelName"]==f and(h["zhandoumoshi"]==j("1")or h["InsanityPower"]<j("70"))and(h["DebuffTime_SLYB"]>j("2.5")or h["BuffTime_XKXT"]>j("2.5")and h["CD_XKJ"]>j("2.5"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF11","虚空洪流",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("控心术")and h["WR_GetUnitRange"]("target")<=j("40")and h["CastingName"]~="控心术"and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("1.5"))+j("0.2"))and h["ChannelName"]==f then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN7","控心术",h["zhandoumoshi"])return end;if h["zhandoumoshi"]==j("1")and h["WRSet"]["AY_AYM"]==j("1")and h["WR_SpellUsable"]("暗影魔")and h["WR_GetUnitRange"]("target")<=j("40")and h["ChannelName"]==f then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSZ","暗影魔2",h["zhandoumoshi"])return end;if h["WR_PriestShadow_XLZB"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSN","心灵震爆",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("光晕")and h["BuffTime_AYZB"]==j("0")and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("1.5"))+j("0.2"))and h["ChannelName"]==f and(h["InTraining"]or h["RangeHarmUnitCount30"]>=j("2")and h["AvgDeathTime"]>j("20"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF8","光晕",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("精神鞭笞")and h["WR_GetUnitRange"]("target")<=j("40")and not h["PlayerMove"]and h["ChannelName"]==f and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("3"))+j("0.2"))and h["BuffTime_JSBCK"]>j("0")and(h["BuffTime_XKXT"]==j("0")or h["BuffTime_XKXT"]>j("0")and h["CD_XKJ"]<h["BuffTime_XKXT"]and(h["BuffCount_JSBCK"]>=j("2")and h["CD_XKJ"]>h["WR_GetMaxGCD"](j("1.5"))or h["BuffCount_JSBCK"]==j("1")and h["CD_XKJ"]>h["WR_GetMaxGCD"](j("3"))))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSH","狂鞭",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("暗言术：灭")and h["WR_GetUnitRange"]("target")<=j("40")and h["UnitHealth"]("target")/h["UnitHealthMax"]("target")<j("0.2")and h["ChannelName"]==f then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSJ","灭",h["zhandoumoshi"])return end;if h["WR_SpellUsable"]("精神鞭笞")and h["WR_GetUnitRange"]("target")<=j("40")and not h["PlayerMove"]and h["ChannelName"]==f and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("4.5"))+j("0.2"))and h["BuffTime_XKXT"]==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSH","精神鞭笞",h["zhandoumoshi"])return end end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_PriestShadow_XLZB"]=function()if(h["GetSpellCharges"]("心灵震爆")>=j("1")or h["CastingName"]=="虚空爆发")and h["WR_GetUnitRange"]("target")<=j("40")and(not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetMaxGCD"](j("1.5"))+j("0.2"))or h["BuffTime_AYDC"]>j("0"))then return e end;return d end;h["WR_PriestShadow_XLZB_MAX"]=function()if h["WR_PriestShadow_XLZB"]()and(h["CastingName"]~="心灵震爆"and(h["GetSpellCharges"]("心灵震爆")==j("2")or h["CD_XLZB"]<h["GCD_Max"])or h["zhandoumoshi"]==j("1")and h["CD_XKBF"]<h["WR_GetMaxGCD"](j("1.5")))then return e end;return d end;h["WR_PriestShadow_XKJ"]=function()if h["WR_SpellUsable"]("虚空箭")and h["WR_GetUnitRange"]("target")<=j("40")and(h["BuffTime_XKXT"]>j("0")or h["CD_XKBF"]>=j("119.7")or h["CastingName"]=="虚空爆发")then return e end;return d end;h["WR_PriestShadow_ZYSD_Me"]=function()if h["WRSet"]["AY_ZYSD"]==j("1")and h["WR_SpellUsable"]("真言术：盾")and h["WR_GetUnitBuffInfo"]("player","真言术：盾")==j("0")and h["PlayerInCombat"]and(h["ResistOutburst"]or h["MustDefenseSpell"]or h["PlayerHP"]<j("0.3")or h["WR_Mustheal"]("player"))then return e end;return d end;h["WR_PriestShadow_KSZL_FHSG"]=function()if h["WRSet"]["AY_FHSG"]==j("1")and h["WR_SpellUsable"]("快速治疗")and h["IsPlayerSpell"](j("193063"))and h["WR_GetUnitBuffInfo"]("player","防护圣光")==j("0")and h["UnitCastingInfo"]("player")~="快速治疗"and(h["ResistOutburst"]or h["MustDefenseSpell"])and(h["WR_GetInRiadOrParty"]()~="raid"and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"](j("1.4"))))then return e end;return d end end)()