local a=39;local b=26;local c=71;local d=47;local e=47;local f=0==1;local g=not f;local h=nil;local i=""local j=_G;local k=_ENV;local l=j["tonumber"]return(function(...)j["WR_DemonHunterVengeance"]=function()if j["GetSpecialization"]()~=l("2")then return end;j["ShiFaSuDu"]=l("0.05")+j["WRSet"]["FC_SFSD"]*l("0.05")j["GCD"]=j["WR_GetGCD"]("混乱打击")j["MaxGCD"]=j["WR_GetMaxGCD"](l("1.5"))j["PlayerHP"]=j["UnitHealth"]("player")/j["UnitHealthMax"]("player")j["PlayerMove"]=j["WR_PlayerMove"]()j["PlayerFury"]=j["UnitPower"]("player",j["SPELL_POWER_FURY"])j["TargetIsNearby"]=j["IsSpellInRange"]("裂魂","target")j["TargetRange"]=j["WR_GetUnitRange"]("target")j["TargetInCombat"]=j["WR_TargetInCombat"]("target")j["RangeHarmUnitCount5"]=j["WR_GetRangeHarmUnitCount"](l("5"),not j["WR_InTraining"]())j["InBossCombat"]=j["WR_InBossCombat"]()j["BuffTime_EMJC"]=j["WR_GetUnitBuffTime"]("player","恶魔尖刺")j["BuffTime_EMBX"]=j["WR_GetUnitBuffTime"]("player","恶魔变形")j["BuffTime_SLMJ"]=j["WR_GetUnitBuffTime"]("player","撕裂猛击")j["BuffTime_ZRLW"]=j["WR_GetUnitBuffTime"]("player","战刃乱舞")j["BuffTime_HZRX"]=j["WR_GetUnitBuffTime"]("player",l("1227062"))j["DebuffTime_LHLY"]=j["WR_DemonHunterVengeance_LastSpellTime"]()j["SmallMagicTime"],j["BigMagicTime"],j["SmallPhysicalTime"],j["BigPhysicalTime"]=j["WR_TankResist"]()local m={[l("1")]="沼面",[l("2")]="吉泽尔·超震",[l("3")]="斩血",[l("4")]="无尽女皇莫德蕾莎",[l("5")]="老蜡须",[l("6")]="老大娘"}j["QZJS_Boss"]=f;for n=l("1"),l("5"),l("1")do for o,p in j["pairs"](m)do if j["UnitName"]("boss"..n)==p then j["QZJS_Boss"]=g;break end end end;j["QZJS_Time"]=f;if j["WR_GetUnitDebuffTime"]("target","烈火烙印",g)<=l("2.5")and j["BuffTime_EMBX"]<=l("2.5")and(j["BigMagicTime"]<=l("2.5")or j["BigPhysicalTime"]<=l("2.5"))then j["QZJS_Time"]=g end;j["HoldSpell"]=g;if j["WR_GetRangeAvgDeathTime"](l("30"))>l("10")or j["WR_InBossCombat"]()then j["HoldSpell"]=f end;j["BindTime"]=j["WR_GetUnitDebuffTime"]("player",j["BindName"])if j["MSG"]==l("1")then j["print"]("----------")end;if j["WR_DemonHunterVengeance_EMJC"]()then return g end;if j["WR_DemonHunterVengeance_StopCasting"]()then return g end;if j["WR_PriorityCheck"]()then return g end;if j["WR_ZLS"](j["WRSet"]["FC_ZLS"])then return g end;if j["WR_ZLYS"](j["WRSet"]["FC_ZLYS"])then return g end;if j["WR_ZLYS2"](j["WRSet"]["FC_ZLYS"])then return g end;if j["WR_DemonHunterDemonology_SP"]("保命")then return g end;if j["WR_WarriorProtection_EMBX"]()then return g end;if j["WR_Function_ZNMB"](l("2"),j["WRSet"]["FC_ZNMB"])then return g end;if j["WR_ZNJD"](j["WRSet"]["FC_ZNJD"])then return g end;if j["WR_DemonHunterVengeance_QJ"]()then return g end;if j["WR_DemonHunterVengeance_TSMF"]()then return g end;if j["WR_DemonHunterVengeance_HLXX"]()then return g end;if not j["WRSet"]["FC_NotADD"]or j["TargetInCombat"]then if j["TargetIsNearby"]then if j["WR_DemonHunterDemonology_SP"]("常驻")then return g end;if j["WR_WuQi"](l("3"),j["WRSet"]["FC_WuQi"])then return g end end;if j["WR_DemonHunterVengeance_XNHM"]("血量阈值")then return g end;if j["WR_DemonHunterVengeance_XNHM"]("前置")then return g end;if j["WR_DemonHunterVengeance_LHLY"]("前置")then return g end;if j["WR_DemonHunterVengeance_YHZD"]("满魂")then return g end;if j["WR_DemonHunterVengeance_XJGH"]()then return g end;if j["WR_DemonHunterVengeance_EMZJ"]()then return g end;if j["WR_DemonHunterVengeance_SGZZR"]()then return g end;if j["RangeHarmUnitCount5"]>l("1")then if j["WR_DemonHunterVengeance_PL"]("撕裂猛击")then return g end;if j["WR_DemonHunterVengeance_LHLP"]("战刃乱舞")then return g end else if j["WR_DemonHunterVengeance_LHLP"]("战刃乱舞")then return g end;if j["WR_DemonHunterVengeance_PL"]("撕裂猛击")then return g end end;if j["WR_DemonHunterVengeance_LHLY"]()then return g end;if j["WR_DemonHunterVengeance_YHZD"]()then return g end;if j["WR_DemonHunterVengeance_LHFZ"]()then return g end;if j["WR_DemonHunterVengeance_XNHM"]()then return g end;if j["WR_DemonHunterVengeance_YNZF"]()then return g end;if j["WR_DemonHunterVengeance_LHLP"]()then return g end;if j["WR_DemonHunterVengeance_XNZL"]()then return g end;if j["WR_DemonHunterVengeance_PL"]()then return g end;if j["WR_DemonHunterVengeance_TZLR"]()then return g end end;j["WR_HideColorFrame"](j["zhandoumoshi"])end;j["WR_DemonHunterVengeance_TSMF_Unit"]=function(q)if j["UnitCanAttack"]("player",q)and j["IsSpellInRange"]("吞噬魔法",q)and j["WR_GetUnitBuffType"](q,"Magic")and j["WR_TargetInCombat"](q)then if q=="target"then if j["WR_ColorFrame_Show"]("AN5","吞魔T")then return g end elseif q=="mouseover"then if j["WR_ColorFrame_Show"]("AN6","吞魔M")then return g end elseif q=="focus"then if j["WR_ColorFrame_Show"]("AN7","吞魔F")then return g end elseif q=="party1target"then if j["WR_ColorFrame_Show"]("AN1","吞魔P1T")then return g end elseif q=="party2target"then if j["WR_ColorFrame_Show"]("AN2","吞魔P2T")then return g end elseif q=="party3target"then if j["WR_ColorFrame_Show"]("AN3","吞魔P3T")then return g end elseif q=="party4target"then if j["WR_ColorFrame_Show"]("AN4","吞魔P4T")then return g end end end;return f end;j["WR_DemonHunterVengeance_TSMF"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["FC_TSMF"]and j["WR_SpellUsable"]("吞噬魔法")then if j["WR_DemonHunterVengeance_TSMF_Unit"]("target")then return g end;if j["WR_DemonHunterVengeance_TSMF_Unit"]("mouseover")then return g end;for n=l("1"),l("4"),l("1")do if j["WR_DemonHunterVengeance_TSMF_Unit"]("party"..n.."target")then return g end end end;return f end;j["WR_DemonHunterVengeance_EMJC"]=function()if j["WR_SpellUsable"]("恶魔尖刺")and j["TargetIsNearby"]and(j["WR_GetUnitBuffInfo"]("player","恶魔尖刺")<=l("1")or j["WR_GetSpellCharges"]("恶魔尖刺")==l("2")or j["WR_GetSpellNextCharge"]("恶魔尖刺")<=l("1"))then if j["WR_ColorFrame_Show"]("SF1","恶魔尖刺")then return g end end;return f end;j["WR_DemonHunterVengeance_StopCasting"]=function()if j["UnitChannelInfo"]("player")=="邪能毁灭"and j["GCD"]<=j["ShiFaSuDu"]then if j["WR_ColorFrame_Show"]("CN6","停止施法")then return g end end;return f end;j["WR_DemonHunterVengeance_QJ_Unit"]=function(q)if j["UnitCanAttack"]("player",q)and j["C_Spell"]["IsSpellInRange"]("瓦解",q)and j["WR_GetCastInterruptible"](q,j["InterruptTime"],j["WR_DemonHunterVengeance_QJ_Unit_Important"])then if q=="target"then if j["WR_ColorFrame_Show"]("CSF5","瓦解T")then return g end elseif q=="mouseover"then if j["WR_ColorFrame_Show"]("CSF6","瓦解M")then return g end elseif q=="focus"then if j["WR_ColorFrame_Show"]("CSF7","瓦解F")then return g end elseif q=="party1target"then if j["WR_ColorFrame_Show"]("CSF1","瓦解P1T")then return g end elseif q=="party2target"then if j["WR_ColorFrame_Show"]("CSF2","瓦解P2T")then return g end elseif q=="party3target"then if j["WR_ColorFrame_Show"]("CSF3","瓦解P3T")then return g end elseif q=="party4target"then if j["WR_ColorFrame_Show"]("CSF4","瓦解P4T")then return g end end end;return f end;j["WR_DemonHunterVengeance_QJ"]=function()if not j["WR_SpellUsable"]("瓦解")then return f end;j["InterruptTime"]=(j["WRSet"]["FC_DDMS"]-l("1"))/l("10")if j["WRSet"]["FC_WJ"]<=l("4")then j["WR_DemonHunterVengeance_QJ_Unit_Important"]=f else j["WR_DemonHunterVengeance_QJ_Unit_Important"]=g end;if j["WRSet"]["FC_WJ"]==l("9")then return f elseif j["WRSet"]["FC_WJ"]==l("1")or j["WRSet"]["FC_WJ"]==l("5")or(j["WRSet"]["FC_WJ"]==l("4")or j["WRSet"]["FC_WJ"]==l("8"))and(not j["UnitExists"]("focus")or j["UnitIsDead"]("focus")or not j["UnitCanAttack"]("player","focus"))then if j["WR_DemonHunterVengeance_QJ_Unit"]("focus")then return g end;if j["WR_DemonHunterVengeance_QJ_Unit"]("target")then return g end;if j["WR_DemonHunterVengeance_QJ_Unit"]("mouseover")then return g end;for n=l("1"),l("4"),l("1")do if j["WR_DemonHunterVengeance_QJ_Unit"]("party"..n.."target")then return g end end elseif j["WRSet"]["FC_WJ"]==l("2")or j["WRSet"]["FC_WJ"]==l("6")then if j["WR_DemonHunterVengeance_QJ_Unit"]("target")then return g end elseif j["WRSet"]["FC_WJ"]==l("3")or j["WRSet"]["FC_WJ"]==l("7")then if j["WR_DemonHunterVengeance_QJ_Unit"]("mouseover")then return g end elseif j["WRSet"]["FC_WJ"]==l("4")or j["WRSet"]["FC_WJ"]==l("8")then if j["WR_DemonHunterVengeance_QJ_Unit"]("focus")then return g end end;return f end;j["WR_DemonHunterVengeance_PL"]=function(r)if j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("破裂")then if r==h and j["PlayerFury"]<l("95")then if j["WR_ColorFrame_Show"]("CF7","破裂")then return g end end;if r=="撕裂猛击"and j["BuffTime_SLMJ"]>j["GCD"]then if j["WR_ColorFrame_Show"]("CF7","撕裂猛击")then return g end end end;return f end;j["WR_DemonHunterVengeance_XNZL"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["PlayerFury"]<l("80")and not j["PlayerMove"]and j["WR_SpellUsable"]("邪能之刃")and j["BindTime"]==l("0")then if j["WR_ColorFrame_Show"]("CN7","邪能之刃")then return g end end;return f end;j["WR_DemonHunterVengeance_EMZJ"]=function()if j["WRSet"]["FC_EMZJ"]and j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and not j["PlayerMove"]and j["WR_SpellUsable"]("恶魔追击")and not j["IsSpellOverlayed"](l("442294"))and j["PlayerHP"]>l("0.8")and j["BindTime"]==l("0")then if j["WR_DemonHunterDemonology_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CF4","恶魔追击")then return g end end;return f end;j["WR_DemonHunterVengeance_LHLP"]=function(r)if j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("灵魂裂劈")then if r==h and(j["PlayerFury"]>l("95")or j["PlayerFury"]>l("75")and j["WR_GetGCD"]("邪能之刃")<j["GCD"]+j["MaxGCD"]*l("2"))then if j["WR_ColorFrame_Show"]("CF8","灵魂裂劈")then return g end end;if r=="战刃乱舞"and j["BuffTime_ZRLW"]>j["GCD"]then if j["WR_ColorFrame_Show"]("CF8","战刃乱舞")then return g end end end;return f end;j["WR_DemonHunterVengeance_YHZD"]=function(r)if j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("幽魂炸弹")and j["C_Spell"]["GetSpellCastCount"]("幽魂炸弹")>=l("5")then if r==h then if j["WR_ColorFrame_Show"]("CN9","幽魂炸弹")then return g end end;if r=="满魂"and j["C_Spell"]["GetSpellCastCount"]("幽魂炸弹")>=l("12")then if j["WR_ColorFrame_Show"]("CN9","满魂炸弹")then return g end end end;return f end;j["WR_DemonHunterVengeance_LHLY"]=function(r)if j["WRSet"]["FC_LHLY"]and j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("烈火烙印")and not j["HoldSpell"]then if r==h and j["zhandoumoshi"]==l("1")and not j["QZJS_Boss"]then if j["WR_DemonHunterDemonology_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CF9","烈火烙印")then return g end end;if r=="前置"and j["QZJS_Time"]then if j["WR_ColorFrame_Show"]("CF9","前置烙印")then return g end end end;return f end;j["WR_DemonHunterVengeance_LHFZ"]=function()if j["WRSet"]["FC_LYZF"]and j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and not j["PlayerMove"]and j["WR_SpellUsable"]("烈焰咒符")and not j["HoldSpell"]and(j["CastTime_LYZF"]==h or j["GetTime"]()-j["CastTime_LYZF"]>l("6"))then if j["WR_ColorFrame_Show"]("CF1","烈焰咒符")then return g end end;return f end;j["WR_DemonHunterVengeance_YNZF"]=function()if j["WRSet"]["FC_YNZF"]and j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("怨念咒符")and not j["HoldSpell"]then if j["WR_DemonHunterDemonology_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CF5","怨念咒符")then return g end end;return f end;j["WR_DemonHunterVengeance_XJGH"]=function()if j["GCD"]<=j["ShiFaSuDu"]and(j["TargetRange"]<=l("8")or j["RangeHarmUnitCount5"]>=l("1"))and j["WR_SpellUsable"]("献祭光环")then if j["WR_ColorFrame_Show"]("CF10","献祭光环")then return g end end;return f end;j["WR_DemonHunterVengeance_XNHM"]=function(r)if j["WRSet"]["FC_XNHM"]and j["zhandoumoshi"]==l("1")and j["GCD"]<=j["ShiFaSuDu"]and j["TargetIsNearby"]and j["WR_SpellUsable"]("邪能毁灭")and not j["HoldSpell"]then if r==h and not j["PlayerMove"]and not j["QZJS_Boss"]then if j["WR_DemonHunterDemonology_SP"]("爆发")then return g end;if j["WR_ColorFrame_Show"]("CF11","邪能毁灭")then return g end end;if r=="前置"and j["QZJS_Time"]then if j["WR_ColorFrame_Show"]("CF11","前置大喷")then return g end end;if r=="血量阈值"and j["WRSet"]["FC_DPYZ"]~=l("10")and j["PlayerHP"]<=j["WRSet"]["FC_DPYZ"]/l("10")then if j["WR_ColorFrame_Show"]("CF11","前置大喷")then return g end end end;return f end;j["WR_WarriorProtection_EMBX"]=function()if j["WRSet"]["FC_EMBX"]~=l("6")and j["UnitAffectingCombat"]("player")and j["PlayerHP"]<=j["WRSet"]["FC_EMBX"]/l("10")and j["WR_SpellUsable"]("恶魔变形")then if j["WR_ColorFrame_Show"]("CF3","恶魔变形")then return g end end;return f end;j["WR_DemonHunterDemonology_SP"]=function(r)if r=="保命"then if j["WRSet"]["FC_SP1"]>=l("3")then if j["WR_ShiPin"](l("1"),j["WRSet"]["FC_SP1"])then return g end end;if j["WRSet"]["FC_SP2"]>=l("3")then if j["WR_ShiPin"](l("2"),j["WRSet"]["FC_SP2"])then return g end end elseif r=="常驻"then if j["WRSet"]["FC_SP1"]==l("1")then if j["WR_ShiPin"](l("1"),j["WRSet"]["FC_SP1"])then return g end end;if j["WRSet"]["FC_SP2"]==l("1")then if j["WR_ShiPin"](l("2"),j["WRSet"]["FC_SP2"])then return g end end elseif r=="爆发"then if j["WRSet"]["FC_SP1"]==l("2")then if j["WR_ShiPin"](l("1"),j["WRSet"]["FC_SP1"])then return g end end;if j["WRSet"]["FC_SP2"]==l("2")then if j["WR_ShiPin"](l("2"),j["WRSet"]["FC_SP2"])then return g end end end;return f end;j["WR_DemonHunterVengeance_TZLR"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("投掷利刃")and j["C_Spell"]["IsSpellInRange"]("投掷利刃","target")and not j["IsSpellOverlayed"](l("442294"))and j["TargetRange"]>=l("8")then if j["WR_ColorFrame_Show"]("CN8","投掷利刃")then return g end end;return f end;j["WR_DemonHunterVengeance_SGZZR"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WR_SpellUsable"]("收割者战刃")and j["C_Spell"]["IsSpellInRange"]("收割者战刃","target")and j["IsSpellOverlayed"](l("442294"))and j["BuffTime_SLMJ"]<=j["GCD"]and j["BuffTime_ZRLW"]<=j["GCD"]and j["BuffTime_HZRX"]<=j["GCD"]+j["MaxGCD"]*l("3")and not j["HoldSpell"]and(j["WRSet"]["FC_SGZR"]==l("1")or j["WRSet"]["FC_SGZR"]==l("2")and j["zhandoumoshi"]==l("1"))then if j["WR_ColorFrame_Show"]("CN8","收割者")then return g end end;return f end;j["WR_DemonHunterVengeance_HLXX"]=function()if j["GCD"]<=j["ShiFaSuDu"]and j["WRSet"]["FC_HLXX"]and j["WR_SpellUsable"]("混乱新星")and j["WR_StunUnit"](l("8"),l("2"))then if j["WR_ColorFrame_Show"]("CN0","混乱新星")then return g end end;return f end;j["WR_DemonHunterVengeance_LastSpellTime"]=function()if j["DemonHunterVengeanceLastSpellIsOpen"]then return g end;local s=j["CreateFrame"]("Frame")s["RegisterEvent"](s,"COMBAT_LOG_EVENT_UNFILTERED")s["SetScript"](s,"OnEvent",function()if j["select"](l("4"),j["CombatLogGetCurrentEventInfo"]())==j["UnitGUID"]("player")then if j["select"](l("2"),j["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local t=j["select"](l("13"),j["CombatLogGetCurrentEventInfo"]())if t=="烈焰咒符"then j["CastTime_LYZF"]=j["GetTime"]()end end end end)j["DemonHunterVengeanceLastSpellIsOpen"]=g end end)()