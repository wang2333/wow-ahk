local a=35;local b=39;local c=86;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_PaladinFunction"]=function()h["PaladinTalent"]=h["WR_Paladin_GetTalent"]()if h["PaladinTalent"]==f then h["PaladinTalent"]="惩戒"end;h["ShiFaSuDu"]=j("0.3")h["WR_Initialize"]()h["GCD"]=h["WR_GetGCD"]("圣光术")h["PlayerMove"]=h["WR_PlayerMove"]()h["TargetRange"]=h["WR_GetUnitRange"]("target")h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["RiadOrParty"]=h["WR_GetInRiadOrParty"]()h["SGS_GLZL_PCT"]=j("1")if h["WRSet"]["SS_SGS"]~=f and h["WRSet"]["SS_SGS"]~=j("19")then if h["WRSet"]["SS_SGS"]<=j("9")then h["SGS_GLZL_PCT"]=j("1")-h["WRSet"]["SS_SGS"]/j("10")else h["SGS_GLZL_PCT"]=j("1")-(j("0.9")+(h["WRSet"]["SS_SGS"]-j("9"))/j("100"))end end;h["SGSX_GLZL_PCT"]=j("1")if h["WRSet"]["SS_SGSX"]~=f and h["WRSet"]["SS_SGSX"]~=j("19")then if h["WRSet"]["SS_SGSX"]<=j("9")then h["SGSX_GLZL_PCT"]=j("1")-h["WRSet"]["SS_SGSX"]/j("10")else h["SGSX_GLZL_PCT"]=j("1")-(j("0.9")+(h["WRSet"]["SS_SGSX"]-j("9"))/j("100"))end end;local k=j("1")local l=j("1")if h["WR_SpellUsable"]("圣光术")then if h["WR_GetUnitBuffInfo"]("player","复仇之怒")>h["WR_GetTrueCastTime"]("圣光术")+j("0.1")then k=j("1.2")end;if h["WR_GetUnitBuffInfo"]("player","神恩术")~=j("0")then k=k*j("1.5")end end;if h["WR_SpellUsable"]("圣光闪现")then if h["WR_GetUnitBuffInfo"]("player","复仇之怒")>h["WR_GetTrueCastTime"]("圣光闪现")+j("0.1")then l=j("1.2")end;if h["WR_GetUnitBuffInfo"]("player","神恩术")~=j("0")then l=l*j("1.5")end end;local m=h["GetSpellBonusHealing"]()local n=j("1")+h["GetTalentPointsBySpellID"]("治疗之光")*j("0.04")h["SpellValue_SGS"]=(h["WR_GetSpellValue"]("圣光术","到","点")+m*j("1.666"))*n*k*h["SGS_GLZL_PCT"]h["SpellValue_SGS_Min"]=(h["WR_GetSpellValue"]("圣光术","恢复","到")+m*j("1.666"))*n*k*h["SGS_GLZL_PCT"]h["SpellValue_SGS_Avg"]=(h["SpellValue_SGS"]+h["SpellValue_SGS_Min"])/j("2")h["SpellValue_SGSX"]=(h["WR_GetSpellValue"]("圣光闪现","到","点")+m)*n*l*h["SGSX_GLZL_PCT"]h["SpellValue_SGSX_Min"]=(h["WR_GetSpellValue"]("圣光闪现","恢复","到")+m)*n*l*h["SGSX_GLZL_PCT"]if h["WR_GetUnitBuffInfo"]("player","治疗入定")>h["WR_GetTrueCastTime"]("圣光术")+j("0.1")then h["SpellValue_SGS"]=h["SpellValue_SGSX"]h["SpellValue_SGS_Min"]=h["SpellValue_SGSX_Min"]h["SpellValue_SGS_Avg"]=(h["SpellValue_SGS"]+h["SpellValue_SGS_Min"])/j("2")end;local o,p,q,r,s,t,u,v,w=h["UnitCastingInfo"]("player")if s~=f then h["CastingRemainingTime"]=s/j("1000")-h["GetTime"]()else h["CastingRemainingTime"]=f end;h["StopCastingTime"]=j("0.5")h["PlayerMP"]=j("1")if h["UnitPowerMax"]("player",h["Enum"]["PowerType"]["Mana"])~=j("0")then h["PlayerMP"]=h["UnitPower"]("player",h["Enum"]["PowerType"]["Mana"])/h["UnitPowerMax"]("player",h["Enum"]["PowerType"]["Mana"])end;h["PlayerHP"]=j("1")h["PlayerLostHealth"]=j("0")if h["UnitHealthMax"]("player")~=j("0")then h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")h["PlayerLostHealth"]=h["UnitHealthMax"]("player")-h["UnitHealth"]("player")if h["WR_GetUnitDebuffInfo"]("player","血肉成灰")~=j("0")then if h["PlayerHP"]>j("0.5")then h["PlayerHP"]=j("0.5")end;if h["PlayerLostHealth"]<h["UnitHealthMax"]("player")/j("2")then h["PlayerLostHealth"]=h["UnitHealthMax"]("player")/j("2")end end end;h["FocusRange"]=h["WR_GetUnitRange"]("focus")h["FocusHP"]=j("1")h["FocusLostHealth"]=j("0")if h["UnitExists"]("focus")then h["FocusHP"]=h["UnitHealth"]("focus")/h["UnitHealthMax"]("focus")h["FocusLostHealth"]=h["UnitHealthMax"]("focus")-h["UnitHealth"]("focus")if h["WR_GetUnitDebuffInfo"]("focus","血肉成灰")~=j("0")then if h["FocusHP"]>j("0.5")then h["FocusHP"]=j("0.5")end;if h["FocusLostHealth"]<h["UnitHealthMax"]("focus")/j("2")then h["FocusLostHealth"]=h["UnitHealthMax"]("focus")/j("2")end end end;h["TargetHP"]=j("1")if h["UnitExists"]("target")then h["TargetHP"]=h["UnitHealth"]("target")/h["UnitHealthMax"]("target")if h["WR_GetUnitDebuffInfo"]("target","血肉成灰")~=j("0")then if h["TargetHP"]>j("0.5")then h["TargetHP"]=j("0.5")end end end;if h["PaladinTalent"]=="神圣"then h["WR_TankUnit"]=h["WR_PaladinHoly_FindTank"]()or h["WR_TankUnit"]h["TankUnit"]={}h["TankUnit"][j("1")],h["TankUnit"][j("2")],h["TankUnit"][j("3")],h["TankUnit"][j("4")]=h["WR_PaladinHoly_FindTank_SGDB_SJHD"]()h["SGDB_LostHealth"]=j("0")h["SGDB_TankeHP"]=j("1")if h["WR_GetUnitBuffInfo"]("player","圣光道标",e)>j("3")then h["SGDB_LostHealth"]=h["UnitHealthMax"]("player")-h["UnitHealth"]("player")h["SGDB_TankeHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")else local x;if h["RiadOrParty"]=="raid"then x=j("25")else x=j("4")end;for y=j("1"),x,j("1")do local z=h["RiadOrParty"]..y;if not h["UnitIsDeadOrGhost"](z)and h["WR_GetUnitRange"](z)<=j("60")and h["WR_GetUnitBuffInfo"](z,"圣光道标",e)>j("3")then h["SGDB_LostHealth"]=h["UnitHealthMax"](z)-h["UnitHealth"](z)h["SGDB_TankeHP"]=h["UnitHealth"](z)/h["UnitHealthMax"](z)end end end;if h["SGDB_TankeHP"]<h["FocusHP"]then h["FocusHP"]=h["SGDB_TankeHP"]end;if h["SGDB_LostHealth"]>h["FocusLostHealth"]then h["FocusLostHealth"]=h["SGDB_LostHealth"]end end;h["KillTarget"]=d;for A,B in h["pairs"](h["InCombatName"])do if h["UnitName"]("target")==B then h["KillTarget"]=e end end;if h["RiadOrParty"]=="raid"then h["SS_SJHD_Dropdown"]["SetScript"](h["SS_SJHD_Dropdown"],"OnEnter",function(C)h["GameTooltip"]["SetOwner"](h["GameTooltip"],C,"ANCHOR_RIGHT")h["GameTooltip"]["SetText"](h["GameTooltip"],"选择圣洁护盾的|cff996b1f坦克|r。\n注：当队伍中有|cff996b1f坦克|r的时候，选项才会显示(|cff00ADF0请让团长设置职责|r)。\n注：当队伍|cff996b1f坦克|r变动，选项也会变动，请注意及时调整。\n|cff00adf0自己：护盾保持在自己身上。\n|cffadff2f刷新：自己手动上一次护盾给他人，当护盾时间即将结束，会自动刷新他身上的护盾。")h["GameTooltip"]["Show"](h["GameTooltip"])end)else h["SS_SJHD_Dropdown"]["SetScript"](h["SS_SJHD_Dropdown"],"OnEnter",function(C)h["GameTooltip"]["SetOwner"](h["GameTooltip"],C,"ANCHOR_RIGHT")h["GameTooltip"]["SetText"](h["GameTooltip"],"当不在|cff00ADF0团队|r中时候，圣洁护盾将维持在自己身上。")h["GameTooltip"]["Show"](h["GameTooltip"])end)end;h["FC_FS_ShengYin"]="腐蚀圣印"if h["UnitFactionGroup"]("player")=="Alliance"then h["FC_FS_ShengYin"]="复仇圣印"end;if h["WR_PaladinFunction_Holy"]()then return e end;if h["WR_PaladinFunction_Retribution"]()then return e end;if h["WR_PaladinFunction_Protection"]()then return e end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_PaladinFunction_Holy"]=function()if h["PaladinTalent"]=="神圣"then h["WR_Paladin_SPELL_CAST_SUCCESS"]()h["WR_Paladin_ErrorMessage"]()if h["WR_FirstFunction"]()then return e end;if h["WR_Paladin_Stopcasting"]()then return e end;if h["WR_Paladin_Function_JS"]()then return e end;if h["WR_Paladin_Function_GJ"]()then return e end;if h["WR_PaladinHoly_Function_StopFollow"]()then return e end;if h["WR_FocusHealthMaxWeightUnit"]()then return e end;if h["GCD"]>h["ShiFaSuDu"]or h["UnitCastingInfo"]("player")~=f or h["Paladin_CastTime"]~=f and h["GetTime"]()-h["Paladin_CastTime"]<j("0.1")then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return e end;if h["WR_Paladin_SDS"]()then return e end;if h["WR_PaladinFunction_SLS"]()then return e end;if h["FocusHP"]>j("0.2")and h["WRSet"]["SS_QS"]==j("2")then if h["WR_Paladin_Function_QS"](e)then return e end end;if h["WR_PaladinFunction_BHZS"]()then return e end;if h["WR_PaladinFunction_XSZS"]()then return e end;if h["WR_PaladinHoly_BF"]()then return e end;if h["WR_Paladin_SSZJ_Health"]()then return e end;if h["FocusHP"]>j("0.7")or not h["UnitAffectingCombat"]("player")or h["PlayerMove"]then if h["WR_PaladinHoly_Function_SGDB"]()then return e end end;if h["GetTalentPointsBySpellID"]("纯洁审判")>j("0")and h["WR_GetUnitBuffInfo"]("player","纯洁审判")<=j("10")and(h["FocusHP"]>j("0.7")or h["PlayerMove"])then if h["TargetInCombat"]then if h["WR_Paladin_Function_SP"]("target")then return e end else if h["WR_Paladin_Function_SP"]("focustarget")then return e end end end;if h["WR_PaladinHoly_SGS"]()then return e end;if h["FocusHP"]>j("0.7")or not h["UnitAffectingCombat"]("player")or h["PlayerMove"]then if h["WR_PaladinHoly_Function_SJHD"]()then return e end end;if h["GetTalentPointsBySpellID"]("纯洁审判")>j("0")and h["WR_GetUnitBuffInfo"]("player","纯洁审判")<=j("10")then if h["TargetInCombat"]then if h["WR_Paladin_Function_SP"]("target")then return e end else if h["WR_Paladin_Function_SP"]("focustarget")then return e end end end;if h["WR_PaladinHoly_SSKQ"]()then return e end;if h["WR_Paladin_Function_ZCZC"]()then return e end;if h["WR_Paladin_Function_ZYZF"]()then return e end;if h["WR_PaladinHoly_SGSX"]()then return e end;if h["WR_PaladinHoly_Function_SGDB"]()then return e end;if h["WR_PaladinHoly_Function_SJHD"]()then return e end;if h["WR_Paladin_Function_QS"](d)then return e end;if h["WR_PaladinHoly_Function_FollowUnit"]()then return e end;if h["WR_Paladin_Function_GH"]()then return e end;if h["WR_Paladin_Function_ZF"]()then return e end;if h["WR_Paladin_Function_SY"]()then return e end;if h["WR_Paladin_Function_SP"]("target")then return e end;if h["WR_PaladinHoly_Function_ZYDJ"]()then return e end;if h["WR_PaladinHoly_Function_HWGJ"]()then return e end end;return d end;h["WR_PaladinFunction_Retribution"]=function()if h["PaladinTalent"]=="惩戒"then if h["WR_FirstFunction"]()then return e end;if h["WR_Paladin_Stopcasting"]()then return e end;if h["WR_Paladin_Function_JS"]()then return e end;if h["WR_Paladin_Function_GJ"]()then return e end;if h["GCD"]>h["ShiFaSuDu"]and h["UnitCastingInfo"]("player")==f then if h["WR_Paladin_Function_QSZS"]()then return e end end;if h["GCD"]>h["ShiFaSuDu"]or h["UnitCastingInfo"]("player")~=f then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return e end;if h["WR_Paladin_SDS"]()then return e end;if h["WR_PaladinFunction_SLS"]()then return e end;if h["WRSet"]["CJ_QS"]==j("2")then if h["WR_Paladin_Function_QS"](e)then return e end end;if h["WR_PaladinFunction_BHZS"]()then return e end;if h["WR_Paladin_Function_ZCZC"]()then return e end;if h["WR_PaladinRetributionProtection_SGS"]()then return e end;if h["WR_PaladinRetribution_SGSX"]()then return e end;if h["WR_Paladin_Function_GH"]()then return e end;if h["WR_Paladin_Function_ZF"]()then return e end;if h["WR_Paladin_Function_SY"]()then return e end;if h["WR_Paladin_Function_QSZS"]()then return e end;if h["WR_PaladinRetributionProtection_ST"]()then return e end;if h["WR_PaladinRetributionProtection_FCZN"]()then return e end;if h["WR_GetRangeHarmUnitCount"](j("5"))>=j("2")then if h["WR_Paladin_Function_SSFB"]()then return e end;if h["WR_Paladin_Function_FX"]()then return e end end;if h["WR_Paladin_Function_SZJDJ"]()then return e end;if h["WR_Paladin_Function_SP"]("target")then return e end;if h["WR_Paladin_Function_FNZC"]()then return e end;if h["WR_GetUnitBuffInfo"]("player","战争艺术")>j("0")then if h["WR_Paladin_Function_QXS"]()then return e end end;if h["WR_Paladin_Function_SSFN"]()then return e end;if h["WR_Paladin_Function_SSFB"]()then return e end;if h["WR_Paladin_Function_FX"]()then return e end;if h["WR_Paladin_Function_SSKQ"]()then return e end;if h["WR_Paladin_GZWL"]()then return e end;if h["WR_Paladin_Function_QS"](d)then return e end end;return d end;h["WR_PaladinFunction_Protection"]=function()if h["PaladinTalent"]=="防护"then if h["WR_FirstFunction"]()then return e end;if h["WR_Paladin_Stopcasting"]()then return e end;if h["WR_Paladin_Function_JS"]()then return e end;if h["WR_Paladin_Function_GJ"]()then return e end;if h["GCD"]>h["ShiFaSuDu"]or h["UnitCastingInfo"]("player")~=f then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return e end;if h["WR_Paladin_SDS"]()then return e end;if h["WR_PaladinFunction_SLS"]()then return e end;if h["WR_PaladinProtection_SYS"]()then return e end;if h["WRSet"]["FH_QS"]==j("2")then if h["WR_Paladin_Function_QS"](e)then return e end end;if h["WR_PaladinProtection_ZJZS"]()then return e end;if h["WR_PaladinFunction_BHZS"]()then return e end;if h["WR_PaladinFunction_XSZS"]()then return e end;if h["WR_PaladinProtection_Function_ZYZN"]()then return e end;if h["WR_PaladinProtection_Function_ZYFY"]()then return e end;if h["WR_Paladin_Function_ZCZC"]()then return e end;if h["WR_PaladinRetributionProtection_SGS"]()then return e end;if h["WR_Paladin_Function_GH"]()then return e end;if h["WR_PaladinProtection_Function_ZF"]()then return e end;if h["WR_Paladin_Function_SY"]()then return e end;if h["WR_PaladinRetributionProtection_FCZN"]()then return e end;if h["WR_PaladinRetributionProtection_ST"]()then return e end;if h["WR_PaladinProtection_Function_SSZD"]()then return e end;if h["WR_PaladinProtection_Function_SJHD"]()then return e end;if h["WR_Paladin_Function_FNZC"]()then return e end;if h["WRSet"]["FH_FD"]==j("1")or h["WRSet"]["FH_FD"]==j("2")and h["zhandoumoshi"]~=j("1")or h["WRSet"]["FH_FD"]==j("3")and h["zhandoumoshi"]==j("1")then if h["WR_PaladinProtection_Function_FCZZD"]()then return e end end;if h["WRSet"]["FH_ZYZC"]==j("1")or h["WRSet"]["FH_ZYZC"]==j("2")and h["zhandoumoshi"]~=j("1")or h["WRSet"]["FH_ZYZC"]==j("3")and h["zhandoumoshi"]==j("1")then if h["WR_PaladinProtection_Function_ZYZC"]()then return e end end;if h["WR_Paladin_Function_SP"]("target")then return e end;if h["WRSet"]["FH_FX"]==j("1")or h["WRSet"]["FH_FX"]==j("2")and h["zhandoumoshi"]~=j("1")or h["WRSet"]["FH_FX"]==j("3")and h["zhandoumoshi"]==j("1")then if h["WR_Paladin_Function_FX"]()then return e end end;if h["WR_PaladinProtection_Function_ZYDJ"]()then return e end;if h["WR_PaladinProtection_SSKQ"]()then return e end;if h["WR_GetRangeHarmUnitCount"](j("5"))>=j("2")then if h["WR_Paladin_Function_SSFN"]()then return e end end;if h["WR_Paladin_Function_FNZC"]()then return e end;if h["WR_Paladin_GZWL"]()then return e end;if h["WRSet"]["CJ_QS"]==j("1")then if h["WR_Paladin_Function_QS"](d)then return e end end end;return d end;h["WR_Paladin_Stopcasting"]=function()if h["WRSet"]["SS_DDSF"]==j("2")then return d end;if h["WR_GetUnitBuffTime"]("player","流星灵感")>h["GCD"]then return d end;if h["WR_GetUnitBuffTime"]("player","圣光之赐")>h["GCD"]then return d end;if h["WR_GetUnitBuffTime"]("player","远古王者的祝福")>h["GCD"]then return d end;if h["UnitCastingInfo"]("player")=="圣光术"and h["CastingRemainingTime"]<=h["StopCastingTime"]and(h["FocusLostHealth"]<h["SpellValue_SGS_Min"]or h["WR_GetUnitDebuffInfo"]("player","死灵光环")>=h["CastingRemainingTime"])or h["UnitCastingInfo"]("player")=="圣光闪现"and h["CastingRemainingTime"]<=h["StopCastingTime"]and(h["FocusLostHealth"]<h["SpellValue_SGSX_Min"]or h["WR_GetUnitDebuffInfo"]("player","死灵光环")>=h["CastingRemainingTime"])or h["UnitCastingInfo"]("player")=="救赎"and not h["UnitIsDeadOrGhost"]("focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN0","停止施法",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_SDS"]=function()if h["PaladinTalent"]=="神圣"and(h["WRSet"]["SS_SDS"]==j("4")or h["PlayerHP"]>h["WRSet"]["SS_SDS"]/j("10"))then return d end;if h["PaladinTalent"]=="惩戒"and(h["WRSet"]["CJ_SDS"]==j("4")or h["PlayerHP"]>h["WRSet"]["CJ_SDS"]/j("10"))then return d end;if h["PaladinTalent"]=="防护"and(h["WRSet"]["FH_SDS"]==j("4")or h["PlayerHP"]>h["WRSet"]["FH_SDS"]/j("10"))then return d end;if h["WR_SpellUsable"]("圣盾术")and not h["UnitIsDeadOrGhost"]("player")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitDebuffInfo"]("player","自律")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF5","圣盾术",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_SYS"]=function()if h["WRSet"]["FH_SYS"]~=j("6")and h["PlayerHP"]<=h["WRSet"]["FH_SYS"]/j("10")and h["WR_SpellUsable"]("圣佑术")and not h["UnitIsDeadOrGhost"]("player")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitDebuffInfo"]("player","自律")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF6","圣佑术",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_ZJZS"]=function()if h["WRSet"]["FH_ZJZS"]~=j("6")and h["PlayerHP"]<=h["WRSet"]["FH_ZJZS"]/j("10")and h["WR_SpellUsable"]("拯救之手")and not h["UnitIsDeadOrGhost"]("player")and h["UnitAffectingCombat"]("player")and h["WR_IsUsingGlyph"]("拯救雕文")and h["WR_GetUnitBuffInfo"]("player","圣盾术")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF5","拯救之手",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_BF"]=function()if h["zhandoumoshi"]==j("1")and h["UnitAffectingCombat"]("player")then if h["WR_SpellUsable"]("神启")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF8","神启",h["zhandoumoshi"])return e end;if h["WR_GetEquipCD"](j("10"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF12","手套",h["zhandoumoshi"])return e end;if h["WR_GetEquipCD"](j("13"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CST","饰品1",h["zhandoumoshi"])return e end;if h["WR_GetEquipCD"](j("14"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSF","饰品2",h["zhandoumoshi"])return e end end end;h["WR_Paladin_SLS"]=function(D,E)if not h["UnitIsDeadOrGhost"](D)and not h["UnitCanAttack"](D,"player")and h["UnitAffectingCombat"](D)and h["WR_GetUnitDebuffInfo"](D,"自律",e)==j("0")and h["WR_GetUnitRange"](D)<=j("40")and h["UnitHealth"](D)/h["UnitHealthMax"](D)<=E then if h["WR_GetUnitDebuffTime"](D,j("66013"))==j("0")and h["WR_GetUnitDebuffTime"](D,"吸血虫群")~=j("0")then return d end;if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF10","圣疗"..D,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"圣疗术")then return e end end;return d end;h["WR_PaladinFunction_SLS"]=function()if not h["WR_SpellUsable"]("圣疗术")then return d end;if h["WR_GetUnitDebuffInfo"]("player","死灵光环")~=j("0")then return d end;local F;if h["PaladinTalent"]=="神圣"then F=h["WRSet"]["SS_SLS"]elseif h["PaladinTalent"]=="惩戒"then F=h["WRSet"]["CJ_SLS"]elseif h["PaladinTalent"]=="防护"then F=h["WRSet"]["FH_SLS"]end;local G;if h["RiadOrParty"]=="raid"then G=j("25")else G=j("4")end;if F==j("7")then return d end;if F<=j("3")then if h["WR_Paladin_SLS"]("player",F/j("10"))then return e end;for y=j("1"),G,j("1")do if h["WR_Paladin_SLS"](h["RiadOrParty"]..y,F/j("10"))then return e end end elseif F>=j("4")then if h["WR_Paladin_SLS"]("player",(F-j("3"))/j("10"))then return e end;for y=j("1"),G,j("1")do if h["WR_NumIsTank"](y)then if h["WR_Paladin_SLS"](h["RiadOrParty"]..y,(F-j("3"))/j("10"))then return e end end end end;return d end;h["WR_Paladin_BHZS"]=function(D,H)if not h["UnitIsDeadOrGhost"](D)and not h["UnitCanAttack"](D,"player")and h["UnitAffectingCombat"](D)and h["WR_GetUnitRange"](D)<=j("30")and h["WR_GetUnitBuffInfo"](D,"牺牲之手")==j("0")and h["WR_GetUnitBuffInfo"](D,"保护之手")==j("0")and h["WR_GetUnitDebuffInfo"](D,"自律")==j("0")and(h["UnitHealth"](D)/h["UnitHealthMax"](D)<=H or h["WR_GetUnitDebuffInfo"](D,j("64126"))>j("0"))then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF3","保护"..D,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"保护")then return e end end;return d end;h["WR_PaladinFunction_BHZS"]=function()if not h["WR_SpellUsable"]("保护之手")then return d end;if not h["UnitAffectingCombat"]("player")then return d end;local I;if h["PaladinTalent"]=="神圣"then I=h["WRSet"]["SS_BHZS"]elseif h["PaladinTalent"]=="惩戒"then I=h["WRSet"]["CJ_BHZS"]elseif h["PaladinTalent"]=="防护"then I=h["WRSet"]["FH_BHZS"]end;if I==f or I==j("6")then return d end;if h["RiadOrParty"]=="raid"then h["Temp_Sum"]=j("25")else h["Temp_Sum"]=j("4")end;for y=j("1"),h["Temp_Sum"],j("1")do if not h["WR_UnitIsTank"](h["RiadOrParty"]..y)and h["UnitClassBase"](h["RiadOrParty"]..y)~="PALADIN"then if h["WR_Paladin_BHZS"](h["RiadOrParty"]..y,I/j("10"))then return e end end end;return d end;h["WR_Paladin_XSZS"]=function(D,J)if not h["UnitIsDeadOrGhost"](D)and not h["UnitIsUnit"](D,"player")and not h["UnitCanAttack"](D,"player")and h["UnitAffectingCombat"](D)and h["WR_GetUnitRange"](D)<=j("30")and h["UnitHealth"](D)/h["UnitHealthMax"](D)<=J and h["WR_GetUnitBuffInfo"](D,"牺牲之手")==j("0")and h["WR_GetUnitBuffInfo"](D,"保护之手")==j("0")and h["WR_GetUnitBuffInfo"](D,"圣盾术")==j("0")then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF7","牺牲"..D,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"牺牲")then return e end end;return d end;h["WR_PaladinFunction_XSZS"]=function()if not h["WR_SpellUsable"]("牺牲之手")then return d end;if not h["UnitAffectingCombat"]("player")then return d end;local K;if h["PaladinTalent"]=="神圣"then K=h["WRSet"]["SS_XSZS"]elseif h["PaladinTalent"]=="惩戒"then K=h["WRSet"]["CJ_XSZS"]elseif h["PaladinTalent"]=="防护"then K=h["WRSet"]["FH_XSZS"]end;if K==f or K==j("6")then return d end;if h["RiadOrParty"]=="raid"then h["Temp_Sum"]=j("25")else h["Temp_Sum"]=j("4")end;for y=j("1"),h["Temp_Sum"],j("1")do if h["WR_Paladin_XSZS"](h["RiadOrParty"]..y,K/j("10"))then return e end end;return d end;h["WR_PaladinRetributionProtection_SLS"]=function()if h["PaladinTalent"]=="惩戒"and(h["WRSet"]["CJ_SDS"]==j("4")or h["PlayerHP"]>h["WRSet"]["CJ_SDS"]/j("10"))then return d end;if h["PaladinTalent"]=="防护"and(h["WRSet"]["FH_SDS"]==j("4")or h["PlayerHP"]>h["WRSet"]["FH_SDS"]/j("10"))then return d end;if h["WR_SpellUsable"]("圣疗术")and not h["UnitIsDeadOrGhost"]("player")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitDebuffInfo"]("player","自律",e)==j("0")and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")then if h["UnitIsUnit"]("player","focus")or not h["UnitExists"]("target")or h["UnitCanAttack"]("player","target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF10","圣疗术",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","圣疗术")then return e end end;return d end;h["WR_Paladin_SSZJ_Health"]=function()if h["WRSet"]["SS_SSZJ"]==j("4")then return d end;if h["WR_SpellUsable"]("神圣震击")and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")and h["FocusHP"]<=j("0.8")and(h["FocusHP"]<=j("0.4")or h["WRSet"]["SS_SSZJ"]==j("1")and h["PlayerMove"]or h["WRSet"]["SS_SSZJ"]==j("2"))then if h["WR_SpellUsable"]("神恩术")and h["UnitAffectingCombat"]("focus")and not h["UnitCanAttack"]("focus","player")and h["FocusHP"]<=j("0.2")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF4","神恩术",h["zhandoumoshi"])return e end;h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF2","神圣震击",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_SGS"]=function()if h["WRSet"]["SS_SGS"]==j("19")then return d end;if h["WR_SpellUsable"]("圣光术")and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("圣光术"))and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and h["UnitCastingInfo"]("player")==f and h["WR_GetUnitDebuffInfo"]("player","死灵光环")<h["WR_GetTrueCastTime"]("圣光术")and(h["WRSet"]["SS_SGS"]<=j("9")and h["FocusHP"]<h["WRSet"]["SS_SGS"]/j("10")or h["WRSet"]["SS_SGS"]>=j("10")and h["FocusHP"]<j("0.9")+(h["WRSet"]["SS_SGS"]-j("9"))/j("100")or h["WRSet"]["SS_ZLMS"]==j("3")and h["UnitIsUnit"]("focus","target"))then if h["FocusHP"]>j("0.3")and h["WR_SpellUsable"]("神恩术")and h["UnitAffectingCombat"]("focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF4","神恩术",h["zhandoumoshi"])return e end;h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSI","圣光术",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinRetributionProtection_SGS"]=function()if h["IsInInstance"]()then return d end;if h["WR_SpellUsable"]("圣光术")and h["PlayerHP"]<j("0.7")and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("圣光术"))and not h["UnitIsDeadOrGhost"]("player")and h["UnitCastingInfo"]("player")==f and h["WR_GetUnitDebuffInfo"]("player","死灵光环")<h["WR_GetTrueCastTime"]("圣光术")and(not h["UnitAffectingCombat"]("player")or h["PlayerHP"]<j("0.3"))then if h["UnitIsUnit"]("player","focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSI","圣光术",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","圣光术")then return e end end;return d end;h["WR_PaladinHoly_SGSX"]=function()if h["WRSet"]["SS_SGSX"]==j("19")then return d end;if h["WR_SpellUsable"]("圣光闪现")and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and(h["WRSet"]["SS_SGSX"]<=j("9")and h["FocusHP"]<h["WRSet"]["SS_SGSX"]/j("10")or h["WRSet"]["SS_SGSX"]>=j("10")and h["FocusHP"]<j("0.9")+(h["WRSet"]["SS_SGSX"]-j("9"))/j("100"))and h["UnitCastingInfo"]("player")==f and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")and(h["WR_GetUnitBuffInfo"]("player","战争艺术")>j("0")or h["WR_GetTrueCastTime"]("圣光闪现")==j("0")or not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("圣光闪现")))then if h["WR_GetUnitBuffInfo"]("player","治疗入定")>h["WR_GetTrueCastTime"]("圣光术")+j("0.1")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSI","圣光术",h["zhandoumoshi"])return e else h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSU","圣光闪现",h["zhandoumoshi"])return e end end;return d end;h["WR_PaladinRetribution_SGSX"]=function()if h["IsInInstance"]()then return d end;if h["WR_SpellUsable"]("圣光闪现")and not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("圣光闪现"))and not h["UnitIsDeadOrGhost"]("player")and h["PlayerLostHealth"]>h["SpellValue_SGSX"]and h["UnitCastingInfo"]("player")==f and not h["UnitAffectingCombat"]("player")and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")and h["UnitAffectingCombat"]("player")then if h["UnitIsUnit"]("player","focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSU","圣光闪现",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","圣光闪现")then return e end end;return d end;h["WR_PaladinHoly_SSKQ"]=function()if h["WR_SpellUsable"]("神圣恳求")and h["WRSet"]["SS_SSKQ"]~=j("10")and h["PlayerMP"]<=h["WRSet"]["SS_SSKQ"]/j("10")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF12","神圣恳求",h["zhandoumoshi"])return e end end;h["WR_PaladinProtection_SSKQ"]=function()if h["WR_SpellUsable"]("神圣恳求")and h["TargetRange"]<=j("3")and h["UnitAffectingCombat"]("player")and h["WR_GetUnitBuffInfo"]("player","神圣恳求")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF12","神圣恳求",h["zhandoumoshi"])return e end end;h["WR_PaladinRetributionProtection_ST"]=function()if h["WR_GetEquipCD"](j("10"))and h["TargetRange"]<=j("3")and h["UnitAffectingCombat"]("player")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF12","手套",h["zhandoumoshi"])return e end end;h["WR_PaladinRetributionProtection_FCZN"]=function()local L;if h["PaladinTalent"]=="惩戒"then L=h["WRSet"]["CJ_FCZN"]elseif h["PaladinTalent"]=="防护"then L=h["WRSet"]["FH_FCZN"]end;if h["WR_SpellUsable"]("复仇之怒")and h["TargetRange"]<=j("3")and h["UnitAffectingCombat"]("player")and(L==j("1")or L==j("2")and h["UnitLevel"]("target")<j("0")or L==j("3")and(h["WR_GetUnitBuffInfo"]("player","嗜血")>j("0")or h["WR_GetUnitBuffInfo"]("player","英勇")>j("0")))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF7","复仇之怒",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_Function_SGDB"]=function()if not h["WR_SpellUsable"]("圣光道标")then return d end;if h["WRSet"]["SS_SGDB"]<=j("4")and h["SS_SGDB_menuItems"][h["WRSet"]["SS_SGDB"]]["text"]~=g and h["TankUnit"][h["WRSet"]["SS_SGDB"]]~=f and not h["UnitIsDeadOrGhost"](h["TankUnit"][h["WRSet"]["SS_SGDB"]])and h["WR_GetUnitRange"](h["TankUnit"][h["WRSet"]["SS_SGDB"]])<=j("40")and h["WR_GetUnitBuffInfo"](h["TankUnit"][h["WRSet"]["SS_SGDB"]],"圣光道标",e)<j("3")then if h["UnitIsUnit"](h["TankUnit"][h["WRSet"]["SS_SGDB"]],"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSK","圣光道标",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](h["TankUnit"][h["WRSet"]["SS_SGDB"]],"道标")then return e end end;if h["WRSet"]["SS_SGDB"]==j("5")and h["WR_GetUnitBuffInfo"]("player","圣光道标",e)<j("3")then if h["UnitIsUnit"]("player","focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSK","圣光道标",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","道标")then return e end end;if h["WRSet"]["SS_SGDB"]==j("6")then local G;if h["RiadOrParty"]=="raid"then G=j("25")elseif h["RiadOrParty"]=="party"then G=j("4")end;if G==f then return d end;for y=j("1"),G do local M=h["RiadOrParty"]..y;if h["WR_GetUnitBuffInfo"](M,"圣光道标",e)>h["GCD"]and h["WR_GetUnitBuffInfo"](M,"圣光道标",e)<j("15")then if h["UnitIsUnit"](M,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSK","圣光道标",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](M,"道标")then return e end end end end end;h["WR_PaladinHoly_Function_SJHD"]=function()if not h["WR_SpellUsable"]("圣洁护盾")then return d end;if h["WRSet"]["SS_SJHD"]<=j("4")then if h["RiadOrParty"]=="raid"then if h["SS_SJHD_menuItems"][h["WRSet"]["SS_SJHD"]]["text"]~=g and h["TankUnit"][h["WRSet"]["SS_SJHD"]]~=f and not h["UnitIsDeadOrGhost"](h["TankUnit"][h["WRSet"]["SS_SJHD"]])and h["WR_GetUnitRange"](h["TankUnit"][h["WRSet"]["SS_SJHD"]])<=j("40")and h["WR_GetUnitBuffInfo"](h["TankUnit"][h["WRSet"]["SS_SJHD"]],j("53601"),e)==j("0")then if h["UnitIsUnit"](h["TankUnit"][h["WRSet"]["SS_SJHD"]],"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSM","圣洁护盾",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](h["TankUnit"][h["WRSet"]["SS_SJHD"]],"护盾")then return e end end elseif h["RiadOrParty"]=="party"and h["WR_GetUnitBuffInfo"]("player",j("53601"),e)==j("0")then if h["UnitIsUnit"]("player","focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSM","圣洁护盾",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","护盾")then return e end end end;if h["WRSet"]["SS_SJHD"]==j("5")and h["WR_GetUnitBuffInfo"]("player",j("53601"),e)<j("3")then if h["UnitIsUnit"]("player","focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSM","圣洁护盾",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","护盾")then return e end end;if h["WRSet"]["SS_SJHD"]==j("6")then local G;if h["RiadOrParty"]=="raid"then G=j("25")elseif h["RiadOrParty"]=="party"then G=j("4")end;if G==f then return d end;for y=j("1"),G do local M=h["RiadOrParty"]..y;if h["WR_GetUnitBuffInfo"](M,j("53601"),e)>h["GCD"]and h["WR_GetUnitBuffInfo"](M,j("53601"),e)<j("15")then if h["UnitIsUnit"](M,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSM","圣洁护盾",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](M,"护盾")then return e end end end end end;h["WR_PaladinProtection_Function_SJHD"]=function()if h["WRSet"]["FH_SJHD"]==j("2")then return d end;if not h["WR_SpellUsable"]("圣洁护盾")then return d end;if h["WR_SpellUsable"]("圣洁护盾")and h["WR_GetUnitBuffInfo"]("player",j("53601"))==j("0")then if h["UnitIsUnit"]("player","focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSM","圣洁护盾",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"]("player","护盾")then return e end end end;h["WR_PaladinHoly_CJS"]=function(D,N,O)if h["WR_SpellUsable"]("纯净术")and not h["UnitCanAttack"]("player",D)and h["WR_GetUnitRange"](D)<=j("40")and h["WR_CanRemoveUnitDebuff"](D)then if h["WR_CanRemoveUnitDangerDebuff"](D)then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF8",N,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"纯净术")then return e end end;if O~=e and h["WR_CanRemoveUnitDebuff"](D)then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF8",N,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"纯净术")then return e end end end;return d end;h["WR_PaladinHoly_QJS"]=function(D,N,O)if h["WR_SpellUsable"]("清洁术")and not h["UnitCanAttack"]("player",D)and h["WR_GetUnitRange"](D)<=j("40")then if h["WR_CanRemoveUnitDangerDebuff"](D)then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF3",N,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"清洁术")then return e end end;if O~=e and h["WR_CanRemoveUnitDebuff"](D)then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF3",N,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"清洁术")then return e end end end;return d end;h["WR_Paladin_Function_QS"]=function(O)if h["PaladinTalent"]=="神圣"and h["WRSet"]["SS_QS"]==j("3")then return d end;if h["PaladinTalent"]=="惩戒"and h["WRSet"]["CJ_QS"]==j("3")then return d end;if h["PaladinTalent"]=="防护"and h["WRSet"]["FH_QS"]==j("3")then return d end;if h["WR_PaladinHoly_QJS"]("player","清洁术P",O)then return e end;if not h["IsPlayerSpell"](j("4987"))and h["WR_PaladinHoly_CJS"]("player","纯净术P",O)then return e end;if h["PaladinTalent"]=="神圣"then if h["WR_PaladinHoly_QJS"]("mouseover","清洁术M",O)then return e end;if not h["IsPlayerSpell"](j("4987"))and h["WR_PaladinHoly_CJS"]("mouseover","纯净术M",O)then return e end;if h["WR_PaladinHoly_QJS"]("focus","清洁术F",O)then return e end;if not h["IsPlayerSpell"](j("4987"))and h["WR_PaladinHoly_CJS"]("focus","纯净术F",O)then return e end;if h["RiadOrParty"]=="raid"then for y=j("1"),j("25"),j("1")do local z="raid"..y;if h["WR_PaladinHoly_QJS"](z,"清洁术R"..y,O)then return e end;if not h["IsPlayerSpell"](j("4987"))and h["WR_PaladinHoly_CJS"](z,"纯净术R"..y,O)then return e end end elseif h["RiadOrParty"]=="party"then for y=j("1"),j("4"),j("1")do local z="party"..y;if h["WR_PaladinHoly_QJS"](z,"清洁术P"..y,O)then return e end;if not h["IsPlayerSpell"](j("4987"))and h["WR_PaladinHoly_CJS"](z,"纯净术P"..y,O)then return e end end end end;return d end;h["WR_Paladin_Function_GH"]=function()if h["WR_GetUnitBuffInfo"]("player","光环掌握")>j("0")then return d end;local P;if h["PaladinTalent"]=="神圣"then P=h["WRSet"]["SS_GH"]elseif h["PaladinTalent"]=="惩戒"then P=h["WRSet"]["CJ_GH"]elseif h["PaladinTalent"]=="防护"then P=h["WRSet"]["FH_GH"]end;if h["IsMounted"]()then if h["WR_SpellUsable"]("十字军光环")and h["WR_GetUnitBuffInfo"]("player","十字军光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN6","十字军光环",h["zhandoumoshi"])return e end else if P==j("1")and h["WR_SpellUsable"]("虔诚光环")and h["WR_GetUnitBuffInfo"]("player","虔诚光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN1","虔诚光环",h["zhandoumoshi"])return e elseif P==j("2")and h["WR_SpellUsable"]("惩戒光环")and h["WR_GetUnitBuffInfo"]("player","惩戒光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN2","惩戒光环",h["zhandoumoshi"])return e elseif P==j("3")and h["WR_SpellUsable"]("专注光环")and h["WR_GetUnitBuffInfo"]("player","专注光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN7","专注光环",h["zhandoumoshi"])return e elseif P==j("4")and h["WR_SpellUsable"]("暗影抗性光环")and h["WR_GetUnitBuffInfo"]("player","暗影抗性光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN5","暗影抗性光环",h["zhandoumoshi"])return e elseif P==j("5")and h["WR_SpellUsable"]("冰霜抗性光环")and h["WR_GetUnitBuffInfo"]("player","冰霜抗性光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN4","冰霜抗性光环",h["zhandoumoshi"])return e elseif P==j("6")and h["WR_SpellUsable"]("火焰抗性光环")and h["WR_GetUnitBuffInfo"]("player","火焰抗性光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN3","火焰抗性光环",h["zhandoumoshi"])return e elseif P==j("7")and h["WR_SpellUsable"]("十字军光环")and h["WR_GetUnitBuffInfo"]("player","十字军光环")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN6","十字军光环",h["zhandoumoshi"])return e end end;return d end;h["WR_PaladinHoly_Function_LLZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("力量祝福")and h["WR_GetUnitBuffInfo"](D,"力量祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"战斗怒吼")<=Q and h["WR_GetUnitBuffInfo"](D,"强效力量祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF1","力量祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"力祝")then return e end end;return d end;h["WR_PaladinHoly_Function_QXLLZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("强效力量祝福")and h["WR_GetUnitBuffInfo"](D,"力量祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"战斗怒吼")<=Q and h["WR_GetUnitBuffInfo"](D,"强效力量祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF5","强效力量祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"强力")then return e end end;return d end;h["WR_PaladinHoly_Function_ZHZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("智慧祝福")and h["WR_GetUnitBuffInfo"](D,"智慧祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"法力之泉")<=Q and h["WR_GetUnitBuffInfo"](D,"强效智慧祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF2","智慧祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"智祝")then return e end end;return d end;h["WR_PaladinHoly_Function_QXZHZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("强效智慧祝福")and h["WR_GetUnitBuffInfo"](D,"智慧祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"法力之泉")<=Q and h["WR_GetUnitBuffInfo"](D,"强效智慧祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF6","强效智慧祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"强智")then return e end end;return d end;h["WR_PaladinHoly_Function_WZZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("王者祝福")and h["WR_GetUnitBuffInfo"](D,"王者祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"强效王者祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF3","王者祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"王祝")then return e end end;return d end;h["WR_PaladinHoly_Function_QXWZZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("强效王者祝福")and h["WR_GetUnitBuffInfo"](D,"王者祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"强效王者祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF7","强效王者祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"强王")then return e end end;return d end;h["WR_PaladinHoly_Function_BHZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("庇护祝福")and h["WR_GetUnitBuffInfo"](D,"庇护祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"强效庇护祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF9","庇护祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"庇祝")then return e end end;return d end;h["WR_PaladinHoly_Function_QXBHZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_SpellUsable"]("强效庇护祝福")and h["WR_GetUnitBuffInfo"](D,"庇护祝福")<=Q and h["WR_GetUnitBuffInfo"](D,"强效庇护祝福")<=Q then if h["UnitIsUnit"]("focus",D)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACF10","强效庇护祝福",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"强庇")then return e end end;return d end;h["WR_PaladinHoly_UnitNotMyZF"]=function(D)local Q=j("300")if h["UnitAffectingCombat"]("player")then Q=j("0")end;if h["WR_GetUnitBuffInfo"](D,"力量祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"智慧祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"王者祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"庇护祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"强效力量祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"强效智慧祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"强效王者祝福",e)<=Q and h["WR_GetUnitBuffInfo"](D,"强效庇护祝福",e)<=Q then return e end;return d end;h["WR_Paladin_Function_ZF"]=function()local R;if h["PaladinTalent"]=="神圣"then R=h["WRSet"]["SS_ZF"]elseif h["PaladinTalent"]=="惩戒"then R=h["WRSet"]["CJ_ZF"]end;if R==j("9")then return d end;if h["RiadOrParty"]~="raid"then local z="player"if R==j("1")then if h["PaladinTalent"]=="神圣"then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end elseif h["PaladinTalent"]=="惩戒"then if h["WR_PaladinHoly_Function_LLZF"](z)then return e end end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end end elseif R==j("2")then if h["WR_PaladinHoly_Function_LLZF"](z)then return e end elseif R==j("3")then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end elseif R==j("4")then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end elseif R==j("5")then if h["PaladinTalent"]=="神圣"then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end elseif h["PaladinTalent"]=="惩戒"then if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end;if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end;if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end end elseif R==j("6")then if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end elseif R==j("7")then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end elseif R==j("8")then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end end end;if h["RiadOrParty"]=="single"then return d end;local x;if h["RiadOrParty"]=="raid"then x=j("25")else x=j("4")end;for y=j("1"),x,j("1")do local z=h["RiadOrParty"]..y;if h["UnitExists"](z)and not h["UnitCanAttack"](z,"player")and not h["UnitIsDeadOrGhost"](z)and h["WR_GetUnitRange"](z)<=j("30")then if R==j("1")then if h["UnitClassBase"](z)=="MAGE"or h["UnitClassBase"](z)=="WARLOCK"or h["UnitClassBase"](z)=="PRIEST"then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end end end;if h["UnitClassBase"](z)=="WARRIOR"or h["UnitClassBase"](z)=="ROGUE"or h["UnitClassBase"](z)=="DEATHKNIGHT"or h["UnitClassBase"](z)=="HUNTER"then if h["WR_NumIsTank"](y)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_LLZF"](z)then return e end end else if h["WR_PaladinHoly_Function_LLZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end end end end;if h["UnitClassBase"](z)=="DRUID"or h["UnitClassBase"](z)=="SHAMAN"or h["UnitClassBase"](z)=="PALADIN"then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end end end elseif R==j("2")then if h["WR_PaladinHoly_Function_LLZF"](z)then return e end elseif R==j("3")then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end elseif R==j("4")then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end elseif R==j("5")then if h["UnitClassBase"](z)=="MAGE"or h["UnitClassBase"](z)=="WARLOCK"or h["UnitClassBase"](z)=="PRIEST"or h["UnitClassBase"](z)=="PALADIN"then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end;if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end end end;if h["UnitClassBase"](z)=="WARRIOR"or h["UnitClassBase"](z)=="ROGUE"or h["UnitClassBase"](z)=="DEATHKNIGHT"or h["UnitClassBase"](z)=="HUNTER"then if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end end end;if h["UnitClassBase"](z)=="DRUID"or h["UnitClassBase"](z)=="SHAMAN"then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end;if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end end end elseif R==j("6")then if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end elseif R==j("7")then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end elseif R==j("8")then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end end end end;return d end;h["WR_PaladinProtection_Function_ZF"]=function()if h["WRSet"]["FH_ZF"]==j("10")then return d end;if h["RiadOrParty"]~="raid"then local z="player"if h["WRSet"]["FH_ZF"]==j("1")then if h["WR_PaladinHoly_Function_BHZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end end elseif h["WRSet"]["FH_ZF"]==j("2")then if h["WR_PaladinHoly_Function_LLZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("3")then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("4")then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("5")then if h["WR_PaladinHoly_Function_BHZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("6")then if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("7")then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("8")then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("9")then if h["WR_PaladinHoly_Function_QXBHZF"](z)then return e end end end;if h["RiadOrParty"]=="single"then return d end;local x;if h["RiadOrParty"]=="raid"then x=j("25")else x=j("4")end;for y=j("1"),x,j("1")do local z=h["RiadOrParty"]..y;if h["UnitExists"](z)and not h["UnitCanAttack"](z,"player")and not h["UnitIsDeadOrGhost"](z)and h["WR_GetUnitRange"](z)<=j("30")then if h["WRSet"]["FH_ZF"]==j("1")then if h["UnitClassBase"](z)=="MAGE"or h["UnitClassBase"](z)=="WARLOCK"or h["UnitClassBase"](z)=="PRIEST"then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end;if h["WR_PaladinHoly_Function_BHZF"](z)then return e end end end;if h["UnitClassBase"](z)=="WARRIOR"or h["UnitClassBase"](z)=="ROGUE"or h["UnitClassBase"](z)=="DEATHKNIGHT"or h["UnitClassBase"](z)=="HUNTER"then if h["WR_NumIsTank"](y)then if h["WR_PaladinHoly_Function_BHZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end;if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end end else if h["WR_PaladinHoly_Function_LLZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_Function_BHZF"](z)then return e end;if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end end end end;if h["UnitClassBase"](z)=="DRUID"or h["UnitClassBase"](z)=="SHAMAN"or h["UnitClassBase"](z)=="PALADIN"then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end;if h["WR_PaladinHoly_UnitNotMyZF"](z)then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end;if h["WR_PaladinHoly_Function_LLZF"](z)then return e end;if h["WR_PaladinHoly_Function_BHZF"](z)then return e end end end elseif h["WRSet"]["FH_ZF"]==j("2")then if h["WR_PaladinHoly_Function_LLZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("3")then if h["WR_PaladinHoly_Function_ZHZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("4")then if h["WR_PaladinHoly_Function_WZZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("5")then if h["WR_PaladinHoly_Function_BHZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("6")then if h["WR_PaladinHoly_Function_QXLLZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("7")then if h["WR_PaladinHoly_Function_QXZHZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("8")then if h["WR_PaladinHoly_Function_QXWZZF"](z)then return e end elseif h["WRSet"]["FH_ZF"]==j("9")then if h["WR_PaladinHoly_Function_QXBHZF"](z)then return e end end end end;return d end;h["WR_Paladin_Function_SY"]=function()local S;if h["PaladinTalent"]=="神圣"then S=h["WRSet"]["SS_SY"]elseif h["PaladinTalent"]=="惩戒"then S=h["WRSet"]["CJ_SY"]elseif h["PaladinTalent"]=="防护"then S=h["WRSet"]["FH_SY"]end;if S==j("1")and h["WR_SpellUsable"]("正义圣印")and h["WR_GetUnitBuffInfo"]("player","正义圣印")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF6","正义圣印",h["zhandoumoshi"])return e elseif S==j("2")and h["WR_SpellUsable"]("公正圣印")and h["WR_GetUnitBuffInfo"]("player","公正圣印")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF2","公正圣印",h["zhandoumoshi"])return e elseif S==j("3")and h["WR_SpellUsable"]("光明圣印")and h["WR_GetUnitBuffInfo"]("player","光明圣印")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF1","光明圣印",h["zhandoumoshi"])return e elseif S==j("4")and h["WR_SpellUsable"]("智慧圣印")and h["WR_GetUnitBuffInfo"]("player","智慧圣印")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF3","智慧圣印",h["zhandoumoshi"])return e elseif S==j("5")and h["WR_SpellUsable"](h["FC_FS_ShengYin"])and h["WR_GetUnitBuffInfo"]("player",h["FC_FS_ShengYin"])==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN8",h["FC_FS_ShengYin"],h["zhandoumoshi"])return e elseif S==j("6")and h["WR_SpellUsable"]("命令圣印")and h["WR_GetUnitBuffInfo"]("player","命令圣印")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSP","命令圣印",h["zhandoumoshi"])return e elseif S==j("7")then if h["zhandoumoshi"]==j("1")then if h["WR_SpellUsable"]("命令圣印")and h["WR_GetUnitBuffInfo"]("player","命令圣印")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSP","命令圣印",h["zhandoumoshi"])return e end else if h["WR_SpellUsable"](h["FC_FS_ShengYin"])and h["WR_GetUnitBuffInfo"]("player",h["FC_FS_ShengYin"])==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN8",h["FC_FS_ShengYin"],h["zhandoumoshi"])return e end end end;return d end;h["WR_Paladin_Function_SP"]=function(D,N)if h["PaladinTalent"]=="神圣"and h["UnitName"]("target")=="维扎克斯将军"then return d end;if h["PaladinTalent"]=="神圣"and h["UnitName"]("focustarget")=="维扎克斯将军"then return d end;local T;if h["PaladinTalent"]=="神圣"then T=h["WRSet"]["SS_SP"]elseif h["PaladinTalent"]=="惩戒"then T=h["WRSet"]["CJ_SP"]elseif h["PaladinTalent"]=="防护"then T=h["WRSet"]["FH_SP"]end;local U;local V;if T==j("2")then U="圣光审判"V="SF8"elseif T==j("3")then U="智慧审判"V="SF1"elseif T==j("4")then U="公正审判"V="CF4"elseif T==j("1")then if h["WR_SpellUsable"]("智慧审判")then U="智慧审判"V="SF1"else U="圣光审判"V="SF8"end;if h["WR_GetUnitDebuffInfo"](D,"智慧审判",e)==j("0")and h["WR_GetUnitDebuffInfo"](D,"圣光审判",e)==j("0")and h["WR_GetUnitDebuffInfo"](D,"公正审判",e)==j("0")then if h["WR_GetUnitDebuffInfo"](D,"智慧审判")==j("0")then U="智慧审判"V="SF1"elseif h["WR_GetUnitDebuffInfo"](D,"圣光审判")==j("0")then U="圣光审判"V="SF8"elseif h["WR_GetUnitDebuffInfo"](D,"公正审判")==j("0")then U="公正审判"V="CF4"end end end;if U~=f and h["WR_SpellUsable"](U)and h["WR_TargetInCombat"](D)and(h["IsSpellInRange"]("圣光审判",D)==j("1")or h["IsSpellInRange"]("智慧审判",D)==j("1")or h["IsSpellInRange"]("公正审判",D)==j("1"))and(h["UnitHealth"](D)/h["UnitHealthMax"](D)<j("0.995")or not h["IsInInstance"]())and(h["WR_GetUnitDebuffInfo"](D,U)==j("0")or not h["IsInInstance"]()or h["GetTalentPointsBySpellID"]("纯洁审判")>j("0")and h["WR_GetUnitBuffInfo"]("player","纯洁审判")<=j("3")or h["PaladinTalent"]=="惩戒"or h["PaladinTalent"]=="防护"or h["KillTarget"])then if D=="target"then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"](V,U,h["zhandoumoshi"])return e elseif D=="focustarget"then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF9","智判FT",h["zhandoumoshi"])return e end end;return d end;h["WR_Paladin_Function_SSKQ"]=function()if h["WR_SpellUsable"]("神圣恳求")and h["TargetInCombat"]and h["UnitAffectingCombat"]("player")and h["PlayerMP"]<j("0.75")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF12","神圣恳求",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_QSZS"]=function()if h["WR_SpellUsable"]("清算之手")and h["TargetRange"]<=j("30")and h["TargetInCombat"]and h["WR_IsUsingGlyph"]("清算符文")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF9","清算之手",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_SZJDJ"]=function()if h["WR_SpellUsable"]("十字军打击")and h["TargetRange"]<=j("3")and h["TargetInCombat"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF1","十字军打击",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_Function_ZYZN"]=function()if h["WR_SpellUsable"]("正义之怒")and h["WR_GetUnitBuffInfo"]("player","正义之怒")==j("0")and h["UnitCanAttack"]("player","target")and not h["UnitIsDead"]("target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF2","正义之怒",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_Function_FCZZD"]=function()if h["WR_SpellUsable"]("复仇者之盾")and h["TargetRange"]<=j("30")and h["UnitCanAttack"]("player","target")and not h["UnitIsDead"]("target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF9","复仇者之盾",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_FX"]=function()if h["WR_SpellUsable"]("奉献")and h["TargetRange"]<=j("3")and h["TargetInCombat"]and not h["PlayerMove"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF7","奉献",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_Function_SSZD"]=function()if h["WR_SpellUsable"]("神圣之盾")and h["TargetRange"]<=j("5")and h["UnitCanAttack"]("player","target")and h["WR_GetUnitBuffCount"]("player","神圣之盾")<=j("1")and not h["UnitIsDead"]("target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF12","神圣之盾",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_Function_ZYZC"]=function()if h["WR_SpellUsable"]("正义之锤")and h["TargetRange"]<=j("3")and h["UnitCanAttack"]("player","target")and not h["UnitIsDead"]("target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF11","正义之锤",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinProtection_Function_ZYDJ"]=function()if h["WR_SpellUsable"]("正义盾击")and h["TargetRange"]<=j("3")and h["UnitCanAttack"]("player","target")and not h["UnitIsDead"]("target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF1","正义盾击",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_Function_ZYDJ"]=function()if h["UnitName"]("target")=="维扎克斯将军"then return d end;if h["WR_SpellUsable"]("正义盾击")and h["TargetRange"]<=j("3")and h["TargetInCombat"]and h["PlayerMP"]<=j("0.95")and(h["PlayerMove"]or h["RiadOrParty"]~="raid")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF1","正义盾击",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_SSFB"]=function()if h["WR_SpellUsable"]("神圣风暴")and h["TargetRange"]<=j("3")and h["TargetInCombat"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF6","神圣风暴",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_FNZC"]=function()if h["WR_SpellUsable"]("愤怒之锤")and h["TargetRange"]<=j("30")and h["TargetInCombat"]and h["TargetHP"]<j("0.2")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF8","愤怒之锤",h["zhandoumoshi"])return e end;if h["WR_GetGCD"]("愤怒之锤")<=h["GCD"]and h["WR_GetUnitRange"]("mouseover")<=j("30")and h["WR_TargetInCombat"]("mouseover")and h["UnitHealth"]("mouseover")/h["UnitHealthMax"]("mouseover")<j("0.2")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF2","愤怒之锤M",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_SSZJ_Damage"]=function()if h["WR_SpellUsable"]("神圣震击")and h["TargetRange"]<=j("30")and h["TargetInCombat"]then if h["UnitIsUnit"]("focus","target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF2","神圣震击",h["zhandoumoshi"])return e end;h["WR_FocusHealthMaxWeightUnit_LastTime"]=h["GetTime"]()if h["WR_FocusUnit"]("target","震击")then return e end end;return d end;h["WR_Paladin_Function_QXS"]=function()if h["WR_SpellUsable"]("驱邪术")and h["TargetRange"]<=j("30")and h["TargetInCombat"]and h["UnitCastingInfo"]("player")~="驱邪术"and(h["WR_GetUnitBuffInfo"]("player","战争艺术")>j("0")and(not h["PlayerMove"]and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("驱邪术"))))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF9","驱邪术",h["zhandoumoshi"])return e end end;h["WR_Paladin_Function_SSFN"]=function()if h["PaladinTalent"]=="惩戒"and h["WRSet"]["CJ_SSFN"]~=j("1")then return d elseif h["PaladinTalent"]=="防护"and h["WRSet"]["FH_SSFN"]~=j("1")then return d end;if h["WR_SpellUsable"]("神圣愤怒")and h["TargetRange"]<=j("5")and h["TargetInCombat"]and(h["UnitCreatureType"]("target")=="亡灵"or h["UnitCreatureType"]("target")=="恶魔")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF5","神圣愤怒",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_Function_HWGJ"]=function()if h["IsInInstance"]()and not h["KillTarget"]then return d end;if h["WR_Paladin_Function_FNZC"]()then return e end;if h["WR_Paladin_Function_SSZJ_Damage"]()then return e end;if h["WR_Paladin_Function_QXS"]()then return e end;return d end;h["WR_Paladin_Function_GJ"]=function()if h["WRSet"]["SS_ZLMS"]==j("2")or h["WRSet"]["SS_ZLMS"]==j("3")then return d end;if not h["IsCurrentSpell"]("攻击")and h["TargetRange"]<=j("10")and h["TargetInCombat"]and not h["UnitIsDeadOrGhost"]("target")and not h["IsMounted"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN9","攻击",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_Function_StopFollow"]=function()if h["WRSet"]["SS_ZDGS"]~=j("2")and h["UnitCastingInfo"]("player")~=f then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSO","停止跟随",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_Function_JS"]=function()if not h["UnitIsDeadOrGhost"]("focus")and h["FocusHP"]<=j("0.4")then return d end;if not h["WR_SpellUsable"]("救赎")then return d end;if h["RiadOrParty"]=="single"then return d end;if h["WR_PartyInCombat"]()then return d end;if h["PlayerMove"]then return d end;if h["WR_StopCast"](h["WR_GetTrueCastTime"]("救赎"))then return d end;if h["PaladinTalent"]=="防护"and h["WRSet"]["FH_JS"]==j("2")then return d end;local x;if h["RiadOrParty"]=="raid"then x=j("25")else x=j("4")end;for y=j("1"),x,j("1")do local z=h["RiadOrParty"]..y;if h["UnitIsDeadOrGhost"](z)and h["WR_GetUnitRange"](z)<=j("30")then if h["UnitIsUnit"]("focus",z)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF6","救赎F",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](z,"救赎")then return e end end end;return d end;h["WR_Paladin_Function_ZCZC"]=function()if h["PaladinTalent"]=="神圣"and h["WRSet"]["SS_ZCZC"]==j("2")then return d end;if h["PaladinTalent"]=="惩戒"and h["WRSet"]["CJ_ZCZC"]==j("2")then return d end;if h["PaladinTalent"]=="防护"and h["WRSet"]["FH_ZCZC"]==j("2")then return d end;if h["WR_SpellUsable"]("制裁之锤")and h["WR_GetUnitRange"]("target")<=j("10")and h["UnitCanAttack"]("target","player")and h["WR_StunSpell"]("target")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF11","制裁T",h["zhandoumoshi"])return e end;return d end;h["WR_PaladinHoly_FindTank"]=function()if not h["IsInInstance"]()then return f end;if h["RiadOrParty"]=="single"then return d end;local x;if h["RiadOrParty"]=="raid"then x=j("25")else x=j("4")end;for y=j("1"),x,j("1")do local z=h["RiadOrParty"]..y;if h["UnitExists"](z)and not h["UnitIsDeadOrGhost"](z)and h["WR_NumIsTank"](y)then return z end end;return f end;h["WR_PaladinHoly_Function_FollowUnit"]=function()if h["WRSet"]["SS_ZDGS"]==j("2")then return f end;if h["WR_TankUnit"]~=f and h["UnitIsPlayer"](h["WR_TankUnit"])and h["UnitExists"](h["WR_TankUnit"])and not h["UnitIsDeadOrGhost"](h["WR_TankUnit"])and not h["PlayerMove"]and h["GCD"]==j("0")and h["WR_GetUnitRange"](h["WR_TankUnit"])>j("3")and h["WR_GetUnitRange"](h["WR_TankUnit"])<=j("25")then if h["UnitIsUnit"](h["WR_TankUnit"],"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CSL","跟随",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](h["WR_TankUnit"],"跟随")then return e end end;return d end;h["WR_Paladin_ZYZS"]=function(D)if h["WR_SpellUsable"]("自由之手")and h["WR_GetUnitRange"](D)<=j("30")and not h["UnitCanAttack"](D,"player")and h["WR_Unbind"](D)then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF10","自由"..D,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"自由")then return e end end;return d end;h["WR_Paladin_Function_ZYZF"]=function()if not h["WR_SpellUsable"]("自由之手")then return d end;local W;if h["PaladinTalent"]=="神圣"then W=h["WRSet"]["SS_ZYZS"]elseif h["PaladinTalent"]=="惩戒"then W=h["WRSet"]["CJ_ZYZS"]elseif h["PaladinTalent"]=="防护"then W=h["WRSet"]["FH_ZYZS"]end;if W==f or W==j("3")then return d end;if W==j("1")then if h["WR_Paladin_ZYZS"]("mouseover")then return e end;if h["WR_TankUnit"]~=f and h["WR_Paladin_ZYZS"](h["WR_TankUnit"])then return e end;if h["WR_Paladin_ZYZS"]("player")then return e end;if h["RiadOrParty"]=="single"then return d end;local x;if h["RiadOrParty"]=="raid"then x=j("25")else x=j("4")end;for y=j("1"),x,j("1")do local z=h["RiadOrParty"]if h["WR_Paladin_ZYZS"](z)then return e end end end;if W==j("2")and h["WR_Paladin_ZYZS"]("player")then return e end;return d end;h["WR_PaladinHoly_FindTank_SGDB_SJHD"]=function()local X={}if h["RiadOrParty"]=="party"then local Y=j("1")for y=j("1"),j("4"),j("1")do local z="party"..y;if h["UnitExists"](z)and h["WR_NumIsTank"](y)and Y<=j("4")then if h["UnitName"](z)~=f and h["SS_SGDB_menuItems"][Y]["text"]~=h["UnitName"](z)then h["SS_SGDB_UpdateMenuItemText"](Y,h["UnitName"](z))end;X[Y]=z;Y=Y+j("1")end;if h["SS_SJHD_menuItems"][y]["text"]~=g then h["SS_SJHD_UpdateMenuItemText"](y,g)end end elseif h["RiadOrParty"]=="raid"then local Y=j("1")for y=j("1"),j("25"),j("1")do local z="raid"..y;if h["UnitExists"](z)and h["WR_NumIsTank"](y)and Y<=j("4")then if h["UnitName"](z)~=f and h["SS_SGDB_menuItems"][Y]["text"]~=h["UnitName"](z)then h["SS_SGDB_UpdateMenuItemText"](Y,h["UnitName"](z))end;if h["UnitName"](z)~=f and h["SS_SJHD_menuItems"][Y]["text"]~=h["UnitName"](z)then h["SS_SJHD_UpdateMenuItemText"](Y,h["UnitName"](z))end;X[Y]=z;Y=Y+j("1")end end end;for y=j("1"),j("4"),j("1")do if h["SS_SGDB_menuItems"][y]["text"]~=g and X[y]==f then h["SS_SGDB_UpdateMenuItemText"](y,g)end end;return X[j("1")],X[j("2")],X[j("3")],X[j("4")]end;h["WR_Paladin_GZWL"]=function()if h["WR_IsUsingGlyph"]("感知亡灵雕文")and not h["WR_IsTracking"]("感知亡灵")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF7","感知亡灵",h["zhandoumoshi"])return e end;return d end;h["WR_Paladin_SPELL_CAST_SUCCESS"]=function()if h["WR_Paladin_SPELL_CAST_SUCCESS_Open"]==e then return end;local Z=h["CreateFrame"]("Frame")Z["RegisterEvent"](Z,"COMBAT_LOG_EVENT_UNFILTERED")Z["SetScript"](Z,"OnEvent",function()if h["select"](j("4"),h["CombatLogGetCurrentEventInfo"]())==h["UnitGUID"]("player")then if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local _=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if _=="圣光术"or _=="圣光闪现"then h["Paladin_CastTime"]=h["GetTime"]()end end end end)h["WR_Paladin_SPELL_CAST_SUCCESS_Open"]=e end;h["WR_Paladin_ErrorMessage"]=function()if h["WR_Paladin_ErrorMessageInfo"]~=e then local a0=h["CreateFrame"]("Frame")a0["RegisterEvent"](a0,"UI_ERROR_MESSAGE")a0["SetScript"](a0,"OnEvent",function(C,a1,a2,a3)if h["string"]["find"](a3,"目标不在视野中")then h["OutOfSight_ErrorMessageTime"]=h["GetTime"]()h["OutOfSight_FocusID"]=h["UnitGUID"]("focus")return end end)h["WR_Paladin_ErrorMessageInfo"]=e end end;h["WR_PaladinProtection_ZYFY"]=function(D)if h["UnitCanAttack"]("player",D)then return d end;if h["WR_UnitIsTank"](D)then return d end;if h["WR_GetUnitRange"](D)>j("40")then return d end;if h["UnitIsUnit"]("player",D)then return d end;local a4=j("0")for y=j("1"),j("40")do if h["UnitIsUnit"]("nameplate"..y.."target",D)and not h["UnitIsPlayer"]("nameplate")then a4=a4+j("1")end end;if a4>=h["WRSet"]["FH_ZYFY"]then if h["UnitIsUnit"](D,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACSF10","正义防御"..D,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](D,"正义防御")then return e end end;return d end;h["WR_PaladinProtection_Function_ZYFY"]=function()if h["WRSet"]["FH_ZYFY"]==j("6")then return d end;local G;if h["RiadOrParty"]=="raid"then G=j("25")elseif h["RiadOrParty"]=="party"then G=j("4")end;if G==f then return d end;for y=j("1"),G do if h["WR_PaladinProtection_ZYFY"](h["RiadOrParty"]..y)then return e end end;return d end;h["WR_Paladin_ZLS"]=function()local a5=j("5")if h["PaladinTalent"]=="神圣"then a5=h["WRSet"]["SS_ZLS"]elseif h["PaladinTalent"]=="惩戒"then elseif h["PaladinTalent"]=="防护"then end;if a5~=j("5")and h["UnitAffectingCombat"]("player")and h["PlayerHP"]<a5/j("10")and h["WR_Use_ZLS"]()then if h["WR_ColorFrame_Show"]("ACSF12","治疗石")then return e end end;return d end end)()