local a = 93; local b = 16; local c = 29; local d = 65; local e = 50; local f = 0 == 1; local g = not f; local h = nil; local i = "" local j = _G; local k = _ENV; local l = j["tonumber"] return (function(...) _G["WR_FidOldInfo20250307"] = true _G["WR_FidInfoIsGood20250307"] = true _G["Welcome_XiaoManZS"] = true _G["B99210573"] = true _G["wrupdata"] = 20250320 _G["vipinfo"] = true _G["wrfindbn_250314"] = true _G["WR_FidInfo_Paladin_20250314"] = true _G["WR_FidInfo_Druid_20250314"] = true _G["WR_FidInfo_Priest_20250314"] = true _G["PaladinPass"] = true _G["PriestPass"] = true _G["DruidPass"] = true j["PartyRange"] = {} j["RiadRange"] = {} j["PartyLostHealth"] = {} j["RiadLostHealth"] = {} j["PlayerLostHealth"] = l("0") j["DangerOutburstAoe"] = { [l("1")] = "灵魂爆发", [l("2")] = "吞噬践踏", [l("3")] = "强风箭", [l("4")] = "地狱烈火", [l("5")] = "绝对零度", [l("6")] = "飞翼打击", [l("7")] = "猛烈突变", [l("8")] = "奥术裂隙", [l("9")] = "爆发苏醒", [l("10")] = "风暴狂怒", [l("11")] = "鸣裂颠覆", [l("12")] = "紊流", [l("13")] = "兽性怒吼", [l("14")] = "腐朽之力", [l("15")] = "极寒冰冻", [l("16")] = "坚石碎片", [l("17")] = "灼热齐射", [l("18")] = i, [l("19")] = i, [l("20")] = i } j["DangerSustainedAoe"] = { [l("1")] = "电能风暴", [l("2")] = "风暴之眼", [l("3")] = "冰霜过载", [l("4")] = "符文烙印", [l("5")] = l("376727"), [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["DangerDebuff"] = { [l("1")] = "静电充能", [l("2")] = "法力炸弹", [l("3")] = "强风箭", [l("4")] = "闪电链", [l("5")] = "粉碎之握", [l("6")] = "梦魇爆发", [l("7")] = "蚀刻", [l("8")] = "黑暗冲锋", [l("9")] = "压抑深渊", [l("10")] = "弱肉强食", [l("11")] = "污浊轰击", [l("12")] = "烈焰震击", [l("13")] = "梦魇毒素", [l("14")] = "毁灭痛苦", [l("15")] = "根绝冲击", [l("16")] = "腐蚀", [l("17")] = "时光凋零", [l("18")] = "灵魂燃烧", [l("19")] = "提尔之火", [l("20")] = "弹射之盾", [l("21")] = "钢铁之矛", [l("22")] = "活动炸弹", [l("23")] = "羁石诅咒", [l("24")] = "能量过载", [l("25")] = "地狱火之核", [l("26")] = "闪电打击", [l("27")] = "能量炸弹", [l("28")] = i, [l("29")] = i, [l("30")] = i, [l("31")] = i, [l("32")] = i, [l("33")] = i, [l("34")] = i, [l("35")] = i, [l("36")] = i, [l("37")] = i, [l("38")] = i, [l("39")] = i, [l("40")] = i } j["DangerSpellToMe"] = { [l("1")] = "风暴之箭", [l("2")] = "雷霆打击", [l("3")] = "大地之箭", [l("4")] = "静电之矛", [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["AssistDebuffName"] = { [l("1")] = "静电充能", [l("2")] = "静电之矛", [l("3")] = "强风箭", [l("4")] = "闪电链", [l("5")] = "粉碎之握", [l("6")] = "梦魇爆发", [l("7")] = "蚀刻", [l("8")] = "黑暗冲锋", [l("9")] = "压抑深渊", [l("10")] = "弱肉强食", [l("11")] = "污浊轰击", [l("12")] = "烈焰震击", [l("13")] = "梦魇毒素", [l("14")] = "毁灭痛苦", [l("15")] = "根绝冲击", [l("16")] = "腐蚀", [l("17")] = "时光凋零", [l("18")] = "灵魂燃烧", [l("19")] = "提尔之火", [l("20")] = "弹射之盾", [l("21")] = "钢铁之矛", [l("22")] = "活动炸弹", [l("23")] = "羁石诅咒", [l("24")] = "能量过载", [l("25")] = "地狱火之核", [l("26")] = "闪电打击", [l("27")] = "能量炸弹", [l("28")] = "法力炸弹", [l("29")] = "大地碎片", [l("30")] = "岩浆焚火", [l("31")] = "霜风", [l("32")] = "寒冰灭绝者", [l("33")] = "吞噬", [l("34")] = "燃烧锁链", [l("35")] = "巨龙打击", [l("36")] = "灼热齐射", [l("37")] = "熔火真金", [l("38")] = "皲皮", [l("39")] = i, [l("40")] = i } j["OutburstAoe"] = { [l("1")] = "爆发苏醒", [l("2")] = "吞噬践踏", [l("3")] = "虚空脉冲", [l("4")] = "黑暗之蚀", [l("5")] = "奥术裂隙", [l("6")] = "坚石碎片", [l("7")] = "强风箭", [l("8")] = "绝对零度", [l("9")] = "毁灭溢出", [l("10")] = "痛苦尖啸", [l("11")] = "暗影箭雨", [l("12")] = "地狱烈火", [l("13")] = "阻断暴雨", [l("14")] = "勇气号角", [l("15")] = "兽性怒吼", [l("16")] = "岩石冲击", [l("17")] = "鸣裂颠覆", [l("18")] = "大地裂击", [l("19")] = "震耳尖啸", [l("20")] = "图腾过载", [l("21")] = "注能爆尘", [l("22")] = "腐化涟漪", [l("23")] = "碎裂", [l("24")] = "紊流", [l("25")] = "猛烈突变", [l("26")] = "风暴狂怒", [l("27")] = "震耳咆哮", [l("28")] = "溃烂收割", [l("29")] = "腐朽之力", [l("30")] = "歼灭之翼", [l("31")] = "幽暗焚烧", [l("32")] = "暗影与烈焰", [l("33")] = "轰鸣咆哮", [l("34")] = "灾难猛击", [l("35")] = "充能挥斩", [l("36")] = "烧灼猛击", [l("37")] = "冲击波", [l("38")] = "毁灭践踏", [l("39")] = "回响裂隙", [l("40")] = "深影歼灭", [l("41")] = "冷冽摧残", [l("42")] = "撼地猛击", [l("43")] = "极寒冰冻", [l("44")] = "飞翼打击", [l("45")] = "动荡融合", [l("46")] = "疯狂怒吼", [l("47")] = "天启梦魇", [l("48")] = "上古辉光", [l("49")] = "裂地打击", [l("50")] = "灵魂爆发", [l("51")] = "大地践踏", [l("52")] = "碎裂之土", [l("53")] = "大地咆哮", [l("54")] = "腐烂震波", [l("55")] = "污浊轰击", [l("56")] = "巨灵猛击", [l("57")] = "恐惧精华", [l("58")] = "毒性喷涌", [l("59")] = "晦影湮灭", [l("60")] = "碾压脏腑", [l("61")] = "火焰之地洪焰", [l("62")] = "滚桶冲锋", [l("63")] = "碎魂", [l("64")] = "灼热齐射", [l("65")] = i, [l("66")] = i, [l("67")] = i, [l("68")] = i, [l("69")] = i, [l("70")] = i, [l("71")] = i, [l("72")] = i, [l("73")] = i, [l("74")] = i, [l("75")] = i, [l("76")] = i, [l("77")] = i, [l("78")] = i, [l("79")] = i, [l("80")] = i, [l("81")] = i, [l("82")] = i, [l("83")] = i, [l("84")] = i, [l("85")] = i, [l("86")] = i, [l("87")] = i, [l("88")] = i, [l("89")] = i, [l("90")] = i, [l("91")] = i, [l("92")] = i, [l("93")] = i, [l("94")] = i, [l("95")] = i, [l("96")] = i, [l("97")] = i, [l("98")] = i, [l("99")] = i, [l("100")] = i } j["OutburstDebuff"] = { [l("1")] = "活动炸弹", [l("2")] = "爆裂电流", [l("3")] = "毁灭之触", [l("4")] = "法力炸弹", [l("5")] = "积雷充能", [l("6")] = "爆裂法印", [l("7")] = l("197556"), [l("8")] = "震地", [l("9")] = "强风箭", [l("10")] = "腐蚀旋涡", [l("11")] = "驱逐之光", [l("12")] = "闪电打击", [l("13")] = "静电充能", [l("14")] = "晦暗爆破", [l("15")] = "炽燃暮光", [l("16")] = "暗影之缚", [l("17")] = "时光爆发", [l("18")] = "不稳定的灰烬", [l("19")] = "钢铁之矛", [l("20")] = "能量过载", [l("21")] = "闪电链", [l("22")] = "粉碎之握", [l("23")] = "梦魇爆发", [l("24")] = "蚀刻", [l("25")] = "黑暗冲锋", [l("26")] = "压抑深渊", [l("27")] = "弱肉强食", [l("28")] = "污浊轰击", [l("29")] = "羁石诅咒", [l("30")] = "梦魇毒素", [l("31")] = "毁灭痛苦", [l("32")] = "弹射之盾", [l("33")] = "提尔之火", [l("34")] = "灵魂燃烧", [l("35")] = "时光凋零", [l("36")] = "根绝冲击", [l("37")] = "鸣裂颠覆", [l("38")] = "能量炸弹", [l("39")] = "冰霜炸弹", [l("40")] = i } j["PartyOutburstDebuff"] = { [l("1")] = "静电充能", [l("2")] = "滚雷", [l("3")] = "末日迫近", [l("4")] = "时光凋零", [l("5")] = "不稳定的灰烬", [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["OutburstCasting"] = { [l("1")] = "邪炽冲刺", [l("2")] = "邪恶短匕", [l("3")] = "闪电链", [l("4")] = "肩部猛击", [l("5")] = "熔岩喷洒", [l("6")] = "恶臭吐息", [l("7")] = "艾泽里特填装弹", [l("8")] = "弹射之盾", [l("9")] = "钢铁之矛", [l("10")] = "屠戮标记" } j["SustainedAoe"] = { [l("1")] = "旋风", [l("2")] = "飓风龙翼", [l("3")] = "切割漩涡", [l("4")] = "冰霜过载", [l("5")] = "黑暗之星的低语", [l("6")] = "死尸之息", [l("7")] = "电能风暴", [l("8")] = "折磨标记", [l("9")] = "压迫能量", [l("10")] = "闪电风暴", [l("11")] = "压制蛙鸣", [l("12")] = "风暴之眼", [l("13")] = "凡尘之羁", [l("14")] = "电荷涌动", [l("15")] = "剧毒废气", [l("16")] = "风暴狂怒", [l("17")] = "束地之矛", [l("18")] = "岩浆护盾", [l("19")] = "倒转时光流", [l("20")] = "熔炉之力", [l("21")] = "白热风暴", [l("22")] = "岩浆护盾", [l("23")] = "发脾气", [l("24")] = "深暗回响", [l("25")] = "烁光之涌", [l("26")] = "地震术", [l("27")] = "不稳定的灰烬", [l("28")] = "狂伤", [l("29")] = "剧烈爆发", [l("30")] = "鲜血灌注", [l("31")] = "灵魂收割", [l("32")] = "无尽怒火", [l("33")] = "大地奔涌", [l("34")] = "灾劫湮灭", [l("35")] = "永恒腐化", [l("36")] = "聚焦风暴", [l("37")] = "焰烬之箭齐射", [l("38")] = "奔流之怒", [l("39")] = "地壤之怒", [l("40")] = "崩岩轰击", [l("41")] = "炎蛇怒焰", [l("42")] = "地狱怒火", [l("43")] = "膨胀", [l("44")] = i, [l("45")] = l("376727"), [l("46")] = i, [l("47")] = i, [l("48")] = i, [l("49")] = i, [l("50")] = i } j["TrainingName"] = { [l("1")] = "训练假人", [l("2")] = "顺劈训练假人", [l("3")] = "地下城训练假人", [l("4")] = "团队副本训练假人", [l("5")] = "普通坦克假人", [l("6")] = "活化的格斗家", [l("7")] = "石拳", [l("8")] = "测试假人", [l("9")] = "PvP训练假人", [l("10")] = "海象人训练假人", [l("11")] = "黑龙的挑战假人", [l("12")] = "芜菁沙袋", [l("13")] = "结实的爱情娃娃", [l("14")] = "橡胶鱼头", [l("15")] = "大师的训练假人", [l("16")] = "专家的训练假人", [l("17")] = "英雄训练假人", [l("18")] = "宗师的训练假人", [l("19")] = i, [l("20")] = i } j["InCombatName"] = { [l("1")] = "训练假人", [l("2")] = "顺劈训练假人", [l("3")] = "地下城训练假人", [l("4")] = "团队副本训练假人", [l("5")] = "普通坦克假人", [l("6")] = "活化的格斗家", [l("7")] = "石拳", [l("8")] = "被亵渎的幽灵", [l("9")] = "狂乱之魂", [l("10")] = "龙裔幻象", [l("11")] = "爆炸物", [l("12")] = "诺库德风暴法师", [l("13")] = "硬化的水晶", [l("14")] = "爆裂水晶", [l("15")] = "饥饿的鞭笞者", [l("16")] = "诺库德破坏者", [l("17")] = "仪式枯骨", [l("18")] = "复生图腾", [l("19")] = "海象人训练假人", [l("20")] = "芜菁沙袋", [l("21")] = "黑龙的挑战假人", [l("22")] = "结实的爱情娃娃", [l("23")] = "橡胶鱼头", [l("24")] = "镜像", [l("25")] = "裹体之网", [l("26")] = "冰冻核心", [l("27")] = "大师的训练假人", [l("28")] = "专家的训练假人", [l("29")] = "英雄训练假人", [l("30")] = "宗师的训练假人" } j["SustainedDebuff"] = { [l("1")] = "滚雷", [l("2")] = "末日迫近", [l("3")] = "地狱火之核", [l("4")] = "电能鞭笞", [l("5")] = "污染迷雾", [l("6")] = "静电充能", [l("7")] = "冰冷冲击", [l("8")] = "投掷火炬", [l("9")] = "符文烙印", [l("10")] = "灵魂撕裂", [l("11")] = "寒冰灭绝者", [l("12")] = "传导印记", [l("13")] = "觉醒之土", [l("14")] = "撼地突袭", [l("15")] = "熔浆喷发", [l("16")] = "熔渣喷发", [l("17")] = "岩浆焚火", [l("18")] = "狂伤", [l("19")] = "白骨箭", [l("20")] = "焦灼血肉", [l("21")] = "不稳定的灰烬", [l("22")] = "冲击波", [l("23")] = "散射炸弹", [l("24")] = "岩浆喷发", [l("25")] = "密闭射线", [l("26")] = "大地碎片", [l("27")] = "嗜血成性", [l("28")] = "冷冽摧残", [l("29")] = "龙骨之斧", [l("30")] = "极地之风", [l("31")] = "时光爆发", [l("32")] = "弱化", [l("33")] = "可控燃烧", [l("34")] = "皲皮", [l("35")] = i, [l("36")] = i, [l("37")] = i, [l("38")] = i, [l("39")] = i, [l("40")] = i, [l("41")] = i, [l("42")] = i, [l("43")] = i, [l("44")] = i, [l("45")] = i, [l("46")] = i, [l("47")] = i, [l("48")] = i, [l("49")] = i, [l("50")] = i } j["SustainedBuff"] = { [l("1")] = "龙巢看护者之怒", [l("2")] = "熔火血脉", [l("3")] = "强烈燃烧", [l("4")] = "炉铸之怒", [l("5")] = "炽燃聚焦", [l("6")] = "震地之能", [l("7")] = "燃火外衣", [l("8")] = "通灵爆发", [l("9")] = "震地之能", [l("10")] = "晶化", [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["NecroblastName"] = { [l("1")] = "次级煞魔", [l("2")] = "畸形煞魔", [l("3")] = "地渊孢林蜱虫", [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["EscapeSpellName"] = { [l("1")] = "压抑深渊", [l("2")] = "腐蚀灌体", [l("3")] = "根绝冲击", [l("4")] = "灵魂操控", [l("5")] = "锯齿荨麻", [l("6")] = "静电之矛", [l("7")] = "炽焰护盾", [l("8")] = i, [l("9")] = i, [l("10")] = i } j["InvincibleBuffName"] = { [l("1")] = "灵魂护甲", [l("2")] = "铁树皮盾", [l("3")] = "符文结界", [l("4")] = "虚空之盾", [l("5")] = "浪潮汹涌", [l("6")] = "培植毁灭", [l("7")] = "生命结界", [l("8")] = "冰川护盾", [l("9")] = "烧蚀屏障", [l("10")] = "神圣屏障", [l("11")] = "烧灼屏障", [l("12")] = "封印强化", [l("13")] = "爆裂护盾", [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["BindName"] = { [l("1")] = "混乱之网", [l("2")] = "镇压之网", [l("3")] = "钩网", [l("4")] = "罩网", [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["YuFangDingShenSpell"] = { [l("1")] = i, [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["SingleUnitName"] = { [l("1")] = "诺库德破坏者", [l("2")] = "爆炸物", [l("3")] = "仪式枯骨", [l("4")] = "被亵渎的幽灵", [l("5")] = "狂乱之魂", [l("6")] = "腐朽图腾", [l("7")] = "坠天新星", [l("8")] = "吟腐图腾", [l("9")] = "妖诡图腾", [l("10")] = "不羁畸变怪", [l("11")] = "腐爆图腾", [l("12")] = "宝库守卫", [l("13")] = "托萨克", [l("14")] = "路德维希·冯·托尔托伦", [l("15")] = "狂怒余烬", [l("16")] = "哈兰·斯威提", [l("17")] = "虫语虔信者", [l("18")] = "嚎叫雕像", [l("19")] = "熔火焦皮", [l("20")] = "大宰相埃尔坦", [l("21")] = "血面兽", [l("22")] = "女巫布里亚", [l("23")] = "女巫马拉迪", [l("24")] = "女巫索林娜", [l("25")] = "石拳", [l("26")] = "活化的格斗家", [l("27")] = "普通坦克假人", [l("28")] = "团队副本训练假人", [l("29")] = "PvP训练假人", [l("30")] = "地下城训练假人", [l("31")] = "灵魂荆棘", [l("32")] = "复生图腾", [l("33")] = "米罗克", [l("34")] = "灵魂荆棘", [l("35")] = "魂缚巨像", [l("36")] = i, [l("37")] = i, [l("38")] = i, [l("39")] = i, [l("40")] = i, [l("41")] = i, [l("42")] = i, [l("43")] = i, [l("44")] = i, [l("45")] = i, [l("46")] = i, [l("47")] = i, [l("48")] = i, [l("49")] = i, [l("50")] = i } j["DontTabUnitName"] = { [l("1")] = "诺库德破坏者", [l("2")] = "爆炸物", [l("3")] = "仪式枯骨", [l("4")] = "被亵渎的幽灵", [l("5")] = "狂乱之魂", [l("6")] = "腐朽图腾", [l("7")] = "坠天新星", [l("8")] = "吟腐图腾", [l("9")] = "妖诡图腾", [l("10")] = "不羁畸变怪", [l("11")] = "腐爆图腾", [l("12")] = "宝库守卫", [l("13")] = "托萨克", [l("14")] = "路德维希·冯·托尔托伦", [l("15")] = "狂怒余烬", [l("16")] = "哈兰·斯威提", [l("17")] = "虫语虔信者", [l("18")] = "嚎叫雕像", [l("19")] = "熔火焦皮", [l("20")] = "大宰相埃尔坦", [l("21")] = "血面兽", [l("22")] = "灵魂荆棘", [l("23")] = "注能者萨莉亚", [l("24")] = "硬化的水晶", [l("25")] = "爆裂水晶", [l("26")] = "龙裔影像", [l("27")] = "肠击", [l("28")] = "撼地图腾", [l("29")] = i, [l("30")] = i } j["DontDotUnitName"] = { [l("1")] = "坠天新星", [l("2")] = "腐爆图腾", [l("3")] = "宝库守卫", [l("4")] = "撼地图腾", [l("5")] = "狂怒余烬", [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["QuSanDangerDebuff"] = { [l("1")] = "妖术", [l("2")] = "僵化", [l("3")] = "变形术", [l("4")] = "烟雾弹", [l("5")] = "音素爆破", [l("6")] = "恐惧", [l("7")] = "催眠术", [l("8")] = "心灵尖啸", [l("9")] = "结晶", [l("10")] = "沉默", [l("11")] = "暗影之拥", [l("12")] = "法术封锁", [l("13")] = "冰冻陷阱效果", [l("14")] = "家畜", [l("15")] = "奥术洪流", [l("16")] = "水晶锁链", [l("17")] = "腐烂撕咬", [l("18")] = "疫病喷溅", [l("19")] = "衰老热疫", [l("20")] = "恐吓", [l("21")] = "晶化", [l("22")] = "血毒素", [l("23")] = "黑暗中的眼睛", [l("24")] = "沉睡", [l("25")] = "你被感染了！", [l("26")] = "死灵之毒", [l("27")] = "畸变感染", [l("28")] = "灵魂尖啸", [l("29")] = "熔化冲压", [l("30")] = "吸取毒药", [l("31")] = "黑色瘟疫", [l("32")] = "冷漠", [l("33")] = "麻痹诅咒", [l("34")] = "支配心智", [l("35")] = "精神控制", [l("36")] = "心灵惊骇", [l("37")] = "恐惧", [l("38")] = "致死", [l("39")] = "翼龙钉刺", [l("40")] = "吸血鬼之触", [l("41")] = "制裁", [l("42")] = "冰冻陷阱", [l("43")] = i, [l("44")] = i, [l("45")] = i, [l("46")] = i, [l("47")] = i, [l("48")] = i, [l("49")] = i, [l("50")] = i } j["HuLueQuSanDebuffName"] = { [l("1")] = "寒冰箭", [l("2")] = "寒冰箭雨", [l("3")] = "冰霜撕咬", [l("4")] = "冻结", [l("5")] = "冰锥术", [l("6")] = "变异注射", [l("7")] = "痛苦无常", [l("8")] = i, [l("9")] = i, [l("10")] = i } j["StopCastID"] = { [l("1")] = "恐怖咆哮", [l("2")] = "烈焰喷射", [l("3")] = "大地震颤", [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["EnragedBuffName"] = { [l("1")] = "激怒", [l("2")] = "鲁莽狂怒", [l("3")] = "狂怒风暴", [l("4")] = "集结氏族", [l("5")] = "怒火族亲", [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["MustInterruptUnitName"] = { [l("1")] = "纳兹夏尔冰霜女巫", [l("2")] = "纳兹夏尔女士", [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["ExcludeSpell"] = { [l("1")] = "支配", [l("2")] = "治疗符文", [l("3")] = "涌动", [l("4")] = "奥术箭", [l("5")] = "暗影箭", [l("6")] = "密结冰霜", [l("7")] = "寒冰箭", [l("8")] = "虚空箭", [l("9")] = "瘟疫喷吐", [l("10")] = "鸣裂爆炸", [l("11")] = "法力虚空", [l("12")] = "雷霆箭矢", [l("13")] = "水流长枪", [l("14")] = "火焰箭", [l("15")] = "大地之箭", [l("16")] = "湮灭之箭", [l("17")] = "风箭", [l("18")] = "神圣惩击", [l("19")] = "炽热爆裂", [l("20")] = "迅捷洪流", [l("21")] = "束缚之矛", [l("22")] = "注能", [l("23")] = "闪电箭", [l("24")] = "水箭", [l("25")] = "舞动荆棘", [l("26")] = "自然之怒", [l("27")] = "鲜血箭", [l("28")] = "纪元之箭", [l("29")] = "时光冲击", [l("30")] = "野火", [l("31")] = "愈合真言", [l("32")] = "大地结界", [l("33")] = "守卫之风", [l("34")] = i, [l("35")] = i, [l("36")] = i, [l("37")] = i, [l("38")] = i, [l("39")] = i, [l("40")] = i } j["ReflectionAOE"] = { [l("1")] = "毒性污秽", [l("2")] = "时光渗陷", [l("3")] = "极寒冰冻", [l("4")] = "冷冽摧残", [l("5")] = "深影歼灭", [l("6")] = "回响裂隙", [l("7")] = "冲击波", [l("8")] = "烧灼猛击", [l("9")] = "充能挥斩", [l("10")] = "轰鸣咆哮", [l("11")] = "炽热流星", [l("12")] = "幽暗焚烧", [l("13")] = "腐朽之力", [l("14")] = "歼灭之翼", [l("15")] = "腐化涟漪", [l("16")] = "图腾过载", [l("17")] = "震耳尖啸", [l("18")] = "大地裂击", [l("19")] = "鸣裂颠覆", [l("20")] = "岩石冲击", [l("21")] = "溃烂收割", [l("22")] = "风暴狂怒", [l("23")] = "猛烈突变", [l("24")] = "紊流", [l("25")] = "碎裂", [l("26")] = "阻断暴雨", [l("27")] = "坚石碎片", [l("28")] = "奥术裂隙", [l("29")] = "黑暗之蚀", [l("30")] = "吞噬践踏", [l("31")] = "爆发苏醒", [l("32")] = "暗影箭雨", [l("33")] = "痛苦尖啸", [l("34")] = "毁灭溢出", [l("35")] = "绝对零度", [l("36")] = "强风箭", [l("37")] = "虚空脉冲", [l("38")] = "地狱烈火", [l("39")] = "束地之矛", [l("40")] = "灼热轰击", [l("41")] = i, [l("42")] = i, [l("43")] = i, [l("44")] = i, [l("45")] = i, [l("46")] = i, [l("47")] = i, [l("48")] = i, [l("49")] = i, [l("50")] = i } j["NotReflection"] = { [l("1")] = "射击", [l("2")] = "喷发", [l("3")] = "弧形打击", [l("4")] = "涌动", [l("5")] = "电能风暴", [l("6")] = "能量涌动", [l("7")] = "致死打击", [l("8")] = "腐烂之风", [l("9")] = "恐怖怒吼", [l("10")] = "快速射击", [l("11")] = "灾灭之矛", [l("12")] = "暴烈冲锋", [l("13")] = "撕裂猛击", [l("14")] = "野蛮打击", [l("15")] = "狂怒风暴", [l("16")] = "石雹", [l("17")] = "时光加速", [l("18")] = "时光利刃", [l("19")] = "永恒宝珠", [l("20")] = "倒转时光流", [l("21")] = "采掘冲击", [l("22")] = "毁灭猛击", [l("23")] = "召唤灼烧元素", [l("24")] = "燃炎野心", [l("25")] = "地狱烈火", [l("26")] = "雷霆一击", [l("27")] = "闪电风暴", [l("28")] = "风暴猛击", [l("29")] = "烈焰喷溅", [l("30")] = "挫志怒吼", [l("31")] = "秘法蒸汽", [l("32")] = "狂野喷发", [l("33")] = "奥术之怒", [l("34")] = "奥术重击", [l("35")] = "破冰者", [l("36")] = "能量无常", [l("37")] = "召唤龙裔影像", [l("38")] = "奥术顺劈", [l("39")] = "肩部猛击", [l("40")] = "兽性怒吼", [l("41")] = "冰霜炸弹", [l("42")] = "尖刺甲壳", [l("43")] = "匕首投掷", [l("44")] = "投石", [l("45")] = "雷霆震击", [l("46")] = "锯齿撕咬", [l("47")] = "顺劈斩", [l("48")] = "毁灭践踏", [l("49")] = "音速爆裂", [l("50")] = "不稳定的灰烬", [l("51")] = "血腥啃噬", [l("52")] = "狰狞蔑笑", [l("53")] = "恶毒爪击", [l("54")] = "狂伤", [l("55")] = "剑刃风暴", [l("56")] = "爆炸之种", [l("57")] = "裂树击", [l("58")] = "风暴斩击", [l("59")] = "致命狂风", [l("60")] = "驱除闯入者", [l("61")] = "啄击", [l("62")] = "阵风", [l("63")] = "鸟群之唤", [l("64")] = "狂野啄击", [l("65")] = "断体猛击", [l("66")] = "裂隙之息", [l("67")] = "奥术驱除", [l("68")] = "力量真空", [l("69")] = "岩石飞弹", [l("70")] = "钢铁弹幕", [l("71")] = "暴雨", [l("72")] = "长矛乱舞", [l("73")] = "爆裂狂风", [l("74")] = "电荷涌动", [l("75")] = "虹吸能量", [l("76")] = "元素集中", [l("77")] = "西风的召唤", [l("78")] = "压制蛙鸣", [l("79")] = "剧毒废气", [l("80")] = "海洋吐息", [l("81")] = "冰川涌动", [l("82")] = "迅捷洪流", [l("83")] = "沸腾之怒", [l("84")] = "液态屏障", [l("85")] = "风暴狂怒", [l("86")] = "注能液滴", [l("87")] = "紊流", [l("88")] = "能量过载", [l("89")] = "眩晕", [l("90")] = "回旋之怒", [l("91")] = "滚石", [l("92")] = "魔网幼苗", [l("93")] = "尖鸣", [l("94")] = "禁断知识", [l("95")] = "归零践踏", [l("96")] = "痛苦哀嚎", [l("97")] = "召唤原始雷云", [l("98")] = "喷溅", [l("99")] = "纠缠凝视", [l("100")] = "恶意啄击", [l("101")] = "震荡打击", [l("102")] = "狂怒发作", [l("103")] = "大猫小憩", [l("104")] = "金色屏障", [l("105")] = "疑之焰", [l("106")] = "残阳西沉踢", [l("107")] = "扫堂腿", [l("108")] = "穿刺之角", [l("109")] = "撕裂", [l("110")] = "诸神黄昏", [l("111")] = "狂野之剑", [l("112")] = "设防", [l("113")] = "压制打击", [l("114")] = "充能之击", [l("115")] = "充能站", [l("116")] = "封印魔法", [l("117")] = "发送信号", [l("118")] = "共鸣挥砍", [l("119")] = "奥术锁定", [l("120")] = "庄严静夜合剂", [l("121")] = "游移余烬", [l("122")] = "眼球风暴", [l("123")] = "邪能引爆", [l("124")] = "凶暴", [l("125")] = "重压跳跃", [l("126")] = "震荡波", [l("127")] = "痛苦尖啸", [l("128")] = "剑刃旋风", [l("129")] = "末日迫近", [l("130")] = "地狱喷发", [l("131")] = "强烈燃烧", [l("132")] = "枯萎灵魂", [l("133")] = "暗影箭雨", [l("134")] = "切割漩涡", [l("135")] = "穿刺风暴", [l("136")] = "剑刃奔涌", [l("137")] = "迅捷之风", [l("138")] = "咒法屏障", [l("139")] = "法术冰霜吐息", [l("140")] = "变迁之风", [l("141")] = "封印魔法", [l("142")] = "吸取魔力", [l("143")] = "灼热凝视", [l("144")] = "领地展示", [l("145")] = "召唤煞", [l("146")] = "青龙猛袭", [l("147")] = "激励", [l("148")] = "星界旋风", [l("149")] = "凶恶猛扑", [l("150")] = "邪恶伏击", [l("151")] = "压制狂风", [l("152")] = "震耳尖啸", [l("153")] = "奥术裂隙", [l("154")] = "法力炸弹", [l("155")] = "恶性病原体", [l("156")] = "分枝", [l("157")] = "星界吐息", [l("158")] = "暗影愈合", [l("159")] = "惊扰亡魂", [l("160")] = "骨疽爆裂", [l("161")] = "身体碾压", [l("162")] = "死尸之息", [l("163")] = "虚空脉冲", [l("164")] = "虚空爆发", [l("165")] = "怨毒", [l("166")] = "法力虚空", [l("167")] = "能量炸弹", [l("168")] = "灵魂窃取", [l("169")] = "恶臭喷吐", [l("170")] = "猎人印记", [l("171")] = "召唤狂风", [l("172")] = "风暴之盾", [l("173")] = "风暴", [l("174")] = "闪电打击", [l("175")] = "沉重挥砍", [l("176")] = "亡者鸣唱", [l("177")] = "幽魂飞跃", [l("178")] = "残杀", [l("179")] = "劈地者", [l("180")] = "雷霆打击", [l("181")] = "强力一击", [l("182")] = "充能脉冲", [l("183")] = "连环爆裂", [l("184")] = "致死劈砍", [l("185")] = "穿甲", [l("186")] = "风暴之眼", [l("187")] = "圣洁庇护", [l("188")] = "低沉践踏", [l("189")] = "掠食飞扑", [l("190")] = "乱爪狂扫", [l("191")] = "挫志嚎叫", [l("192")] = "召唤先祖", [l("193")] = "邪炽冲刺", [l("194")] = "获得护盾！", [l("195")] = "诸神黄昏", [l("196")] = "击碎长枪", [l("197")] = "明光风暴", [l("198")] = "符文烙印", [l("199")] = "腐化涟漪", [l("200")] = "溅射", [l("201")] = "穿刺", [l("202")] = "亵渎咆哮", [l("203")] = "粉碎灵魂", [l("204")] = "湮灭箭雨", [l("205")] = "放血扫击", [l("206")] = "震地猛击", [l("207")] = "泰坦之拳", [l("208")] = "熔火隐没", [l("209")] = "肚腹猛击", [l("210")] = "狼吞虎咽", [l("211")] = "舒心海潮", [l("212")] = "浪潮分裂", [l("213")] = "剧毒陷阱", [l("214")] = "尖啸", [l("215")] = "屠戮标记", [l("216")] = "野蛮冲撞", [l("217")] = "妖诡图腾", [l("218")] = "强效治疗湍流", [l("219")] = "召唤鞭笞者", [l("220")] = "召唤图腾", [l("221")] = "践踏", [l("222")] = "缠绕之藤", [l("223")] = "藤蔓鞭挞", [l("224")] = "猛烈旋风", [l("225")] = "野性爪击", [l("226")] = "嗜血冲锋", [l("227")] = "血腥之怒", [l("228")] = "白骨箭", [l("229")] = "骨箭乱射", [l("230")] = "重殴", [l("231")] = "主人的召唤", [l("232")] = "投掷肉类", [l("233")] = "一枪毙命", [l("234")] = "诱捕陷阱", [l("235")] = "召唤土狼", [l("236")] = "腾跃", [l("237")] = "减速撕咬", [l("238")] = "腐爆图腾", [l("239")] = "腐朽打击", [l("240")] = "残暴猛击", [l("241")] = "鲁莽狂怒", [l("242")] = "疾病之咬", [l("243")] = "噬咬", [l("244")] = "狂野顺劈", [l("245")] = "沉重之箭", [l("246")] = "战船掠夺！", [l("247")] = "弹射之盾", [l("248")] = "撼地图腾", [l("249")] = "嗜血", [l("250")] = "大地碎片", [l("251")] = "严酷", [l("252")] = "共鸣宝珠", [l("253")] = "泰坦强化", [l("254")] = "大地结界", [l("255")] = "飞扑", [l("256")] = "壁垒猛击", [l("257")] = "熔火屏障", [l("258")] = "熔火军团", [l("259")] = "束缚之矛", [l("260")] = "掷骨", [l("261")] = "愈合泥土", [l("262")] = "巨龙打击", [l("263")] = "水晶尖刺", [l("264")] = "岩浆护盾", [l("265")] = "残忍打击", [l("266")] = "熔火之心", [l("267")] = "穿刺骨髓", [l("268")] = "龙骨之斧", [l("269")] = "回荡猛击", [l("270")] = "炽热挥舞", [l("271")] = "穿刺碎片", [l("272")] = "暴怒打击", [l("273")] = "碾碎", [l("274")] = "碎地", [l("275")] = "山崩", [l("276")] = "碎石", [l("277")] = "蛆虫呼唤", [l("278")] = "焦皮", [l("279")] = "燃烧之恨", [l("280")] = "锯齿圆盘", [l("281")] = "束缚", [l("282")] = "狂乱", [l("283")] = "碎裂", [l("284")] = "尖刺之舌", [l("285")] = "吞噬", [l("286")] = "反手猛击", [l("287")] = "震耳咆哮", [l("288")] = "利刃哀鸣", [l("289")] = "治疗药膏", [l("290")] = "复苏之酒", [l("291")] = "决斗冲刺", [l("292")] = "捕鼠陷阱", [l("293")] = "盲目怒火", [l("294")] = "利刃弹幕", [l("295")] = "“蕉”燥狂攻", [l("296")] = "飞刃投掷", [l("297")] = "重填装弹", [l("298")] = "砸桶", [l("299")] = "信风活力", [l("300")] = "投掷巨石", [l("301")] = "重新武装", [l("302")] = "狂鲨飓风", [l("303")] = "痛苦的激励", [l("304")] = "注铅骰子：全体听令！", [l("305")] = "回旋锋匕", [l("306")] = "注铅骰子：战舰", [l("307")] = "湿滑肥皂", [l("308")] = "战吼", [l("309")] = "鲜血收割", [l("310")] = "狂野顺劈斩", [l("311")] = "带钩长矛", [l("312")] = "黑暗复苏", [l("313")] = "抓钩诱捕", [l("314")] = "戈霍恩之赐", [l("315")] = "音速尖啸", [l("316")] = "嗜血成性", [l("317")] = "邪恶狂暴", [l("318")] = "召唤灵魂汲取图腾", [l("319")] = "血之镜像", [l("320")] = "蔓延腐化", [l("321")] = "喋血盛筵", [l("322")] = "冲锋", [l("323")] = "颠覆", [l("324")] = "强效治疗术", [l("325")] = "过载接地场", [l("326")] = "撼地猛击", [l("327")] = "鼓舞", [l("328")] = "治疗之泉", [l("329")] = "雾气形态", [l("330")] = "静电缠握", [l("331")] = "谜云卫护", [l("332")] = "风暴边缘", [l("333")] = "召唤风暴", [l("334")] = "山崩", [l("335")] = "熔岩波", [l("336")] = "岩浆雕刻", [l("337")] = i, [l("338")] = i, [l("339")] = i, [l("340")] = i } j["StunUnitName"] = { [l("1")] = i, [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["DontStunUnitName"] = { [l("1")] = i, [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["StunSpellName"] = { [l("1")] = "黑暗治疗", [l("2")] = "圣光术", [l("3")] = "圣光闪现", [l("4")] = "治疗链", [l("5")] = "治疗波", [l("6")] = "家畜", [l("7")] = "变形术", [l("8")] = "恐吓", [l("9")] = "暗影箭雨", [l("10")] = "宁静", [l("11")] = "治疗之触", [l("12")] = "愈合", [l("13")] = "治疗术", [l("14")] = "快速治疗", [l("15")] = "恐惧", [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i, [l("21")] = i, [l("22")] = i, [l("23")] = i, [l("24")] = i, [l("25")] = i, [l("26")] = i, [l("27")] = i, [l("28")] = i, [l("29")] = i, [l("30")] = i } j["SpeedUpSpellName"] = { [l("1")] = "冲刷", [l("2")] = "发芽", [l("3")] = "暴捶", [l("4")] = "下冲气流", [l("5")] = "龙息术", [l("6")] = "暗影碎击", [l("7")] = "粉碎急息", [l("8")] = "源生", [l("9")] = "追踪", [l("10")] = "永恒腐化", [l("11")] = "力量真空", [l("12")] = "肚腹猛击", [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["CrazyBuff"] = { [l("1")] = "召唤地狱火", [l("2")] = "召唤恶魔暴君", [l("3")] = "虚空传送门", [l("4")] = "复仇之怒", [l("5")] = "狂龙之怒", [l("6")] = "恶魔变形", [l("7")] = "虚空形态", [l("8")] = l("190319"), [l("9")] = "奥术强化", [l("10")] = "冰冷血脉", [l("11")] = "天神下凡", [l("12")] = "憎恶附肢", [l("13")] = "食尸鬼狂热", [l("14")] = "百发百中", [l("15")] = "屏气凝神", [l("16")] = "混乱之雨", [l("17")] = "恶魔之力", [l("18")] = "诡诈", [l("19")] = "暗影之刃", [l("20")] = "风火雷电", [l("21")] = "超凡之盟", [l("22")] = "狂暴", [l("23")] = "野性狼魂", [l("24")] = "呼啸狂风", [l("25")] = "升腾", [l("26")] = "瓦拉加尔之道", [l("27")] = "符文武器增效", [l("28")] = "奥术涌动", [l("29")] = "征伐", [l("30")] = "亡者大军", [l("31")] = l("102543"), [l("32")] = "化身：艾露恩之眷", [l("33")] = "风暴守护者", [l("34")] = "风暴元素", [l("35")] = "召唤黑眼", [l("36")] = "协同进攻", [l("37")] = "暗影之舞", [l("38")] = "消失", [l("39")] = "荒野的召唤", [l("40")] = "月蚀", [l("41")] = "日蚀", [l("42")] = i, [l("43")] = i, [l("44")] = i, [l("45")] = i, [l("46")] = i, [l("47")] = i, [l("48")] = i, [l("49")] = i, [l("50")] = i, [l("51")] = i, [l("52")] = i, [l("53")] = i, [l("54")] = i, [l("55")] = i, [l("56")] = i, [l("57")] = i, [l("58")] = i, [l("59")] = i, [l("60")] = i } j["HuLueUnitName"] = { [l("1")] = "潜伏风暴", [l("2")] = "虚体生物", [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } j["WR_CreateMacroButton"] = function(m, n, o) j["MacroButton"] = j["CreateFrame"]("Button", m, j["UIParent"], "SecureActionButtonTemplate") j["MacroButton"]["RegisterForClicks"](j["MacroButton"], "AnyDown", "AnyUp") j["MacroButton"]["SetAttribute"](j["MacroButton"], "type", "macro") j["MacroButton"]["SetAttribute"](j["MacroButton"], "macrotext", o) j["SetBinding"](n, "CLICK " .. m .. ":LeftButton") end; j["WR_CreateMacro"] = function(m, n, o) local p; local q = g; for r = l("1"), j["MAX_ACCOUNT_MACROS"] + j["MAX_CHARACTER_MACROS"] do local s = j["GetMacroInfo"](r) if s == m then p = r; break end end if p then j["EditMacro"](p, m, l("1"), o) else if j["GetNumMacros"]() < j["MAX_ACCOUNT_MACROS"] then j["CreateMacro"](m, l("1"), o, h) else q = f; j["print"]( "佳佳提示：宏数量已达上限，请删除通用宏内一些无用的宏，然后重载游戏。") end end if q then local t = j["CreateFrame"]("Button", m, j["UIParent"], "SecureActionButtonTemplate") t["RegisterForClicks"](t, "AnyDown", "AnyUp") t["SetAttribute"](t, "type", "macro") t["SetAttribute"](t, "macro", m) j["SetBinding"](n, "CLICK " .. m .. ":LeftButton") return t end end; j["WR_Initialize"] = function() j["C_LFGList"]["GetAvailableLanguageSearchFilter"] = function() local u = {} u[l("1")] = "zhCN" u[l("2")] = "zhTW" u[l("3")] = "enUS" return u end; j["WR_AllUnitRange"] = h; j["WR_BuffInfo_Player"] = h; j["WR_BuffInfo_Target"] = h; j["WR_BuffInfo_Focus"] = h; j["WR_BuffInfo_Mouseover"] = h; j["WR_BuffInfo_Pet"] = h; j["WR_BuffInfo_Party"] = {} for r = l("1"), l("4"), l("1") do j["WR_BuffInfo_Party"][r] = h end j["WR_BuffInfo_Boss"] = {} for r = l("1"), l("5"), l("1") do j["WR_BuffInfo_Boss"][r] = h end j["WR_BuffInfo_Raid"] = {} for r = l("1"), l("40"), l("1") do j["WR_BuffInfo_Raid"][r] = h end j["WR_BuffInfo_Nameplate"] = {} for r = l("1"), l("40"), l("1") do j["WR_BuffInfo_Nameplate"][r] = h end j["WR_BuffInfo_PlayerTarget"] = h; j["WR_BuffInfo_TargetTarget"] = h; j["WR_BuffInfo_FocusTarget"] = h; j["WR_BuffInfo_MouseoverTarget"] = h; j["WR_BuffInfo_PetTarget"] = h; j["WR_BuffInfo_PartyTarget"] = {} for r = l("1"), l("4"), l("1") do j["WR_BuffInfo_PartyTarget"][r] = h end j["WR_BuffInfo_BossTarget"] = {} for r = l("1"), l("5"), l("1") do j["WR_BuffInfo_BossTarget"][r] = h end j["WR_BuffInfo_RaidTarget"] = {} for r = l("1"), l("40"), l("1") do j["WR_BuffInfo_RaidTarget"][r] = h end j["WR_BuffInfo_NameplateTarget"] = {} for r = l("1"), l("40"), l("1") do j["WR_BuffInfo_NameplateTarget"][r] = h end j["WR_DebuffInfo_Player"] = h; j["WR_DebuffInfo_Target"] = h; j["WR_DebuffInfo_Focus"] = h; j["WR_DebuffInfo_Mouseover"] = h; j["WR_DebuffInfo_Pet"] = h; j["WR_DebuffInfo_Party"] = {} for r = l("1"), l("4"), l("1") do j["WR_DebuffInfo_Party"][r] = h end j["WR_DebuffInfo_Boss"] = {} for r = l("1"), l("5"), l("1") do j["WR_DebuffInfo_Boss"][r] = h end j["WR_DebuffInfo_Raid"] = {} for r = l("1"), l("40"), l("1") do j["WR_DebuffInfo_Raid"][r] = h end j["WR_DebuffInfo_Nameplate"] = {} for r = l("1"), l("40"), l("1") do j["WR_DebuffInfo_Nameplate"][r] = h end j["WR_DebuffInfo_PlayerTarget"] = h; j["WR_DebuffInfo_TargetTarget"] = h; j["WR_DebuffInfo_FocusTarget"] = h; j["WR_DebuffInfo_MouseoverTarget"] = h; j["WR_DebuffInfo_PetTarget"] = h; j["WR_DebuffInfo_PartyTarget"] = {} for r = l("1"), l("4"), l("1") do j["WR_DebuffInfo_PartyTarget"][r] = h end j["WR_DebuffInfo_BossTarget"] = {} for r = l("1"), l("5"), l("1") do j["WR_DebuffInfo_BossTarget"][r] = h end j["WR_DebuffInfo_RaidTarget"] = {} for r = l("1"), l("40"), l("1") do j["WR_DebuffInfo_RaidTarget"][r] = h end j["WR_DebuffInfo_NameplateTarget"] = {} for r = l("1"), l("40"), l("1") do j["WR_DebuffInfo_NameplateTarget"][r] = h end end; j["WR_GetGCD"] = function(v) local w = l("0") local x, y, z = j["GetSpellCooldown"](v) if x ~= h then if x == l("0") then w = l("0") else w = x + y - j["GetTime"]() end end local A, A, A, A, B, A, A, A, A = j["UnitCastingInfo"]("player") if B ~= h and B / l("1000") - j["GetTime"]() > w then return B / l("1000") - j["GetTime"]() else return w end end; j["WR_SpellUsable"] = function(C) if j["WR_GetGCD"](C) <= j["GCD"] and j["IsUsableSpell"](C) then return g end return f end; j["WR_GetMaxLatency"] = function() local D, E, F, G = j["GetNetStats"]() if F > G then return F / l("1000") else return G / l("1000") end end; j["WR_GetMaxGCD"] = function(H) return H / (l("1") + j["GetHaste"]() / l("100")) end; j["WR_GetSpellValue"] = function(v, I, J) local K = "([%d,%.]+)" if I ~= h then K = I .. K end if J ~= h then K = K .. J end local L = j["GetSpellDescription"](v) if L ~= h then L = L["match"](L, K) end if L ~= h then L = L["gsub"](L, ",", i) end if L ~= h then local M = j["tonumber"](L) if j["type"](M) == "number" then return M end end return l("0") end; j["WR_InTraining"] = function() for A, N in j["ipairs"](j["TrainingName"]) do if j["UnitName"]("target") == N then return g end end return f end; j["WR_PartyIsDeath"] = function() for r = l("1"), l("4"), l("1") do if j["UnitExists"]("party" .. r) and j["UnitIsDead"]("party" .. r) then return g end end for r = l("1"), l("40"), l("1") do if j["UnitExists"]("raid" .. r) and j["UnitIsDead"]("raid" .. r) then return g end end return f end; j["WR_Unbind"] = function(O) if j["WR_GetUnitDebuff"](O, j["BindName"]) then return g end return f end; j["WR_YuFangDingShen"] = function() if j["WR_GetRangeSpellTime"](l("40"), j["YuFangDingShenSpell"]) < l("1.5") then return g end end; j["WR_GetUnitBuff"] = function(O, P, Q, R) local r; for r = l("1"), l("40"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a0, a1, a2, a3 = j["UnitBuff"](O, r) if s == h then break end if (Q == h or T >= Q) and (R == h or V - j["GetTime"]() <= R) then if j["type"](P) == "table" then for A, a4 in j["pairs"](P) do if s == a4 or Z == a4 then return g end end else if s == P or Z == P then return g end end end end return f end; j["WR_GetUnitDebuff"] = function(O, a5, a6, R) local r; for r = l("1"), l("40"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitDebuff"](O, r) if s == h then break end if (a6 == h or T >= a6) and (R == h or V - j["GetTime"]() <= R) then if j["type"](a5) == "table" then for A, a8 in j["pairs"](a5) do if s == a8 or Z == a8 then return g end end else if s == a5 or Z == a5 then return g end end end end return f end; j["WR_UnitAssistDebuff"] = function(O, R) return j["WR_GetUnitDebuff"](O, j["AssistDebuffName"], l("1"), R) end; j["WR_Mustheal"] = function(O) local a9 = l("1") if j["WR_GetUnitDebuff"](O, j["MustHealSpellName"]) or j["WR_UnitAssistDebuff"](O) then if j["UnitHealth"](O) / j["UnitHealthMax"](O) < l("0.9") then return g end end local aa, A = j["UnitName"](O) if aa == "卡多雷精魂" or aa == "焦化树人" then if j["UnitHealth"](O) / j["UnitHealthMax"](O) < l("0.9") then return g end end return f end; j["WR_GetUnitBuffType"] = function(O, ab) local r; for r = l("1"), l("40"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitBuff"](O, r) if s == h then break end if s == "无穷饥渴" and T < l("6") then return f end if s == "窃取时间" then return f end if U == ab then return g end end return f end; j["WR_UnitDebuffType"] = function(O, ac) local r; for r = l("1"), l("40"), l("1") do local ad = g; local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitDebuff"](O, r) if s == h then break end if U == ac and ad == g then return g, T end end return f end; j["WR_GetUnitBuffInfo"] = function(O, P, ae) if not j["UnitExists"](O) then return l("0"), l("0"), l("0") end local af = l("0") local Q = l("0") local ag = l("0") for r = l("1"), l("40"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitBuff"](O, r) if P ~= h and (s == P or Z == P) and (ae ~= g or ae == g and W == "player") then af = V - j["GetTime"]() if T > l("0") then Q = T else Q = l("1") end ag = ag + l("1") end end return af, Q, ag end; j["WR_GetUnitDebuffInfo"] = function(O, a5, ae) if not j["UnitExists"](O) then return l("0"), l("0"), l("0") end local ah = l("0") local a6 = l("0") local ai = l("0") for r = l("1"), l("200"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitDebuff"](O, r) if Z == h then break end if a5 ~= h and (s == a5 or Z == a5) and (ae ~= g or ae == g and W == "player") then ah = V - j["GetTime"]() if T > l("0") then a6 = T else a6 = l("1") end ai = ai + l("1") end end return ah, a6, ai end; j["WR_GetUnitBuffTime"] = function(O, P, ae) return j["select"](l("1"), j["WR_GetUnitBuffInfo"](O, P, ae)) end; j["WR_GetUnitBuffCount"] = function(O, P, ae) return j["select"](l("2"), j["WR_GetUnitBuffInfo"](O, P, ae)) end; j["WR_GetUnitBuffSum"] = function(O, P, ae) return j["select"](l("3"), j["WR_GetUnitBuffInfo"](O, P, ae)) end; j["WR_GetUnitDebuffTime"] = function(O, a5, ae) return j["select"](l("1"), j["WR_GetUnitDebuffInfo"](O, a5, ae)) end; j["WR_GetUnitDebuffCount"] = function(O, a5, ae) return j["select"](l("2"), j["WR_GetUnitDebuffInfo"](O, a5, ae)) end; j["WR_GetUnitDebuffSum"] = function(O, a5, ae) return j["select"](l("3"), j["WR_GetUnitDebuffInfo"](O, a5, ae)) end; j["SLASH_RL1"] = "/rl" j["SlashCmdList"]["RL"] = function() j["ReloadUI"]() end; j["WR_GetHealthMaxWeightUnit"] = function() local v = "Nothing" local aj = f; local ak = f; local al = f; local am = f; if j["IsPlayerSpell"](l("1152")) == g then v = "纯净术" al = g; am = g end if j["IsPlayerSpell"](l("4987")) == g then v = "清洁术" al = g; am = g; aj = g end if j["IsPlayerSpell"](l("528")) == g then v = "祛病术" al = g end if j["IsPlayerSpell"](l("552")) == g then v = "驱除疾病" al = g end if j["IsPlayerSpell"](l("988")) == g then v = "驱散魔法" aj = g end if v == "Nothing" then return "Nothing" else if j["HealthMaxWeightUnitload"] ~= g then local an = "|cffffffff当前天赋可驱散: " if aj == g then an = an .. "|cff00adf0魔法 " end if ak == g then an = an .. "|cffffdf00诅咒 " end if al == g then an = an .. "|cffff5040疾病 " end if am == g then an = an .. "|cff0cbd0c中毒 " end j["HealthMaxWeightUnitload"] = g end end local ao, ap; local aq = l("0") local ar = l("0") local as = l("0") local at = {} local au = "Nothing" local av = -l("0") local aw; for r = l("1"), l("4"), l("1") do at[r] = l("0") end local ax = {} for r = l("1"), l("40"), l("1") do ax[r] = l("0") end local x, y, z, ay = j["GetSpellCooldown"](v) local az = x + y - j["GetTime"]() if j["UnitClassBase"]("player") == "PALADIN" then aw = "target" if j["UnitExists"](aw) == g and j["UnitIsDeadOrGhost"](aw) == f and not j["UnitCanAttack"](aw, "player") and j["WR_GetUnitRange"](aw) <= l("40") then as = (j["UnitHealth"](aw) + (j["UnitGetIncomingHeals"](aw) or l("0"))) / j["UnitHealthMax"](aw) * l("100") if as > l("100") then as = l("100") end as = l("100") - as; if j["UnitClassBase"]("player") == "PALADIN" then if j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) > l("3") then if j["UnitAffectingCombat"](aw) then as = as - l("100") else as = as - l("10") end end if (j["WRSet"]["SS_ZLMS"] == l("2") or j["WRSet"]["SS_ZLMS"] == l("3")) and j["UnitIsUnit"]("target", aw) then as = as + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("4") then if j["UnitGroupRolesAssigned"](aw) == "TANK" and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then as = as + l("100") end end if j["WRSet"]["SS_ZLMS"] == l("10") then if j["UnitGroupRolesAssigned"](aw) == "TANK" then as = as - l("100") end end end if j["WR_GetUnitDebuffInfo"](aw, "血肉成灰") ~= l("0") then as = as + l("50") end if j["OutOfSight_ErrorMessageTime"] ~= h and j["OutOfSight_FocusID"] ~= h and j["GetTime"]() - j["OutOfSight_ErrorMessageTime"] < l("0.2") and j["OutOfSight_FocusID"] == j["UnitGUID"](aw) then if not j["UnitClassBase"]("player") == "PALADIN" or j["WRSet"]["SS_ZLMS"] == l("1") then as = as - l("2000") end end as = j["math"]["ceil"](as) if av <= as then av = as; au = "target" end end end if j["WR_GetInRiadOrParty"]() ~= "raid" then aw = "player" if j["UnitExists"](aw) == g and j["UnitIsDeadOrGhost"](aw) == f and j["UnitIsCharmed"](aw) == f and not j["UnitCanAttack"](aw, "player") == g and j["WR_GetUnitRange"](aw) <= l("40") then ar = (j["UnitHealth"](aw) + j["UnitGetIncomingHeals"](aw)) / j["UnitHealthMax"](aw) * l("100") if ar > l("100") then ar = l("100") end ar = l("100") - ar; local aA = (j["UnitHealth"](aw) + j["UnitGetIncomingHeals"](aw)) / j["UnitHealthMax"](aw) if aA < l("0.50") then ar = ar + (l("50") - aA * l("100")) / l("2") end if j["UnitClassBase"]("player") == "PALADIN" and j["WR_GetInRiadOrParty"]() == "raid" and (j["SpellValue_SGS"] ~= h and j["UnitHealthMax"](aw) - j["UnitHealth"](aw) > j["SpellValue_SGS"]) and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) == l("0") and aA < l("0.7") then ar = ar + l("100") end if j["UnitClassBase"]("player") == "PALADIN" then if (j["WRSet"]["SS_ZLMS"] == l("2") or j["WRSet"]["SS_ZLMS"] == l("3")) and j["UnitIsUnit"]("target", aw) then ar = ar + l("1000") end end if j["WR_GetUnitDebuffInfo"](aw, "血肉成灰") ~= l("0") then ar = ar + l("50") end ar = j["math"]["ceil"](ar) if av <= ar then av = ar; au = "player" end end end if j["WR_GetInRiadOrParty"]() == "party" then for r = l("1"), l("4"), l("1") do aw = "party" .. r; if j["UnitExists"](aw) == g and j["UnitIsDeadOrGhost"](aw) == f and j["UnitIsCharmed"](aw) == f and not j["UnitCanAttack"](aw, "player") == g and j["WR_GetUnitRange"](aw) <= l("40") then at[r] = (j["UnitHealth"](aw) + (j["UnitGetIncomingHeals"](aw) or l("0"))) / j["UnitHealthMax"](aw) * l("100") if at[r] > l("100") then at[r] = l("100") end at[r] = l("100") - at[r] if j["UnitClassBase"]("player") == "PALADIN" then if j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) > l("3") then if j["UnitAffectingCombat"](aw) then at[r] = at[r] - l("100") else at[r] = at[r] - l("10") end end if (j["WRSet"]["SS_ZLMS"] == l("2") or j["WRSet"]["SS_ZLMS"] == l("3")) and j["UnitIsUnit"]("target", aw) then at[r] = at[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("4") then if j["WR_NumIsTank"](r) and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then at[r] = at[r] + l("100") end end if j["WRSet"]["SS_ZLMS"] == l("10") then if j["WR_NumIsTank"](r) then at[r] = at[r] - l("1000") end end end if j["UnitClassBase"]("player") == "PRIEST" then if j["WRSet"]["JL_ZLMS"] == l("2") then if j["WR_NumIsTank"](r) then at[r] = at[r] + l("100") end elseif j["WRSet"]["JL_ZLMS"] == l("3") then if j["WR_NumIsTank"](r) then at[r] = at[r] - l("100") end end end if j["WR_GetUnitDebuffInfo"](aw, "血肉成灰") ~= l("0") then at[r] = at[r] + l("50") end if j["OutOfSight_ErrorMessageTime"] ~= h and j["OutOfSight_FocusID"] ~= h and j["GetTime"]() - j["OutOfSight_ErrorMessageTime"] < l("0.2") and j["OutOfSight_FocusID"] == j["UnitGUID"](aw) then at[r] = at[r] - l("2000") end at[r] = j["math"]["ceil"](at[r]) if av <= at[r] then av = at[r] au = "party" .. r end end end end if j["WR_GetInRiadOrParty"]() == "raid" then for r = l("1"), l("40"), l("1") do aw = "raid" .. r; if j["UnitExists"](aw) == g and j["UnitIsDeadOrGhost"](aw) == f and j["UnitIsCharmed"](aw) == f and not j["UnitCanAttack"](aw, "player") == g and j["WR_GetUnitRange"](aw) <= l("40") then ax[r] = (j["UnitHealth"](aw) + (j["UnitGetIncomingHeals"](aw) or l("0"))) / j["UnitHealthMax"](aw) * l("100") if ax[r] > l("100") then ax[r] = l("100") end ax[r] = l("100") - ax[r] if j["UnitClassBase"]("player") == "PALADIN" then if j["SpellValue_SGS"] ~= h and j["UnitHealthMax"](aw) - j["UnitHealth"](aw) > j["SpellValue_SGS"] and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) == l("0") and j["WR_NumIsTank"](r) then ax[r] = ax[r] + l("100") end if j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) > l("3") then if j["UnitAffectingCombat"](aw) then ax[r] = ax[r] - l("100") else ax[r] = ax[r] - l("10") end end if (j["WRSet"]["SS_ZLMS"] == l("2") or j["WRSet"]["SS_ZLMS"] == l("3")) and j["UnitIsUnit"]("target", aw) then ax[r] = ax[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("4") then if j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then if j["UnitIsUnit"]("player", aw) or j["WR_NumIsTank"](r) then ax[r] = ax[r] + l("1000") end end end if j["WRSet"]["SS_ZLMS"] == l("5") and r >= l("1") and r <= l("5") and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then ax[r] = ax[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("6") and r >= l("6") and r <= l("10") and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then ax[r] = ax[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("7") and r >= l("11") and r <= l("15") and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then ax[r] = ax[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("8") and r >= l("16") and r <= l("20") and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then ax[r] = ax[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("9") and r >= l("21") and r <= l("25") and j["WR_GetUnitBuffInfo"](aw, "圣光道标", g) <= l("3") then ax[r] = ax[r] + l("1000") end if j["WRSet"]["SS_ZLMS"] == l("10") then if j["WR_NumIsTank"](r) then ax[r] = ax[r] - l("1000") end end if (j["WR_GetUnitDebuffTime"](aw, l("66118")) ~= l("0") or j["WR_GetUnitDebuffTime"](aw, "吸血虫群") ~= l("0")) and j["WR_GetUnitDebuffTime"](aw, l("66013")) == l("0") and not j["WR_NumIsTank"](r) then ax[r] = ax[r] - l("1000") end end if j["UnitClassBase"]("player") == "PRIEST" then if not j["WR_Priest_XXCQ"] and j["UnitHealth"](aw) / j["UnitHealthMax"](aw) < l("0.4") and j["WR_SpellUsable"]("苦修") and j["WR_NumIsTank"](r) then ax[r] = ax[r] + l("100") end if j["WRSet"]["JL_ZLMS"] == l("2") then if j["UnitIsUnit"]("player", aw) or j["WR_NumIsTank"](r) then ax[r] = ax[r] + l("1000") end end if j["WRSet"]["JL_ZLMS"] == l("3") then if j["WR_NumIsTank"](r) then ax[r] = ax[r] - l("1000") end end if j["CiGuUnit"] ~= h then for aB = l("1"), l("5"), l("1") do if (j["WRSet"]["JL_CGZH"][aB] or j["JL_CGZH_selectedItems"][aB]) and j["CiGuUnit"][aB] == aw and j["WR_GetUnitDebuffTime"](aw, l("66013")) ~= l("0") then if j["WR_Priest_XXCQ"] then ax[r] = ax[r] + l("1000") else ax[r] = ax[r] + l("100") end end end end if j["WR_Priest_XXCQ"] and j["WR_GetUnitBuffInfo"](aw, "真言术：盾", g) > l("0") then ax[r] = ax[r] - l("30") end if (j["WR_GetUnitDebuffTime"](aw, l("66118")) ~= l("0") or j["WR_GetUnitDebuffTime"](aw, "吸血虫群") ~= l("0")) and j["WR_GetUnitDebuffTime"](aw, l("66013")) == l("0") then ax[r] = ax[r] - l("1000") end if j["OutOfSight_ErrorMessageTime"] ~= h and j["OutOfSight_FocusID"] ~= h and j["GetTime"]() - j["OutOfSight_ErrorMessageTime"] < l("0.2") and j["OutOfSight_FocusID"] == j["UnitGUID"](aw) then ax[r] = ax[r] - l("2000") end end if j["WR_GetUnitDebuffInfo"](aw, "血肉成灰") ~= l("0") then ax[r] = ax[r] + l("50") end ax[r] = j["math"]["ceil"](ax[r]) if av <= ax[r] then av = ax[r] au = "raid" .. r end end end end if j["MSG"] == l("1") then j["print"]("--权重列表--") local aC = "player:" .. ar .. "  " for r = l("1"), l("4"), l("1") do if j["UnitExists"]("party" .. r) == g then aC = aC .. "party" .. r .. ":" .. at[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("1"), l("5"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("6"), l("10"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("11"), l("15"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("16"), l("20"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("21"), l("25"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("26"), l("30"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("31"), l("35"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end aC = i; for r = l("36"), l("40"), l("1") do if j["UnitExists"]("raid" .. r) == g then aC = aC .. "raid" .. r .. ":" .. ax[r] .. "  " end end if aC ~= i then j["print"](aC) end j["print"]("最大权重单位:", au, ":", av, i) end if not j["wrfindbn_250314"] then end return au end; j["NPGUID"] = {} j["NPLevel"] = {} j["NPHP"] = {} j["NPMaxHealth"] = {} j["NPHealth"] = {} j["NPbegintime"] = {} j["NPdeathtime"] = {} j["WR_GetNPDeathTime"] = function() for r = l("1"), l("40"), l("1") do if j["UnitGUID"]("nameplate" .. r) == h or j["UnitAffectingCombat"]("nameplate" .. r) == f or j["UnitHealth"]("nameplate" .. r) == j["UnitHealthMax"]("nameplate" .. r) then j["NPGUID"][r] = h; j["NPLevel"][r] = h; j["NPHP"][r] = h; j["NPMaxHealth"][r] = h; j["NPHealth"][r] = h; j["NPbegintime"][r] = h; j["NPdeathtime"][r] = l("999") else if j["UnitGUID"]("nameplate" .. r) ~= h then j["NPGUID"][r] = j["UnitGUID"]("nameplate" .. r) end if j["UnitLevel"]("nameplate" .. r) ~= h and j["UnitLevel"]("nameplate" .. r) ~= l("0") then j["NPLevel"][r] = j["UnitLevel"]("nameplate" .. r) end if j["NPLevel"][r] ~= h and j["NPLevel"][r] > l("0") then local aD = j["UnitClassification"]("nameplate" .. r) if aD == "normal" or aD == "trivial" or aD == "minus" then j["NPHP"][r] = l("0.9999") elseif j["UnitGUID"]("nameplate" .. r) == j["UnitGUID"]("boss1") or j["UnitGUID"]("nameplate" .. r) == j["UnitGUID"]("boss2") or j["UnitGUID"]("nameplate" .. r) == j["UnitGUID"]("boss3") or j["UnitGUID"]("nameplate" .. r) == j["UnitGUID"]("boss4") or j["UnitGUID"]("nameplate" .. r) == j["UnitGUID"]("boss5") then j["NPHP"][r] = l("0.9999") else j["NPHP"][r] = l("0.9999") end elseif j["NPLevel"][r] ~= h and j["NPLevel"][r] < l("0") then j["NPHP"][r] = l("0.9999") end if j["UnitHealthMax"]("nameplate" .. r) ~= h then j["NPMaxHealth"][r] = j["UnitHealthMax"]("nameplate" .. r) end if j["UnitHealthMax"]("nameplate" .. r) ~= h and j["NPHP"][r] ~= h and j["UnitHealth"]("nameplate" .. r) ~= h and j["UnitHealthMax"]("nameplate" .. r) * j["NPHP"][r] > j["UnitHealth"]("nameplate" .. r) then if j["NPbegintime"][r] == h then j["NPbegintime"][r] = j["GetTime"]() end if j["NPHealth"][r] == h then j["NPHealth"][r] = j["UnitHealth"]("nameplate" .. r) end end if j["NPGUID"][r] ~= h and j["NPbegintime"][r] ~= h and j["NPHealth"][r] ~= h and j["NPHealth"][r] > j["UnitHealth"]("nameplate" .. r) and j["NPbegintime"][r] < j["GetTime"]() then j["NPdeathtime"][r] = j["UnitHealth"]("nameplate" .. r) / ((j["NPHealth"][r] - j["UnitHealth"]("nameplate" .. r)) / (j["GetTime"]() - j["NPbegintime"][r])) end end end end; j["WR_GetUnitDeathTime"] = function(O) j["WR_GetNPDeathTime"]() local aE = l("0") if j["UnitGUID"](O) == h then aE = l("0") end for r = l("1"), l("40"), l("1") do if j["UnitGUID"](O) ~= h and j["UnitGUID"]("nameplate" .. r) ~= h and j["UnitGUID"](O) == j["UnitGUID"]("nameplate" .. r) and j["NPdeathtime"][r] ~= h then aE = j["NPdeathtime"][r] end end if j["MSG"] == l("1") then j["print"]("预计", O, "死亡时间:|cffffdf00", j["math"]["ceil"](aE), "|cffffffff秒") end if aE ~= h then return aE else return l("0") end end; j["WR_GetRangeAvgDeathTime"] = function(aF) if j["WR_InTraining"]() then return l("999") end j["WR_GetNPDeathTime"]() local aG, s, aH, aI, aJ; local aK = l("0") local T = l("0") local aL = l("0") for r = l("1"), l("40"), l("1") do s, aH = j["UnitName"]("nameplate" .. r) aJ = j["WR_GetUnitRange"]("nameplate" .. r) aG = j["UnitAffectingCombat"]("nameplate" .. r) if aJ ~= h and aG == g and j["NPdeathtime"][r] ~= h and s ~= h then if aJ <= aF and j["NPdeathtime"][r] > l("0") and j["NPdeathtime"][r] < l("999") and s ~= "爆炸物" then aK = aK + j["NPdeathtime"][r] T = T + l("1") end end end if T ~= l("0") then aL = aK / T end if j["MSG"] == l("1") then j["print"]("预计战斗结束时间:|cffffdf00", j["math"]["ceil"](aL), "|cffffffff秒") end return aL end; j["WR_GetUnitHP"] = function(O) if j["UnitExists"](O) == g then return j["UnitHealth"](O) / j["UnitHealthMax"](O) else return l("1") end end; j["WR_GetUnitLostHealth"] = function(O) if j["UnitExists"](O) and not j["UnitIsDead"](O) then return j["UnitHealthMax"](O) - j["UnitHealth"](O) else return l("0") end end; j["WR_PartyLostHP"] = function() local aM; local aN = l("0") local aK = l("0") aM = "player" if j["UnitExists"](aM) == g and j["UnitIsDead"](aM) == f and j["WR_GetUnitRange"](aM) <= l("40") then aN = aN + (j["UnitHealthMax"](aM) - j["UnitHealth"](aM)) / j["UnitHealthMax"](aM) aK = aK + l("1") end if j["WR_GetInRiadOrParty"]() == "party" then for r = l("1"), l("4"), l("1") do aM = "party" .. r; if j["UnitExists"](aM) == g and j["UnitIsDead"](aM) == f and j["WR_GetUnitRange"](aM) <= l("40") then aN = aN + (j["UnitHealthMax"](aM) - j["UnitHealth"](aM)) / j["UnitHealthMax"](aM) aK = aK + l("1") end end end if j["WR_GetInRiadOrParty"]() == "raid" then for r = l("1"), l("20"), l("1") do aM = "raid" .. r; if j["UnitExists"](aM) == g and j["UnitIsDead"](aM) == f and j["WR_GetUnitRange"](aM) <= l("40") then aN = aN + (j["UnitHealthMax"](aM) - j["UnitHealth"](aM)) / j["UnitHealthMax"](aM) aK = aK + l("1") end end end if aK == l("0") then aN = l("0") else aN = j["math"]["ceil"](aN / aK * l("100")) / l("100") end if j["MSG"] == l("1") then j["print"]("当前全队损失血量比例为:", aN) end return aN end; j["WR_PlayerMove"] = function() local aO, A, A, A = j["GetUnitSpeed"]("player") if aO == l("0") or j["WR_GetUnitDebuffInfo"]("player", l("63477")) > l("0") or j["WR_GetUnitDebuffInfo"]("player", l("62717")) > l("0") then return f else return g end end; j["WR_GetUnitRange"] = function(O) if j["wrupdata"] ~= l("20250320") then return l("999") end local aP = f; if j["WR_AllUnitRange"] == h then j["WR_AllUnitRange"] = {} else for A, aQ in j["ipairs"](j["WR_AllUnitRange"]) do if aQ["Id"] == j["UnitGUID"](O) then aP = g; return aQ["Range"] end end end if aP == f then if j["UnitExists"](O) then local aR = j["select"](l("2"), j["WR_LibRangeCheck3"]["GetRange"](j["WR_LibRangeCheck3"], O)) if aR == h then aR = l("999") end local aQ = { ["Id"] = j["UnitGUID"](O), ["Range"] = aR } j["table"]["insert"](j["WR_AllUnitRange"], aQ) return aR end end return l("999") end; j["WR_Invincible"] = function(O) if j["UnitClassification"](O) == "normal" or j["UnitClassification"](O) == "trivial" or j["UnitClassification"](O) == "minus" then return f end if not j["UnitExists"](O) then return f end if j["UnitName"](O) == "虚体生物" then return g end for r = l("1"), l("40"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitDebuff"](O, r) if s == h then break end local a9 = l("1") while j["InvincibleBuffName"][a9] ~= h and j["InvincibleBuffName"][a9] ~= i do if s == j["InvincibleBuffName"][a9] or Z == j["InvincibleBuffName"][a9] then return g end a9 = a9 + l("1") end end for r = l("1"), l("40"), l("1") do local s, S, T, U, y, V, W, X, Y, Z, _, a7, a1, a2, a3 = j["UnitBuff"](O, r) if s == h then break end local a9 = l("1") while j["InvincibleBuffName"][a9] ~= h and j["InvincibleBuffName"][a9] ~= i do if s == j["InvincibleBuffName"][a9] or Z == j["InvincibleBuffName"][a9] then return g end a9 = a9 + l("1") end end return f end; j["WR_GetRangeHarmUnitCount"] = function(aF, aS) local aT = l("0") for r = l("1"), l("40"), l("1") do local O = "nameplate" .. r; if j["WR_GetUnitRange"](O) <= aF and j["UnitCanAttack"]("player", O) and (aS ~= g or j["UnitAffectingCombat"](O) == aS) and j["UnitCreatureType"](O) ~= "图腾" and j["UnitCreatureType"](O) ~= "气体云雾" then if j["UnitName"](O) == "黑暗之核" then return l("0") end aT = aT + l("1") end end return aT end; j["WR_PartyInCombat"] = function() if j["UnitAffectingCombat"]("player") then return g end for r = l("1"), l("4") do local aw = "party" .. r; if j["UnitAffectingCombat"](aw) then return g end end return f end; j["WR_TargetInCombat"] = function(O) if not j["UnitExists"](O) or j["UnitIsDead"](O) or not j["UnitCanAttack"]("player", O) then return f end if j["UnitAffectingCombat"](O) or j["UnitAffectingCombat"]("player") or j["WR_GetUnitRange"]("target") <= l("5") then return g end if j["WR_InBossCombat"]() then return g end local r = l("1") while j["InCombatName"][r] ~= h and j["InCombatName"][r] ~= i do if j["UName"] == j["InCombatName"][r] then return g end r = r + l("1") end local aU, aV = j["IsInInstance"]() if not aU then return g end if j["UnitThreatSituation"]("player", "target") ~= h then return g end return f end; j["WR_InBossCombat"] = function() if j["UnitGUID"]("boss1") == h and j["UnitGUID"]("boss2") == h and j["UnitGUID"]("boss3") == h and j["UnitGUID"]("boss4") == h and j["UnitGUID"]("boss5") == h then return f else return g end end; j["WR_TargetIsBoss"] = function() local r; for r = l("1"), l("5"), l("1") do if j["UnitGUID"]("boss" .. r) ~= h and j["UnitGUID"]("target") ~= h and j["UnitGUID"]("boss" .. r) == j["UnitGUID"]("target") then return g end end return f end; j["WR_GetRangeSpellTime"] = function(aF, v, aW) local aX = l("999") for r = l("1"), l("40"), l("1") do if j["UnitExists"]("nameplate" .. r) then local aR = j["WR_GetUnitRange"]("nameplate" .. r) if aR ~= h and aR <= aF and (aW ~= g or j["UnitIsUnit"]("nameplate" .. r .. "target", "player")) then local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"]("nameplate" .. r) if s == h then s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"]("nameplate" .. r) end if s ~= h and B / l("1000") - j["GetTime"]() < aX then if j["type"](v) == "table" then for A, b3 in j["pairs"](v) do if s == b3 or Z == b3 then aX = B / l("1000") - j["GetTime"]() end end else if v == h or s == v or Z == v then aX = B / l("1000") - j["GetTime"]() end end end end end end return aX end; j["WR_GetUnitOutburstDebuffTime"] = function(O) for A, a8 in j["pairs"](j["OutburstDebuff"]) do local ah = j["WR_GetUnitDebuffTime"](O, a8) if ah ~= l("0") then return ah end end return l("999") end; j["WR_GetPartyOutburstDebuffTime"] = function() local r; for r = l("1"), l("4"), l("1") do if j["UnitExists"]("party" .. r) then for A, b4 in j["pairs"](j["PartyOutburstDebuff"]) do local ah = j["WR_GetUnitDebuffTime"]("party" .. r, b4) if ah > l("0") then return ah end end end end for r = l("1"), l("40"), l("1") do if j["UnitExists"]("raid" .. r) then for A, b4 in j["pairs"](j["PartyOutburstDebuff"]) do local ah = j["WR_GetUnitDebuffTime"]("raid" .. r, b4) if ah > l("0") then return ah end end end end return l("999") end; j["WR_ResistOutburstTime"] = function() local b5 = j["WR_GetRangeSpellTime"](l("45"), j["OutburstAoe"]) if b5 < l("999") then return b5 end local b6 = j["WR_GetUnitOutburstDebuffTime"]("player") if b6 < l("999") then return b6 end local b7 = j["WR_GetPartyOutburstDebuffTime"]() if b7 < l("999") then return b7 end local b8 = j["WR_GetRangeSpellTime"](l("45"), j["OutburstCasting"], g) if b8 < l("999") then return b8 end j["WR_DangerSpellTime"]() local b9; if j["Time"] == h then b9 = l("5") else b9 = j["Time"] end if j["SF_CastTime"] ~= h then if l("6") - (j["GetTime"]() - j["SF_CastTime"]) > l("0") then return l("6") - (j["GetTime"]() - j["SF_CastTime"]) end end if j["QFJ_CastTime"] ~= h then if l("1.5") - (j["GetTime"]() - j["QFJ_CastTime"]) > l("0") then return l("1.5") - (j["GetTime"]() - j["QFJ_CastTime"]) end end if j["WL_CastTime"] ~= h then if l("0.5") - (j["GetTime"]() - j["WL_CastTime"]) > l("0") then return l("0.5") - (j["GetTime"]() - j["WL_CastTime"]) end end if j["JSSP_CastTime"] ~= h then if l("0.5") - (j["GetTime"]() - j["JSSP_CastTime"]) > l("0") then return l("0.5") - (j["GetTime"]() - j["JSSP_CastTime"]) end end return l("999") end; j["WR_ResistSustained"] = function(ba) if ba == h or j["UnitHealth"]("player") / j["UnitHealthMax"]("player") <= ba then local bb = j["WR_GetRangeSpellTime"](l("45"), j["SustainedAoe"]) if bb < l("999") then return g end if j["WR_GetUnitDebuff"]("player", j["SustainedDebuff"]) then return g end for r = l("1"), l("40"), l("1") do if j["UnitExists"]("nameplate" .. r) then if j["WR_GetUnitBuff"]("nameplate" .. r, j["SustainedBuff"]) then return g end for A, N in j["pairs"](j["NecroblastName"]) do if N == j["UnitName"]("nameplate" .. r) and j["UnitHealth"]("nameplate" .. r) / j["UnitHealthMax"]("nameplate" .. r) <= l("0.15") then return g end end end end end return f end; j["WR_MustDefenseTime"] = function() local bc = j["WR_ResistSustained"]() local bd = j["WR_ResistOutburstTime"]() if j["WR_GetUnitHP"]("player") <= l("0.35") and j["UnitAffectingCombat"]("player") then if bc or not j["WR_InBossCombat"]() then return l("0") end if bd < l("999") then return bd end end if bd < l("999") and (bc or j["WR_GetUnitDebuffCount"]("player", "音速易伤") >= l("2")) then return bd end local be = j["WR_GetRangeSpellTime"](l("45"), j["DangerOutburstAoe"]) if be < l("999") then return be end local bf = j["WR_GetRangeSpellTime"](l("45"), j["DangerSustainedAoe"]) if bf < l("999") then return l("0") end local bg = j["WR_GetRangeSpellTime"](l("45"), "熔炉之力") if bg > l("6") and bg < l("999") then return bg - l("6") end if j["UnitName"]("boss1") == "丹塔利纳克斯" and j["UnitCastingInfo"]("boss1") == "暗影箭雨" and j["WR_GetUnitDebuffCount"]("player", "拉文凯斯的遗产") == l("0") then return l("0") end if j["WR_GetUnitDebuff"]("player", j["DangerDebuff"], h, j["TempTime"]) then return l("0") end local bh = j["WR_GetRangeSpellTime"](l("45"), j["DangerSpellToMe"], g) if bh <= l("0.8") then return bh end j["WR_DangerSpellTime"]() if j["SF_CastTime"] ~= h then if l("6.2") - (j["GetTime"]() - j["SF_CastTime"]) > l("0") then return l("6.2") - (j["GetTime"]() - j["SF_CastTime"]) end end return l("999") end; j["WR_Escape"] = function() if not j["WR_PlayerMove"]() and j["UnitAffectingCombat"]("player") then if j["WR_GetRangeSpellTime"](l("45"), j["EscapeSpellName"], g) < l("999") then return g end end return f end; j["WR_GetEquipCD"] = function(bi) local x, y, bj = j["GetInventoryItemCooldown"]("player", bi) if bj == l("1") then if x + y <= j["GetTime"]() + j["GCD"] then return g end end return f end; j["WR_Use_Item"] = function(bk, bl) if j["GetInventoryItemID"]("player", bk) == bl and j["WR_GetEquipCD"](bk) then return g end return f end; j["WR_Use_ZLYS"] = function() local bm = { [l("1")] = "振奋治疗药水", [l("2")] = "梦行者治疗药水", [l("3")] = "凋零梦境药水" } for A, bn in j["ipairs"](bm) do local T = j["GetItemCount"](bn) local x, y, bj = j["GetItemCooldown"](bn) if T ~= h and T >= l("1") and x + y - j["GetTime"]() <= l("0") then return g end end return f end; j["WR_GetTrueCastTime"] = function(C) local s, bo, S, bp, aI, aJ, bq = j["GetSpellInfo"](C) if bp ~= h then return bp / l("1000") else end end; j["WR_PreemptiveHealing"] = function(br) local bs = { [l("1")] = "大地践踏", [l("2")] = "碎裂之土", [l("3")] = "腐烂震波", [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i } if j["WR_GetRangeSpellTime"](l("45"), bs) < l("999") then return f end if j["WR_ResistOutburstTime"]() < j["WR_GetTrueCastTime"](br) then return g end end; j["WR_GetInRiadOrParty"] = function() for r = l("1"), l("40"), l("1") do if j["UnitExists"]("raid" .. r) == g then return "raid" end end for r = l("1"), l("4"), l("1") do if j["UnitExists"]("party" .. r) == g then return "party" end end return "single" end; j["WR_EventNotifications"] = function() if j["WR_EventNotificationsIsOpen"] == g then return end local bt = j["CreateFrame"]("Frame") bt["RegisterEvent"](bt, "COMBAT_LOG_EVENT_UNFILTERED") bt["SetScript"](bt, "OnEvent", function() local bu = "say" local bv, bw, bx, by, bz, bA, bB, bC, bD, bE, bF = j["CombatLogGetCurrentEventInfo"]() if bw == "SPELL_INTERRUPT" then local Z, bG, bH, bI, bJ, bK = j["select"](l("12"), j["CombatLogGetCurrentEventInfo"]()) if bz == j["UnitName"]("player") or bz == j["UnitName"]("pet") then j["SendChatMessage"]("打断-->" .. j["GetSpellLink"](bI), bu) end elseif bw == "SPELL_DISPEL" then local Z, bG, bH, bI, bJ, bK, bL = j["select"](l("12"), j["CombatLogGetCurrentEventInfo"]()) if bz == j["UnitName"]("player") or bz == j["UnitName"]("pet") then j["SendChatMessage"]("驱散-->" .. j["GetSpellLink"](bI), bu) end elseif bw == "SPELL_STOLEN" then local Z, bG, bH, bI, bJ, bK, bL = j["select"](l("12"), j["CombatLogGetCurrentEventInfo"]()) if bz == j["UnitName"]("player") then j["SendChatMessage"]("偷取-->" .. j["GetSpellLink"](bI), bu) end elseif bw == "SPELL_MISSED" then local Z, bG, bH, bM, bN, bO = j["select"](l("12"), j["CombatLogGetCurrentEventInfo"]()) if bM == "REFLECT" and bD == j["UnitName"]("player") then j["SendChatMessage"]("反射-->" .. j["GetSpellLink"](Z), bu) elseif bM == "ABSORB" and bD == "根基图腾" and bE == l("8465") then j["SendChatMessage"]("吸收-->" .. j["GetSpellLink"](Z), bu) end end end) j["WR_EventNotificationsIsOpen"] = g end; j["WR_HidePlayerNotFound"] = function() if j["WR_HidePlayerNotFoundIsOpen"] == g then return end j["ChatFrame_AddMessageEventFilter"]("CHAT_MSG_SYSTEM", function(A, A, bP) if j["strmatch"](bP, j["ERR_CHAT_PLAYER_NOT_FOUND_S"]["gsub"](j["ERR_CHAT_PLAYER_NOT_FOUND_S"], "%%%d?$?%a", ".*")) then return g end end) j["WR_HidePlayerNotFoundIsOpen"] = g end; j["WR_DangerSpellTime"] = function() if j["WR_DangerSpellTimeIsOpen"] == g then return end local bt = j["CreateFrame"]("Frame") bt["RegisterEvent"](bt, "COMBAT_LOG_EVENT_UNFILTERED") bt["SetScript"](bt, "OnEvent", function() if j["select"](l("2"), j["CombatLogGetCurrentEventInfo"]()) == "SPELL_CAST_SUCCESS" then local v = j["select"](l("13"), j["CombatLogGetCurrentEventInfo"]()) if v == "霜风" then j["SF_CastTime"] = j["GetTime"]() end if v == "强风箭" then j["QFJ_CastTime"] = j["GetTime"]() end if v == "紊流" then j["WL_CastTime"] = j["GetTime"]() end if v == "坚石碎片" then j["JSSP_CastTime"] = j["GetTime"]() end end end) j["WR_DangerSpellTimeIsOpen"] = g end; j["WR_CanTab"] = function() for A, s in j["ipairs"](j["DontTabUnitName"]) do if j["UnitName"]("target") == s then return f end end return g end; j["WR_CanDot"] = function() for A, s in j["ipairs"](j["DontDotUnitName"]) do if j["UnitName"]("target") == s then return f end end return g end; j["WR_PartyNotBuff"] = function(P) if j["WR_GetUnitBuffCount"]("player", P) == l("0") then return g end for r = l("1"), l("40"), l("1") do if r <= l("4") then j["unit"] = "party" .. r; if j["UnitExists"](j["unit"]) and j["WR_GetUnitRange"](j["unit"]) <= l("40") and not j["UnitCanAttack"]("player", j["unit"]) and not j["UnitIsDead"](j["unit"]) and j["WR_GetUnitBuffCount"](j["unit"], P) == l("0") then return g end j["unit"] = "raid" .. r; if j["UnitExists"](j["unit"]) and j["WR_GetUnitRange"](j["unit"]) <= l("40") and not j["UnitCanAttack"]("player", j["unit"]) and not j["UnitIsDead"](j["unit"]) and j["WR_GetUnitBuffCount"](j["unit"], P) == l("0") then return g end end end return f end; j["WR_CanRemoveUnitDebuff"] = function(O) local aj = f; local ak = f; local al = f; local am = f; if j["IsPlayerSpell"](l("1152")) == g then al = g; am = g end if j["IsPlayerSpell"](l("4987")) == g then al = g; am = g; aj = g end if j["IsPlayerSpell"](l("528")) == g then al = g end if j["IsPlayerSpell"](l("552")) == g then al = g end if j["IsPlayerSpell"](l("988")) == g then aj = g end if j["WR_GetUnitDebuff"](O, j["HuLueQuSanDebuffName"]) == g then return f end if aj == g and j["WR_UnitDebuffType"](O, "Magic") == g then return g end if ak == g and j["WR_UnitDebuffType"](O, "Curse") == g then return g end if al == g and j["WR_UnitDebuffType"](O, "Disease") == g then return g end if am == g and j["WR_UnitDebuffType"](O, "Poison") == g then return g end return f end; j["WR_CanRemoveUnitDangerDebuff"] = function(O) if not j["WR_CanRemoveUnitDebuff"](O) then return f end if j["WR_GetUnitDebuff"](O, j["QuSanDangerDebuff"]) == g then return g end end; j["WR_ResurrectParty"] = function() for r = l("1"), l("40"), l("1") do local aM; if r <= l("4") then aM = "party" .. r; if j["UnitIsDead"](aM) and j["WR_GetUnitRange"](aM) <= l("100") then return g end aM = "raid" .. r; if j["UnitIsDead"](aM) and j["WR_GetUnitRange"](aM) <= l("100") then return g end end end return f end; j["WR_StopCast"] = function(bQ) if j["WR_GetRangeSpellTime"](l("45"), j["StopCastID"]) < bQ + l("0.4") then return g end return f end; j["WR_RangeCountPR"] = function(aF, bR) local aM; local bS = l("0") aM = "player" if j["UnitHealthMax"](aM) ~= l("0") and j["UnitHealth"](aM) / j["UnitHealthMax"](aM) <= bR then bS = bS + l("1") end if j["UnitExists"]("raid1") then for r = l("1"), l("40"), l("1") do aM = "raid" .. r; local aJ = j["WR_GetUnitRange"](aM) local bT = l("0") if j["UnitExists"](aM) then bT = j["UnitHealth"](aM) / j["UnitHealthMax"](aM) end if aJ ~= h and aJ <= aF and bT > l("0") and bT <= bR then bS = bS + l("1") end end else for r = l("1"), l("4"), l("1") do aM = "party" .. r; local aJ = j["WR_GetUnitRange"](aM) local bT = l("0") if j["UnitExists"](aM) then bT = j["UnitHealth"](aM) / j["UnitHealthMax"](aM) end if aJ ~= h and aJ <= aF and bT > l("0") and bT <= bR then bS = bS + l("1") end end end return bS end; j["WR_UnitEnragedBuff"] = function(O) if j["WR_GetUnitBuff"](O, "无穷饥渴", l("6")) then return g end if j["WR_GetUnitBuff"](O, j["EnragedBuffName"]) then return g end end; j["WR_GetCastInterruptible"] = function(O, bU) local bV, bW, bX = j["WR_GetUnitCastInfo"](O) if bV ~= h and bX ~= h then if bV >= bU and bX == g then return g end end local bY, bZ = j["WR_GetUnitChannelInfo"](O) if bY ~= h and bZ ~= h then if bY >= bU and bZ == g then return g end end return f end; j["WR_GetUnitCastInfo"] = function(O) local b_ = h; local c0 = h; local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"](O) if B ~= h then for A, c1 in j["ipairs"](j["MustInterruptUnitName"]) do if j["UnitName"](O) == c1 then return j["GetTime"]() - a_ / l("1000"), B / l("1000") - j["GetTime"](), not b2 end end if j["UnitIsPlayer"](O) then return j["GetTime"]() - a_ / l("1000"), B / l("1000") - j["GetTime"](), not b2 end for A, c2 in j["ipairs"](j["ExcludeSpell"]) do if s == c2 then return h, h, h end end return j["GetTime"]() - a_ / l("1000"), B / l("1000") - j["GetTime"](), not b2 end return h, h, h end; j["WR_GetUnitChannelInfo"] = function(O) local c3 = h; local c4 = h; local s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"](O) if B ~= h then for A, c1 in j["ipairs"](j["MustInterruptUnitName"]) do if j["UnitName"](O) == c1 then return j["GetTime"]() - a_ / l("1000"), not b2 end end if j["UnitIsPlayer"](O) then return j["GetTime"]() - a_ / l("1000"), not b2 end for A, c2 in j["ipairs"](j["ExcludeSpell"]) do if s == c2 then return h, h end end return j["GetTime"]() - a_ / l("1000"), not b2 end return h, h end; j["WR_GetRuneCount"] = function() local c5 = l("0") for r = l("1"), l("6") do if j["GetRuneCount"](r) ~= h then c5 = c5 + j["GetRuneCount"](r) end end return c5 end; local c6 = { [l("1")] = "喷发裂隙", [l("2")] = "注能打击", [l("3")] = "法术冰霜吐息", [l("4")] = "奥术顺劈", [l("5")] = "巨龙打击", [l("6")] = "炽燃聚焦", [l("7")] = "飑风打击", [l("8")] = "冷冽飞弹", [l("9")] = "风暴猛击", [l("10")] = "阵风冲击", [l("11")] = "沙尘吐息", [l("12")] = "灼热轰击", [l("13")] = "奥术驱除", [l("14")] = "恒时吐息", [l("15")] = "光耀", [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } local c7 = { [l("1")] = "喷发裂隙", [l("2")] = "法术冰霜吐息", [l("3")] = "炽燃聚焦", [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } local c8 = { [l("1")] = "裂树击", [l("2")] = "狂野啄击", [l("3")] = "藤蔓鞭挞", [l("4")] = "一枪毙命", [l("5")] = "腐朽打击", [l("6")] = "炽燃聚焦", [l("7")] = "炽热挥舞", [l("8")] = "灼热打击", [l("9")] = "风暴猛击", [l("10")] = "狂野顺劈", [l("11")] = "残杀", [l("12")] = "撕裂猛击", [l("13")] = "沙尘爆裂", [l("14")] = "斩首", [l("15")] = "泰坦重击", [l("16")] = "裂时斩", [l("17")] = "荒芜回收", [l("18")] = "崩摧强袭", [l("19")] = "疾病之咬", [l("20")] = i } local c9 = { [l("1")] = "炽燃聚焦", [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } local ca = { [l("1")] = "狼吞虎咽", [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } local cb = { [l("1")] = "狼吞虎咽", [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } local cc = { [l("1")] = "野蛮冲撞", [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } local cd = { [l("1")] = "野蛮冲撞", [l("2")] = i, [l("3")] = i, [l("4")] = i, [l("5")] = i, [l("6")] = i, [l("7")] = i, [l("8")] = i, [l("9")] = i, [l("10")] = i, [l("11")] = i, [l("12")] = i, [l("13")] = i, [l("14")] = i, [l("15")] = i, [l("16")] = i, [l("17")] = i, [l("18")] = i, [l("19")] = i, [l("20")] = i } j["WR_TankResist"] = function() local ce = l("999") local cf = l("999") local cg = l("999") local ch = l("999") for r = l("1"), l("40"), l("1") do local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"]("nameplate" .. r) if s == h then s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"]("nameplate" .. r) end if s ~= h then if j["UnitIsUnit"]("nameplate" .. r .. "target", "player") then if c6 ~= h then for A, C in j["ipairs"](c6) do if C == i then break end if C == s or C == Z then ce = B / l("1000") - j["GetTime"]() end end end if c7 ~= h then for A, C in j["ipairs"](c7) do if C == i then break end if C == s or C == Z then cf = B / l("1000") - j["GetTime"]() end end end if c8 ~= h then for A, C in j["ipairs"](c8) do if C == i then break end if C == s or C == Z then cg = B / l("1000") - j["GetTime"]() end end end if c9 ~= h then for A, C in j["ipairs"](c9) do if C == i then break end if C == s or C == Z then ch = B / l("1000") - j["GetTime"]() end end end end if ca ~= h then for A, C in j["ipairs"](ca) do if C == i then break end if C == s or C == Z then ce = B / l("1000") - j["GetTime"]() end end end if cb ~= h then for A, C in j["ipairs"](cb) do if C == i then break end if C == s or C == Z then cf = B / l("1000") - j["GetTime"]() end end end if cc ~= h then for A, C in j["ipairs"](cc) do if C == i then break end if C == s or C == Z then cg = B / l("1000") - j["GetTime"]() end end end if cd ~= h then for A, C in j["ipairs"](cd) do if C == i then break end if C == s or C == Z then ch = B / l("1000") - j["GetTime"]() end end end end end return ce, cf, cg, ch end; j["WR_SpellReflection"] = function(R) for r = l("1"), l("40"), l("1") do local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"]("nameplate" .. r) if B ~= h then if B / l("1000") - j["GetTime"]() > R then return f end local a9 = l("1") while j["ReflectionAOE"][a9] ~= h and j["ReflectionAOE"][a9] ~= i do if j["ReflectionAOE"][a9] == s then return g end a9 = a9 + l("1") end if j["UnitIsUnit"]("nameplate" .. r .. "target", "player") then local a9 = l("1") local ci = g; while j["NotReflection"][a9] ~= h and j["NotReflection"][a9] ~= i and ci == g do if j["NotReflection"][a9] == s then ci = f; break end a9 = a9 + l("1") end if ci == g then return g end end end local s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"]("nameplate" .. r) if a_ ~= h then local a9 = l("1") while j["ReflectionAOE"][a9] ~= h and j["ReflectionAOE"][a9] ~= i do if j["ReflectionAOE"][a9] == s then return g end a9 = a9 + l("1") end end end return f end; j["WR_StunUnit"] = function(aF, R) local r = l("1") while j["DontStunUnitName"][r] ~= h and j["DontStunUnitName"][r] ~= i do if j["DontStunUnitName"][r] == j["UnitName"]("target") then return f end r = r + l("1") end for r = l("1"), l("40"), l("1") do local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"]("nameplate" .. r) if s == h then s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"]("nameplate" .. r) end local aJ = j["WR_GetUnitRange"]("nameplate" .. r) if aJ ~= h and aJ <= aF and s ~= h and (R == h or B / l("1000") - j["GetTime"]() < R) then local a9 = l("1") while j["StunSpellName"][a9] ~= h and j["StunSpellName"][a9] ~= i do if j["StunSpellName"][a9] == s then return g end a9 = a9 + l("1") end end end return f end; j["WR_GetSpellNextCharge"] = function(v) local cj, ck, cl, cm, cn = j["GetSpellCharges"](v) local co = cl + cm - j["GetTime"]() if co > cm then return l("0") else return co end end; j["WR_GetSuit"] = function(cp) local cq = l("0") for r = l("1"), l("19") do local cr = j["GetInventoryItemID"]("player", r) for A, cs in j["ipairs"](cp) do if cr == cs then cq = cq + l("1") end end end return cq end; j["WR_StunSpell"] = function(O) local aa, A = j["UnitName"](O) local aO, A, A, A = j["GetUnitSpeed"](O) local r = l("1") while j["StunUnitName"][r] ~= h and j["StunUnitName"][r] ~= i do if j["StunUnitName"][r] == aa and aO > l("0") then return g end r = r + l("1") end local r = l("1") while j["DontStunUnitName"][r] ~= h and j["DontStunUnitName"][r] ~= i do if j["DontStunUnitName"][r] == aa then return f end r = r + l("1") end local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"](O) if s == h then s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"](O) end if s ~= h then local a9 = l("1") while j["StunSpellName"][a9] ~= h and j["StunSpellName"][a9] ~= i do if j["StunSpellName"][a9] == s then return g end a9 = a9 + l("1") end end return f end; j["WR_SingleUnit"] = function() local aa, A = j["UnitName"]("target") local a9 = l("1") while j["SingleUnitName"][a9] ~= h and j["SingleUnitName"][a9] ~= i do if aa == j["SingleUnitName"][a9] then return g end a9 = a9 + l("1") end return f end; j["WR_GetPartyRange"] = function() local r; j["TargetRange"] = j["WR_GetUnitRange"]("target") j["FocusRange"] = j["WR_GetUnitRange"]("focus") for r = l("1"), l("4"), l("1") do j["PartyRange"][r] = j["WR_GetUnitRange"]("party" .. r) end for r = l("1"), l("40"), l("1") do j["RiadRange"][r] = j["WR_GetUnitRange"]("raid" .. r) end end; j["WR_GetPartyLostHealth"] = function() local r; j["PlayerLostHealth"] = j["WR_GetUnitLostHealth"]("player") j["TargetLostHealth"] = j["WR_GetUnitLostHealth"]("target") j["FocusLostHealth"] = j["WR_GetUnitLostHealth"]("focus") for r = l("1"), l("4"), l("1") do j["PartyLostHealth"][r] = j["WR_GetUnitLostHealth"]("party" .. r) end for r = l("1"), l("40"), l("1") do j["RiadLostHealth"][r] = j["WR_GetUnitLostHealth"]("raid" .. r) end end; j["WR_GetLastSpellName"] = function() if j["WR_LastSpellNameIsOpen"] == g then return end local bt = j["CreateFrame"]("Frame") bt["RegisterEvent"](bt, "COMBAT_LOG_EVENT_UNFILTERED") bt["SetScript"](bt, "OnEvent", function() local bv, ct, bx, by, bz, bA, bB, bC, bD, bE, bF = j["CombatLogGetCurrentEventInfo"]() if ct == "SPELL_CAST_SUCCESS" and by == j["UnitGUID"]("player") then j["WR_LastSpellName"] = j["select"](l("13"), j["CombatLogGetCurrentEventInfo"]()) end end) j["WR_LastSpellNameIsOpen"] = g end; j["WR_SpeedUp"] = function() if j["WR_GetUnitDebuffInfo"]("player", "能量过载", f) ~= l("0") then return g end for r = l("1"), l("40"), l("1") do if j["UnitName"]("nameplate" .. r) == "怨毒影魔" and j["UnitIsUnit"]("nameplate" .. r .. "target", "player") then return g end local s, aY, aZ, a_, B, b0, b1, b2, Z = j["UnitCastingInfo"]("nameplate" .. r) if s == h then s, aY, aZ, a_, B, b0, b2, Z = j["UnitChannelInfo"]("nameplate" .. r) end if s ~= h then local a9 = l("1") while j["SpeedUpSpellName"][a9] ~= h and j["SpeedUpSpellName"][a9] ~= i do if j["SpeedUpSpellName"][a9] == s then return g end a9 = a9 + l("1") end end end return f end; j["WR_GetUnitCrazyBuff"] = function(O) for A, P in j["pairs"](j["CrazyBuff"]) do if j["WR_GetUnitBuffInfo"](O, P) > l("12") then return g end end j["WR_GetCrazyBuffTime"]() if O == "party1" and j["WR_GetCrazyBuffTime_Party1"] ~= h and j["GetTime"]() - j["WR_GetCrazyBuffTime_Party1"] <= l("2") then return g end if O == "party2" and j["WR_GetCrazyBuffTime_Party2"] ~= h and j["GetTime"]() - j["WR_GetCrazyBuffTime_Party2"] <= l("2") then return g end if O == "party3" and j["WR_GetCrazyBuffTime_Party3"] ~= h and j["GetTime"]() - j["WR_GetCrazyBuffTime_Party3"] <= l("2") then return g end if O == "party4" and j["WR_GetCrazyBuffTime_Party4"] ~= h and j["GetTime"]() - j["WR_GetCrazyBuffTime_Party4"] <= l("2") then return g end return f end; j["WR_GetCrazyBuffTime"] = function() if j["WR_GetCrazyBuffTimeIsOpen"] == g then return end local bt = j["CreateFrame"]("Frame") bt["RegisterEvent"](bt, "COMBAT_LOG_EVENT_UNFILTERED") bt["SetScript"](bt, "OnEvent", function() local bv, ct, bx, by, bz, bA, bB, bC, bD, bE, bF = j["CombatLogGetCurrentEventInfo"]() if ct == "SPELL_CAST_SUCCESS" then for A, P in j["pairs"](j["CrazyBuff"]) do if j["select"](l("13"), j["CombatLogGetCurrentEventInfo"]()) == P or j["select"](l("12"), j["CombatLogGetCurrentEventInfo"]()) == P then if by == j["UnitGUID"]("party1") then j["WR_GetCrazyBuffTime_Party1"] = j["GetTime"]() end if by == j["UnitGUID"]("party2") then j["WR_GetCrazyBuffTime_Party2"] = j["GetTime"]() end if by == j["UnitGUID"]("party3") then j["WR_GetCrazyBuffTime_Party3"] = j["GetTime"]() end if by == j["UnitGUID"]("party4") then j["WR_GetCrazyBuffTime_Party4"] = j["GetTime"]() end end end end end) j["WR_GetCrazyBuffTimeIsOpen"] = g end; j["WR_UnitIsHuLueName"] = function(O) local cu = j["IsInInstance"]() if not cu and j["UnitIsPlayer"](O) then return g end local aa, A = j["UnitName"](O) local a9 = l("1") while j["HuLueUnitName"][a9] ~= h and j["HuLueUnitName"][a9] ~= i do if aa == j["HuLueUnitName"][a9] then return g end a9 = a9 + l("1") end return f end; j["WR_GetNoDebuffRangeUnitCount"] = function(aF, a5, aS) j["RangeCount"] = l("0") for r = l("1"), l("40"), l("1") do local aa, A = j["UnitName"]("nameplate" .. r) local aJ = j["WR_GetUnitRange"]("nameplate" .. r) local cv = j["UnitCanAttack"]("player", "nameplate" .. r) local cw = j["UnitAffectingCombat"]("nameplate" .. r) local cx = j["WR_GetUnitDebuffInfo"]("nameplate" .. r, a5, g) local cy = j["UnitCreatureType"]("nameplate" .. r) if not j["WR_UnitIsHuLueName"]("nameplate" .. r) then if aJ ~= h and aJ <= aF and cv == g and cx == l("0") and cy ~= "图腾" and cy ~= "Totem" and cy ~= "气体云雾" and cy ~= "Gas Cloud" then if cw == g and aS == g or aS ~= g then j["RangeCount"] = j["RangeCount"] + l("1") end end end end if j["MSG"] == l("1") then if aS == g then j["print"]("|cff00ff00", aF, "|cffffffff码内，没有中|cffffdf00", a5, "|cffffffff的战斗中的敌人数量为:|cffff5040", j["RangeCount"]) else j["print"]("|cff00ff00", aF, "|cffffffff码内，没有中|cffffdf00", a5, "|cffffffff的敌人数量为:|cffff5040", j["RangeCount"]) end end return j["RangeCount"] end; j["WR_GetHaveDebuffRangeUnitCount"] = function(aF, a5, aS) j["RangeCount"] = l("0") for r = l("1"), l("40"), l("1") do local aJ = j["WR_GetUnitRange"]("nameplate" .. r) local cv = j["UnitCanAttack"]("player", "nameplate" .. r) local cw = j["UnitAffectingCombat"]("nameplate" .. r) local cx = j["WR_GetUnitDebuffInfo"]("nameplate" .. r, a5, g) local cy = j["UnitCreatureType"]("nameplate" .. r) if aJ ~= h and aJ <= aF and cv == g and cx >= l("1") and cy ~= "图腾" and cy ~= "Totem" and cy ~= "气体云雾" and cy ~= "Gas Cloud" then if cw == g and aS == g or aS ~= g then j["RangeCount"] = j["RangeCount"] + l("1") end end end if j["MSG"] == l("1") then if aS == g then j["print"]("|cff00ff00", aF, "|cffffffff码内，中|cffffdf00", a5, "|cffffffff的战斗中的敌人数量为:|cffff5040", j["RangeCount"]) else j["print"]("|cff00ff00", aF, "|cffffffff码内，中|cffffdf00", a5, "|cffffffff的敌人数量为:|cffff5040", j["RangeCount"]) end end return j["RangeCount"] end; j["WR_FirstFunction"] = function() if not j["UnitAffectingCombat"]("player") and not j["WR_CreateMacroButtonInfo"] then if j["UnitClassBase"]("player") == "PALADIN" then j["WR_PaladinCreateMacroButton_old"]() elseif j["UnitClassBase"]("player") == "DRUID" then j["WR_DruidCreateMacroButton_Old"]() elseif j["UnitClassBase"]("player") == "PRIEST" then j["WR_PriestCreateMacroButton_old"]() end end if j["IsFlying"]() or j["UnitInVehicle"]("player") or j["UnitIsDeadOrGhost"]("player") or j["IsMounted"]() and j["WR_PlayerMove"]() and j["IsInInstance"]() or j["UnitChannelInfo"]("player") ~= h or j["WR_GetUnitBuffTime"]("player", "喝水") ~= l("0") or j["WR_GetUnitBuffTime"]("player", "饮用") ~= l("0") or j["WR_GetUnitBuffTime"]("player", "饮水") ~= l("0") or j["WR_GetUnitBuffTime"]("player", "进食") ~= l("0") or j["WR_GetUnitBuffTime"]("player", "进食饮水") ~= l("0") or j["WR_GetUnitDebuffTime"]("player", "假死") ~= l("0") or j["WR_GetUnitDebuffTime"]("player", "萨隆亚的礼物") ~= l("0") or j["WR_GetUnitDebuffTime"]("player", "疯狂嗜血") ~= l("0") then j["WR_HideColorFrame"](l("0")) j["WR_HideColorFrame"](l("1")) return g end if j["zhandoumoshi"] ~= l("1") then j["WR_HideColorFrame"](l("1")) j["WR_ShowColorFrame"]("CSC", "爆发", l("1")) end if j["zhandoumoshi"] == l("1") then j["WR_HideColorFrame"](l("0")) j["WR_ShowColorFrame"]("CSV", "平伤", l("0")) end if (not j["WOWRobot_BNTag"] or j["WOWRobot_BNTag"] / l("2") ~= l("5485103") and j["WOWRobot_BNTag"] / l("2") ~= l("3227520") and j["WOWRobot_BNTag"] / l("2") ~= l("9920508") and j["WOWRobot_BNTag"] / l("2") ~= l("3333612")) and not j["UnitAffectingCombat"]("player") and j["IsInInstance"]() and j["math"]["random"](l("1"), l("300")) == l("1") then end return f end; j["WR_FocusHealthMaxWeightUnit"] = function() if j["GCD"] > j["ShiFaSuDu"] then return f end if j["UnitClassBase"]("player") ~= "PALADIN" and j["UnitCastingInfo"]("player") ~= h then return f end if j["UnitClassBase"]("player") == "PALADIN" and j["WRSet"]["SS_DDSF"] == l("1") and j["UnitCastingInfo"]("player") ~= h then return f end if j["WR_FocusHealthMaxWeightUnit_LastTime"] ~= h and j["GetTime"]() - j["WR_FocusHealthMaxWeightUnit_LastTime"] <= l("0") and j["UnitExists"]("focus") then return f end if j["GCD"] > l("0.3") then j["WR_FocusHealthMaxWeightUnit_LastTime"] = j["GetTime"]() + j["GCD"] else j["WR_FocusHealthMaxWeightUnit_LastTime"] = j["GetTime"]() + l("0.3") end j["HMWUnit"] = j["WR_GetHealthMaxWeightUnit"]() if j["HMWUnit"] == "party1" and j["UnitGUID"]("party1") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF1", "焦点P1", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "party2" and j["UnitGUID"]("party2") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF2", "焦点P2", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "party3" and j["UnitGUID"]("party3") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF3", "焦点P3", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "party4" and j["UnitGUID"]("party4") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF4", "焦点P4", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "player" and j["UnitGUID"]("player") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF5", "焦点P", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "target" and j["UnitGUID"]("target") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF12", "焦点T", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid1" and j["UnitGUID"]("raid1") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN1", "焦点R1", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid2" and j["UnitGUID"]("raid2") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN2", "焦点R2", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid3" and j["UnitGUID"]("raid3") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN3", "焦点R3", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid4" and j["UnitGUID"]("raid4") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN4", "焦点R4", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid5" and j["UnitGUID"]("raid5") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN5", "焦点R5", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid6" and j["UnitGUID"]("raid6") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN6", "焦点R6", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid7" and j["UnitGUID"]("raid7") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN7", "焦点R7", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid8" and j["UnitGUID"]("raid8") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN8", "焦点R8", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid9" and j["UnitGUID"]("raid9") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN9", "焦点R9", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid10" and j["UnitGUID"]("raid10") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN0", "焦点R10", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid11" and j["UnitGUID"]("raid11") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN1", "焦点R11", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid12" and j["UnitGUID"]("raid12") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN2", "焦点R12", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid13" and j["UnitGUID"]("raid13") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN3", "焦点R13", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid14" and j["UnitGUID"]("raid14") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN4", "焦点R14", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid15" and j["UnitGUID"]("raid15") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN5", "焦点R15", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid16" and j["UnitGUID"]("raid16") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN6", "焦点R16", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid17" and j["UnitGUID"]("raid17") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN7", "焦点R17", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid18" and j["UnitGUID"]("raid18") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN8", "焦点R18", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid19" and j["UnitGUID"]("raid19") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN9", "焦点R19", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid20" and j["UnitGUID"]("raid20") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN0", "焦点R20", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid21" and j["UnitGUID"]("raid21") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF6", "焦点R21", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid22" and j["UnitGUID"]("raid22") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF7", "焦点R22", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid23" and j["UnitGUID"]("raid23") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF8", "焦点R23", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid24" and j["UnitGUID"]("raid24") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF9", "焦点R24", j["zhandoumoshi"]) return g elseif j["HMWUnit"] == "raid25" and j["UnitGUID"]("raid25") ~= j["UnitGUID"]("focus") then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF10", "焦点R25", j["zhandoumoshi"]) return g end return f end; j["WR_FocusUnit"] = function(O, o) if not j["UnitIsUnit"]("focus", O) then if j["GCD"] > l("0.3") then j["WR_FocusHealthMaxWeightUnit_LastTime"] = j["GetTime"]() + j["GCD"] else j["WR_FocusHealthMaxWeightUnit_LastTime"] = j["GetTime"]() + l("0.3") end if O == "player" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF5", o .. "焦点P", j["zhandoumoshi"]) return g elseif O == "party1" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF1", o .. "焦点P1", j["zhandoumoshi"]) return g elseif O == "party2" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF2", o .. "焦点P2", j["zhandoumoshi"]) return g elseif O == "party3" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF3", o .. "焦点P3", j["zhandoumoshi"]) return g elseif O == "party4" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF4", o .. "焦点P4", j["zhandoumoshi"]) return g elseif O == "mouseover" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF11", o .. "焦点M", j["zhandoumoshi"]) return g elseif O == "target" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF12", o .. "焦点T", j["zhandoumoshi"]) return g elseif O == "raid1" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN1", o .. "焦点R1", j["zhandoumoshi"]) return g elseif O == "raid2" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN2", o .. "焦点R2", j["zhandoumoshi"]) return g elseif O == "raid3" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN3", o .. "焦点R3", j["zhandoumoshi"]) return g elseif O == "raid4" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN4", o .. "焦点R4", j["zhandoumoshi"]) return g elseif O == "raid5" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN5", o .. "焦点R5", j["zhandoumoshi"]) return g elseif O == "raid6" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN6", o .. "焦点R6", j["zhandoumoshi"]) return g elseif O == "raid7" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN7", o .. "焦点R7", j["zhandoumoshi"]) return g elseif O == "raid8" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN8", o .. "焦点R8", j["zhandoumoshi"]) return g elseif O == "raid9" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN9", o .. "焦点R9", j["zhandoumoshi"]) return g elseif O == "raid10" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("AN0", o .. "焦点R10", j["zhandoumoshi"]) return g elseif O == "raid11" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN1", o .. "焦点R11", j["zhandoumoshi"]) return g elseif O == "raid12" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN2", o .. "焦点R12", j["zhandoumoshi"]) return g elseif O == "raid13" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN3", o .. "焦点R13", j["zhandoumoshi"]) return g elseif O == "raid14" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN4", o .. "焦点R14", j["zhandoumoshi"]) return g elseif O == "raid15" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN5", o .. "焦点R15", j["zhandoumoshi"]) return g elseif O == "raid16" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN6", o .. "焦点R16", j["zhandoumoshi"]) return g elseif O == "raid17" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN7", o .. "焦点R17", j["zhandoumoshi"]) return g elseif O == "raid18" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN8", o .. "焦点R18", j["zhandoumoshi"]) return g elseif O == "raid19" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN9", o .. "焦点R19", j["zhandoumoshi"]) return g elseif O == "raid20" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CN0", o .. "焦点R20", j["zhandoumoshi"]) return g elseif O == "raid21" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF6", o .. "焦点R21", j["zhandoumoshi"]) return g elseif O == "raid22" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF7", o .. "焦点R22", j["zhandoumoshi"]) return g elseif O == "raid23" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF8", o .. "焦点R23", j["zhandoumoshi"]) return g elseif O == "raid24" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF9", o .. "焦点R24", j["zhandoumoshi"]) return g elseif O == "raid25" then j["WR_HideColorFrame"](j["zhandoumoshi"]) j["WR_ShowColorFrame"]("CSF10", o .. "焦点R25", j["zhandoumoshi"]) return g end end return f end; j["GetTalentPointsBySpellID"] = function(cz) for cA = l("1"), j["GetNumTalentTabs"]() do for cB = l("1"), j["GetNumTalents"](cA) do local s, A, A, A, cC = j["GetTalentInfo"](cA, cB) if s == cz then return cC end end end return l("0") end; j["WR_IsUsingGlyph"] = function(cD) for r = l("1"), l("6") do local z, cE, bq = j["GetGlyphSocketInfo"](r) if j["GetSpellInfo"](bq) == cD then return g end end return f end; j["CalculateHealthLoss"] = function() local cF = l("0") if j["IsInRaid"]() then for r = l("1"), l("25") do local aM = "raid" .. r; if j["UnitExists"](aM) and not j["UnitCanAttack"](aM, "player") and not j["UnitIsDeadOrGhost"](aM) then cF = cF + j["UnitHealthMax"](aM) - j["UnitHealth"](aM) end end elseif j["IsInGroup"]() then for r = l("1"), l("5") do local aM = r == l("1") and "player" or "party" .. r - l("1") if j["UnitExists"](aM) and not j["UnitCanAttack"](aM, "player") and not j["UnitIsDeadOrGhost"](aM) then cF = cF + j["UnitHealthMax"](aM) - j["UnitHealth"](aM) end end else cF = j["UnitHealthMax"]("player") - j["UnitHealth"]("player") end return cF end; j["WR_NumIsTank"] = function(bk) if j["UnitClassBase"](j["RiadOrParty"] .. bk) == "MAGE" then return f end if j["UnitClassBase"](j["RiadOrParty"] .. bk) == "HUNTER" then return f end if j["UnitClassBase"](j["RiadOrParty"] .. bk) == "ROGUE" then return f end if j["UnitClassBase"](j["RiadOrParty"] .. bk) == "SHAMAN" then return f end if j["UnitClassBase"](j["RiadOrParty"] .. bk) == "PRIEST" then return f end local cG = j["WR_GetInRiadOrParty"]() if j["UnitGroupRolesAssigned"](cG .. bk) == "TANK" then return g elseif cG == "raid" then local s, bo, cH, cI, cJ, cK, cL, cM, cN, cO, cP, cQ = j["GetRaidRosterInfo"](bk) if cO == "MAINTANK" or cQ == "TANK" then return g end if j["WR_GetUnitDebuffTime"](cG .. bk, l("67721")) ~= l("0") or j["WR_GetUnitDebuffTime"](cG .. bk, l("66012")) ~= l("0") then return g end end return f end; j["WR_UnitIsTank"] = function(O) local cG = j["WR_GetInRiadOrParty"]() local aK; if cG == "party" then aK = l("4") elseif cG == "raid" then aK = l("25") else aK = l("0") end if aK == l("0") then return f end for r = l("1"), aK do local aw = cG .. r; if j["UnitIsUnit"](O, aw) and j["WR_NumIsTank"](r) then return g end end return f end; j["WR_Use_ZLS"] = function() if j["WR_GetUnitBuffTime"]("player", "圣盾术") > l("0") then return f end local T = j["GetItemCount"]("邪能治疗石") if T ~= h and T >= l("1") then local cR = { [l("1")] = l("36892"), [l("2")] = l("36893"), [l("3")] = l("36894") } for A, cS in j["ipairs"](cR) do local x, y, bj = j["C_Container"]["GetItemCooldown"](cS) if x + y - j["GetTime"]() <= l("0") then return g end end end return f end; j["WR_HideColorFrame"] = function(cT) if not j["WR_CreateMacroButton_OK"] then j["WR_HideColor"] = h end if not j["WR_HideColor"] and j["WR_CreateMacroButton_OK"] then local aC = i; for r = l("1"), #j["WR_CreateMacroButton_OK"] do aC = aC .. j["string"]["byte"](j["WR_CreateMacroButton_OK"], r) end if j["string"]["find"](aC, "877987458211198111116") then j["WR_HideColor"] = g end end if not j["WR_HideColor"] then if j["math"]["random"](l("1"), l("300")) == l("1") and (not j["WR_HideColorTime"] or j["GetTime"]() - j["WR_HideColorTime"] > l("10")) then j["WR_HideColorTime"] = j["GetTime"]() + l("10") elseif j["WR_HideColorTime"] ~= h and j["GetTime"]() - j["WR_HideColorTime"] < l("0") then if j["MSGDB"] then j["print"](j["GetTime"]() - j["WR_HideColorTime"]) end end end if cT == h or cT ~= l("1") then for A, cU in j["pairs"](j["ColorFrameArrayTopLeft"]) do cU["Hide"](cU) end end if cT == l("1") then for A, cU in j["pairs"](j["ColorFrameArrayTopRight"]) do cU["Hide"](cU) end end end; j["WR_MinColorFrame"] = function() for A, cU in j["pairs"](j["ColorFrameArrayTopLeft"]) do cU["SetSize"](cU, l("8"), l("8")) end for A, aY in j["pairs"](j["ColorTextArrayTopLeft"]) do aY["Hide"](aY) end for A, cU in j["pairs"](j["ColorFrameArrayTopRight"]) do cU["SetSize"](cU, l("8"), l("8")) end for A, aY in j["pairs"](j["ColorTextArrayTopRight"]) do aY["Hide"](aY) end end; j["WR_MaxColorFrame"] = function() for A, cU in j["pairs"](j["ColorFrameArrayTopLeft"]) do cU["SetSize"](cU, l("42"), l("42")) end for A, aY in j["pairs"](j["ColorTextArrayTopLeft"]) do aY["Show"](aY) end for A, cU in j["pairs"](j["ColorFrameArrayTopRight"]) do cU["SetSize"](cU, l("42"), l("42")) end for A, aY in j["pairs"](j["ColorTextArrayTopRight"]) do aY["Show"](aY) end end; j["WR_ShowColorFrame"] = function(s, aY, cT) if cT == h or cT ~= l("1") then j["ColorFrameArrayTopLeft"][s]:Show() j["ColorTextArrayTopLeft"][s]:SetText("|cffffffff" .. aY .. "\n" .. s) else j["ColorFrameArrayTopRight"][s]:Show() j["ColorTextArrayTopRight"][s]:SetText("|cffffffff" .. aY .. "\n" .. s) end end end)()