local a=86;local b=87;local c=74;local d=0==1;local e=not d;local f=nil;local g=""local h=_G;local i=_ENV;local j=h["tonumber"]return(function(...)h["WR_PriestFunction"]=function()h["PriestTalent"]=h["WR_Priest_GetTalent"]()if h["PriestTalent"]==f then h["PriestTalent"]="无"end;h["WR_Priest_SPELL_CAST_SUCCESS"]()h["ShiFaSuDu"]=j("0.3")h["WR_Initialize"]()h["GCD"]=h["WR_GetGCD"]("惩击")h["PlayerMove"]=h["WR_PlayerMove"]()h["TargetRange"]=h["WR_GetUnitRange"]("target")h["TargetInCombat"]=h["WR_TargetInCombat"]("target")h["RiadOrParty"]=h["WR_GetInRiadOrParty"]()h["RiadOrPartySum"]=j("0")if h["RiadOrParty"]=="raid"then h["RiadOrPartySum"]=j("25")elseif h["RiadOrParty"]=="party"then h["RiadOrPartySum"]=j("4")end;h["GLZL_PCT"]=j("1")h["HealthPower"]=h["GetSpellBonusHealing"]()h["HealthCrit"]=j("1")h["SpellValue_KX_Max"]=h["WR_GetSpellValue"]("苦修","到","点")h["SpellValue_KX_Avg"]=(h["SpellValue_KX_Max"]+h["HealthPower"]*j("0.4"))*j("3")h["SpellValue_KX_Avg"]=h["SpellValue_KX_Avg"]*h["HealthCrit"]*h["GLZL_PCT"]h["SpellValue_KSZL_Max"]=h["WR_GetSpellValue"]("快速治疗","到","点")h["SpellValue_KSZL_Avg"]=h["SpellValue_KSZL_Max"]+h["HealthPower"]*j("1.1")h["SpellValue_KSZL_Avg"]=h["SpellValue_KSZL_Avg"]*h["HealthCrit"]*h["GLZL_PCT"]h["SpellValue_LJZL_Max"]=h["WR_GetSpellValue"]("联结治疗","到","点")h["SpellValue_LJZL_Avg"]=h["SpellValue_LJZL_Max"]+h["HealthPower"]*j("1.1")h["SpellValue_LJZL_Avg"]=h["SpellValue_LJZL_Avg"]*h["HealthCrit"]*h["GLZL_PCT"]h["SpellValue_ZLDY_Max"]=h["WR_GetSpellValue"]("治疗祷言","到","点")h["SpellValue_ZLDY_Avg"]=h["SpellValue_ZLDY_Max"]+h["HealthPower"]*j("0.6")h["SpellValue_ZLDY_Avg"]=h["SpellValue_ZLDY_Avg"]*h["HealthCrit"]*j("0.8")h["SpellValue_SSXX_Max"]=h["WR_GetSpellValue"]("神圣新星","到","点生命值")h["SpellValue_SSXX_Avg"]=h["SpellValue_SSXX_Max"]+h["HealthPower"]*j("0.34")h["SpellValue_SSXX_Avg"]=h["SpellValue_SSXX_Avg"]*h["HealthCrit"]*h["GLZL_PCT"]h["PlayerMP"]=j("1")if h["UnitPowerMax"]("player",h["Enum"]["PowerType"]["Mana"])~=j("0")then h["PlayerMP"]=h["UnitPower"]("player",h["Enum"]["PowerType"]["Mana"])/h["UnitPowerMax"]("player",h["Enum"]["PowerType"]["Mana"])end;h["PlayerHP"]=j("1")h["PlayerLostHealth"]=j("0")if h["UnitHealthMax"]("player")~=j("0")then h["PlayerHP"]=h["UnitHealth"]("player")/h["UnitHealthMax"]("player")h["PlayerLostHealth"]=h["UnitHealthMax"]("player")-h["UnitHealth"]("player")if h["WR_GetUnitDebuffInfo"]("player","血肉成灰")~=j("0")then if h["PlayerHP"]>j("0.5")then h["PlayerHP"]=j("0.5")end;if h["PlayerLostHealth"]<h["UnitHealthMax"]("player")/j("2")then h["PlayerLostHealth"]=h["UnitHealthMax"]("player")/j("2")end end end;h["FocusRange"]=h["WR_GetUnitRange"]("focus")h["FocusHP"]=j("1")h["FocusLostHealth"]=j("0")if h["UnitExists"]("focus")then h["FocusHP"]=h["UnitHealth"]("focus")/h["UnitHealthMax"]("focus")h["FocusLostHealth"]=h["UnitHealthMax"]("focus")-h["UnitHealth"]("focus")if h["WR_GetUnitDebuffInfo"]("focus","血肉成灰")~=j("0")then if h["FocusHP"]>j("0.5")then h["FocusHP"]=j("0.5")end;if h["FocusLostHealth"]<h["UnitHealthMax"]("focus")/j("2")then h["FocusLostHealth"]=h["UnitHealthMax"]("focus")/j("2")end end end;h["Priest"]()h["WR_Priest_XXCQ"]=d;if h["WR_GetUnitDebuffTime"]("focus",j("66118"))~=j("0")or h["WR_GetUnitDebuffTime"]("player",j("66118"))~=j("0")or h["WR_GetUnitDebuffTime"]("focus","吸血虫群")~=j("0")or h["WR_GetUnitDebuffTime"]("player","吸血虫群")~=j("0")then h["WR_Priest_XXCQ"]=e end;h["TankUnit"]={}h["TankUnit"][j("1")],h["TankUnit"][j("2")],h["TankUnit"][j("3")],h["TankUnit"][j("4")]=h["WR_Priest_FindTank"]()if not h["vipinfo"]then return e end;h["WR_Priest_FindCiGuUnit"]()if h["WR_FirstFunction"]()then return e end;if h["WR_Priest_Stopcasting"]()then return e end;if h["WR_Priest_StopFollow"]()then return e end;if h["WR_Priest_Function_FHS"]()then return e end;if h["UnitCastingInfo"]("player")~=f or h["Priest_CastTime"]~=f and h["GetTime"]()-h["Priest_CastTime"]<j("0.1")then h["WR_HideColorFrame"](j("0"))h["WR_HideColorFrame"](j("1"))return e end;if h["zhandoumoshi"]==j("1")then if h["WR_Priest_Function_ST"]()then return e end;if h["WR_Priest_Function_KB"]()then return e end;if h["WR_Priest_Function_NLGZ"]()then return e end end;if h["WR_Priest_XXCQ"]then if h["WR_FocusHealthMaxWeightUnit"]()then return e end;if h["WR_GetUnitDebuffTime"]("focus",j("66013"))>j("0")then if h["WR_Priest_Function_ZYSD"]("刺骨之寒")then return e end;if h["WR_Priest_Function_KSZL"]("刺骨之寒")then return e end;return e else return d end end;if h["WR_Priest_JWDY"]()then return e end;if h["WR_Priest_Function_TKYZ"]()then return e end;if h["WR_Priest_Function_XLZH"]()then return e end;if h["WR_Priest_Function_QSMF"]()then return e end;if h["WRSet"]["JL_QS"]==j("2")then if h["WR_Priest_Function_QS"]()then return e end end;if h["WR_FocusHealthMaxWeightUnit"]()then return e end;if h["WR_Priest_Function_ZYSD"]("All")then return e end;if h["WR_Priest_Function_YHDY"]()then return e end;if h["WR_Priest_Function_ZYSD"]("Tank")then return e end;if h["FocusHP"]<=j("0.3")or h["WR_UnitIsTank"]("Focus")and h["FocusHP"]<=j("0.5")then if h["WR_Priest_Function_ZYSD"]("急救")then return e end;if h["WR_Priest_Function_KX"]()then return e end end;if h["WR_Priest_Function_ZLDY"](j("5"))then return e end;if h["WR_Priest_Function_ZYSD"]("常规")then return e end;if h["WR_Priest_Function_ZLDY"](j("4"))then return e end;if h["WR_Priest_Function_KX"]()then return e end;if h["WR_Priest_Function_LJZL"]()then return e end;if h["WR_Priest_Function_SSXX"]()then return e end;if h["WR_Priest_Function_HF"]("Tank")then return e end;if h["WR_Priest_Function_CJZLS"]()then return e end;if h["WR_Priest_Function_KSZL"]()then return e end;if h["WR_Priest_Function_HF"]("Focus")then return e end;if h["WR_Priest_FollowUnit"]()then return e end;if h["WR_Priest_Function_AYM"]()then return e end;if h["WR_Priest_Function_QS"]()then return e end;if h["WR_Priest_Function_Ren"]()then return e end;if h["WR_Priest_Function_JS"]()then return e end;if h["WR_Priest_Function_AK"]()then return e end;if h["WR_Priest_Function_ZYSD"]("Raid")then return e end;h["WR_HideColorFrame"](h["zhandoumoshi"])if h["MSG"]==j("1")then end end;h["WR_Priest_Function_ST"]=function()if h["WR_GetEquipCD"](j("10"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ASF1","手套",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_Function_KB"]=function()if h["UnitAffectingCombat"]("player")and h["WR_SpellUsable"]("狂暴")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF1","狂暴",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_Function_NLGZ"]=function()if h["WRSet"]["JL_NLGZ"]==j("1")and h["UnitAffectingCombat"]("player")and h["WR_SpellUsable"]("能量灌注")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN2","能量灌注",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_ZYSD"]=function(k)if not h["UnitCanAttack"]("player",k)and not h["UnitIsDeadOrGhost"](k)and h["WR_GetUnitRange"](k)<=j("40")and h["WR_GetUnitBuffInfo"](k,"真言术：盾")==j("0")and h["WR_GetUnitDebuffInfo"](k,"虚弱灵魂")==j("0")then if h["UnitIsUnit"](k,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF8","盾"..k,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"盾")then return e end end;return d end;h["WR_Priest_Function_ZYSD"]=function(l)if h["GCD"]>h["ShiFaSuDu"]then return d end;if l=="刺骨之寒"then if h["WR_Priest_ZYSD"]("focus")then return e end end;if l=="All"and h["zhandoumoshi"]==j("1")then if h["WR_Priest_ZYSD"]("focus")then return e end;if h["RiadOrPartySum"]~=j("0")then if h["WRSet"]["JL_TDSX"]==j("1")then for m=j("1"),h["RiadOrPartySum"]do local n=h["RiadOrParty"]..m;if h["WR_Priest_ZYSD"](n)then return e end end else for m=h["RiadOrPartySum"],j("1"),-j("1")do local n=h["RiadOrParty"]..m;if h["WR_Priest_ZYSD"](n)then return e end end end end;if h["WR_Priest_ZYSD"]("player")then return e end end;if h["WRSet"]["JL_ZYSD"]==j("2")then if l=="Raid"and h["RiadOrParty"]=="raid"then if h["WR_Priest_ZYSD"]("focus")then return e end;if h["RiadOrPartySum"]~=j("0")then if h["WRSet"]["JL_TDSX"]==j("1")then for m=j("1"),h["RiadOrPartySum"]do local n=h["RiadOrParty"]..m;if not h["WR_NumIsTank"](m)then if h["WR_Priest_ZYSD"](n)then return e end end end else for m=h["RiadOrPartySum"],j("1"),-j("1")do local n=h["RiadOrParty"]..m;if not h["WR_NumIsTank"](m)then if h["WR_Priest_ZYSD"](n)then return e end end end end end;if h["WR_Priest_ZYSD"]("player")then return e end end;if l=="常规"and h["UnitLevel"]("player")>=j("80")and(h["SpellValue_KSZL_Avg"]~=j("0")and h["FocusLostHealth"]>h["SpellValue_KSZL_Avg"]or h["SpellValue_KSZL_Avg"]==j("0")and h["FocusLostHealth"]>h["WR_GetSpellValue"]("次级治疗术","到","点"))then if h["WR_Priest_ZYSD"]("focus")then return e end end end;if h["WRSet"]["JL_ZYSD"]~=j("3")then if l=="Tank"then if h["RiadOrPartySum"]~=j("0")then for m=j("1"),j("4")do if h["WRSet"]["JL_TKXZ"][m]==e and h["TankUnit"][m]~=f then if h["WR_Priest_ZYSD"](h["TankUnit"][m])then return e end end end end end;if l=="急救"then if h["WR_Priest_ZYSD"]("focus")then return e end end end;return d end;h["WR_Priest_HF"]=function(k)if not h["UnitCanAttack"]("player",k)and not h["UnitIsDeadOrGhost"](k)and h["WR_GetUnitRange"](k)<=j("40")and h["WR_GetUnitBuffInfo"](k,"恢复")==j("0")then if h["UnitIsUnit"](k,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN5","恢复"..k,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"恢复")then return e end end;return d end;h["WR_Priest_Function_HF"]=function(l)if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["WR_SpellUsable"]("恢复")then return d end;if h["WRSet"]["JL_HF"]~=j("1")then return d end;if l=="Tank"then if h["RiadOrPartySum"]~=j("0")then for m=j("1"),j("4")do if h["WRSet"]["JL_TKXZ"][m]==e and h["TankUnit"][m]~=f and h["WR_GetUnitBuffInfo"](h["TankUnit"][m],"真言术：盾")==j("0")then if h["WR_Priest_HF"](h["TankUnit"][m])then return e end end end end elseif l=="All"then if h["WR_Priest_HF"]("player")then return e end;if h["RiadOrPartySum"]~=j("0")then for m=j("1"),h["RiadOrPartySum"]do local n=h["RiadOrParty"]..m;if h["WR_Priest_HF"](n)then return e end end end elseif l=="Focus"then if h["FocusLostHealth"]>h["SpellValue_KSZL_Avg"]and h["RiadOrParty"]~="raid"then if h["WR_Priest_HF"]("focus")then return e end end elseif l=="刺骨之寒"then if h["WR_Priest_HF"]("focus")then return e end end;return d end;h["WR_Priest_Function_KX"]=function(o)if h["GCD"]>h["ShiFaSuDu"]then return d end;local p=h["WR_GetSpellValue"]("苦修","的","秒")if h["WR_SpellUsable"]("苦修")and not h["PlayerMove"]and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and h["UnitCastingInfo"]("player")==f and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")and not h["WR_StopCast"](p)then if o==f and h["FocusLostHealth"]>h["SpellValue_KX_Avg"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF9","苦修",h["zhandoumoshi"])return e elseif o=="刺骨之寒"and h["FocusLostHealth"]>h["SpellValue_KX_Avg"]*j("0.7")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF9","刺骨苦修",h["zhandoumoshi"])return e end end;return d end;h["WR_Priest_YHDY"]=function(k)if not h["UnitCanAttack"]("player",k)and not h["UnitIsDeadOrGhost"](k)and h["WR_GetUnitRange"](k)<=j("40")and h["WR_GetUnitBuffInfo"](k,"愈合祷言",e)==j("0")then if h["UnitIsUnit"](k,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF4","愈合祷言"..k,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"愈合祷言")then return e end end;return d end;h["WR_Priest_Function_YHDY"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_YHDY"]==j("2")then return d end;if not h["WR_SpellUsable"]("愈合祷言")then return d end;if h["WR_Priest_XXCQ"]then return d end;local q=e;if h["RiadOrParty"]=="single"then q=d elseif h["RiadOrParty"]=="party"then if h["WR_GetUnitBuffInfo"]("player","愈合祷言",e)>h["GCD"]then q=d end;for m=j("1"),h["RiadOrPartySum"]do local n=h["RiadOrParty"]..m;if h["WR_GetUnitBuffInfo"](n,"愈合祷言",e)>h["GCD"]then q=d end end end;if not q then return d end;if h["RiadOrPartySum"]~=j("0")then for m=j("1"),h["RiadOrPartySum"]do local n=h["RiadOrParty"]..m;if h["WR_NumIsTank"](m)then if h["WR_Priest_YHDY"](n)then return e end end end end;return d end;h["WR_Priest_Function_LJZL"]=function(o)if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WR_Priest_XXCQ"]then return d end;if h["WR_SpellUsable"]("联结治疗")and not h["PlayerMove"]and h["FocusRange"]<=j("40")and not h["UnitIsUnit"]("focus","player")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and h["UnitCastingInfo"]("player")==f and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("联结治疗"))and(h["WR_GetGCD"]("苦修")>h["GCD"]or not h["UnitAffectingCombat"]("player"))then if o==f and h["FocusLostHealth"]>h["SpellValue_LJZL_Avg"]and h["PlayerLostHealth"]>h["SpellValue_LJZL_Avg"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF5","联结治疗",h["zhandoumoshi"])return e elseif o=="刺骨之寒"and h["FocusLostHealth"]>h["SpellValue_LJZL_Avg"]*j("0.7")and h["PlayerLostHealth"]>h["SpellValue_LJZL_Avg"]*j("0.7")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF5","刺骨联结",h["zhandoumoshi"])return e end end;return d end;h["WR_Priest_Function_KSZL"]=function(o)if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["UnitLevel"]("player")>=j("80")and h["WR_SpellUsable"]("快速治疗")and not h["PlayerMove"]and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and h["UnitCastingInfo"]("player")==f then if o==f and h["FocusLostHealth"]>h["SpellValue_KSZL_Avg"]and h["WR_GetUnitDebuffInfo"]("player","死灵光环")==j("0")and not h["WR_StopCast"](h["WR_GetTrueCastTime"]("快速治疗"))and(h["WR_GetGCD"]("苦修")>h["GCD"]or not h["UnitAffectingCombat"]("player"))then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF11","快速治疗",h["zhandoumoshi"])return e end;if o=="刺骨之寒"then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF11","刺骨快疗",h["zhandoumoshi"])return e end end;if h["UnitLevel"]("player")<j("80")and h["WR_SpellUsable"]("快速治疗")and not h["PlayerMove"]and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and h["UnitCastingInfo"]("player")==f and h["FocusLostHealth"]>h["SpellValue_KSZL_Avg"]then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF11","快速治疗",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_Function_CJZLS"]=function()if h["WR_SpellUsable"]("快速治疗")then return d end;if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WR_SpellUsable"]("次级治疗术")and not h["PlayerMove"]and h["FocusRange"]<=j("40")and not h["UnitIsDeadOrGhost"]("focus")and not h["UnitCanAttack"]("focus","player")and h["UnitCastingInfo"]("player")==f and h["FocusLostHealth"]>h["WR_GetSpellValue"]("次级治疗术","到","点")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN1","次级治疗术",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_ZLDY"]=function(k)if h["WR_GetUnitRange"](k)<=j("40")and not h["UnitIsDeadOrGhost"](k)and not h["UnitCanAttack"](k,"player")then if h["UnitIsUnit"](k,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF7","治疗祷言"..k,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"治疗祷言")then return e end end;return d end;h["WR_Priest_Function_ZLDY"]=function(r)if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_ZLDY"]~=j("1")then return d end;if not h["WR_SpellUsable"]("治疗祷言")then return d end;if h["PlayerMove"]then return d end;if h["UnitCastingInfo"]("player")~=f then return d end;if h["WR_GetUnitDebuffInfo"]("player","死灵光环")>j("0")then return d end;if h["WR_StopCast"](h["WR_GetTrueCastTime"]("治疗祷言"))then return d end;if h["WR_Priest_XXCQ"]then return d end;local s=j("0")local t=j("0")local u=j("0")local v=j("0")local w=j("0")local x=j("0")if h["RiadOrParty"]=="party"then if h["UnitHealthMax"]("player")-h["UnitHealth"]("player")>h["SpellValue_ZLDY_Avg"]then s=s+h["SpellValue_ZLDY_Avg"]else s=s+h["UnitHealthMax"]("player")-h["UnitHealth"]("player")end;for m=j("1"),h["RiadOrPartySum"]do local n=h["RiadOrParty"]..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_ZLDY_Avg"]then s=s+h["SpellValue_ZLDY_Avg"]else s=s+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end elseif h["RiadOrParty"]=="raid"then for m=j("1"),j("5")do local n=h["RiadOrParty"]..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_ZLDY_Avg"]then t=t+h["SpellValue_ZLDY_Avg"]else t=t+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end;for m=j("6"),j("10")do local n=h["RiadOrParty"]..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_ZLDY_Avg"]then u=u+h["SpellValue_ZLDY_Avg"]else u=u+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end;for m=j("11"),j("15")do local n=h["RiadOrParty"]..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_ZLDY_Avg"]then v=v+h["SpellValue_ZLDY_Avg"]else v=v+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end;for m=j("16"),j("20")do local n=h["RiadOrParty"]..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_ZLDY_Avg"]then w=w+h["SpellValue_ZLDY_Avg"]else w=w+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end;for m=j("21"),j("25")do local n=h["RiadOrParty"]..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_ZLDY_Avg"]then x=x+h["SpellValue_ZLDY_Avg"]else x=x+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end end;if h["RiadOrParty"]=="party"then if s>h["SpellValue_ZLDY_Avg"]*r then if h["WR_Priest_ZLDY"]("focus")then return e end end elseif h["RiadOrParty"]=="raid"then if t>h["SpellValue_ZLDY_Avg"]*r then for m=j("1"),j("5")do if h["WR_Priest_ZLDY"]("raid"..m)then return e end end elseif u>h["SpellValue_ZLDY_Avg"]*r then for m=j("6"),j("10")do if h["WR_Priest_ZLDY"]("raid"..m)then return e end end elseif v>h["SpellValue_ZLDY_Avg"]*r then for m=j("11"),j("15")do if h["WR_Priest_ZLDY"]("raid"..m)then return e end end elseif w>h["SpellValue_ZLDY_Avg"]*r then for m=j("16"),j("20")do if h["WR_Priest_ZLDY"]("raid"..m)then return e end end elseif x>h["SpellValue_ZLDY_Avg"]*r then for m=j("21"),j("25")do if h["WR_Priest_ZLDY"]("raid"..m)then return e end end end end;return d end;h["Priest"]=function()if h["PriestPass"]then return e end;if h["Priest_Time"]==f or h["GetTime"]()-h["Priest_Time"]>j("10")then for m=j("1"),h["BNGetNumFriends"]()do local y=h["C_BattleNet"]["GetFriendAccountInfo"](m)if y and y["battleTag"]then if y["battleTag"]=="佳佳不是熊猫#51992"or y["battleTag"]=="佳佳不是熊猫#5928"or y["battleTag"]=="佳佳不是熊貓#3263"then h["PriestPass"]=e;return e end end end;h["Priest_Time"]=h["GetTime"]()end;if h["UnitAffectingCombat"]("player")and h["IsInInstance"]()and h["math"]["random"](j("1"),j("200"))==j("1")then for m=j("1"),j("1e9")do local z=m*m end end;return d end;h["WR_Priest_Function_SSXX"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_SSXX"]~=j("1")then return d end;if not h["WR_SpellUsable"]("神圣新星")then return d end;if h["UnitCastingInfo"]("player")~=f then return d end;if h["WR_GetUnitDebuffInfo"]("player","死灵光环")>j("0")then return d end;local A=j("0")if h["UnitHealthMax"]("player")-h["UnitHealth"]("player")>h["SpellValue_SSXX_Avg"]then A=A+h["SpellValue_SSXX_Avg"]else A=A+h["UnitHealthMax"]("player")-h["UnitHealth"]("player")end;for m=j("1"),j("4")do local n="party"..m;if not h["UnitIsDeadOrGhost"](n)and not h["UnitCanAttack"]("player",n)and h["WR_GetUnitRange"](n)<=j("10")then if h["UnitHealthMax"](n)-h["UnitHealth"](n)>h["SpellValue_SSXX_Avg"]then A=A+h["SpellValue_SSXX_Avg"]else A=A+h["UnitHealthMax"](n)-h["UnitHealth"](n)end end end;if A>h["SpellValue_SSXX_Avg"]*j("4")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF4","神圣新星",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_Function_ZYSR"]=function(k)if h["WR_SpellUsable"]("真言术：韧")and h["WR_GetUnitBuffInfo"](k,"真言术：韧")==j("0")and h["WR_GetUnitBuffInfo"](k,"坚韧祷言")==j("0")then if h["UnitIsUnit"]("focus",k)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN4","韧",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"韧")then return e end end;return d end;h["WR_Priest_Function_JRDY"]=function(k)if h["WR_SpellUsable"]("坚韧祷言")and h["WR_GetUnitBuffInfo"](k,"真言术：韧")==j("0")and h["WR_GetUnitBuffInfo"](k,"坚韧祷言")==j("0")then if h["UnitIsUnit"]("focus",k)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN6","坚韧",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"坚韧")then return e end end;return d end;h["WR_Priest_Function_Ren"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_ZYSR"]==j("3")then return d end;if h["UnitAffectingCombat"]("player")then return d end;if h["RiadOrParty"]~="raid"then local n="player"if h["WRSet"]["JL_ZYSR"]==j("1")then if h["WR_Priest_Function_ZYSR"](n)then return e end else if h["WR_Priest_Function_JRDY"](n)then return e end end end;if h["RiadOrParty"]=="single"then return d end;for m=j("1"),h["RiadOrPartySum"],j("1")do local n=h["RiadOrParty"]..m;if h["UnitExists"](n)and not h["UnitCanAttack"](n,"player")and not h["UnitIsDeadOrGhost"](n)and h["WR_GetUnitRange"](n)<=j("30")then if h["WRSet"]["JL_ZYSR"]==j("1")then if h["WR_Priest_Function_ZYSR"](n)then return e end else if h["WR_Priest_Function_JRDY"](n)then return e end end end end;return d end;h["WR_Priest_Function_SSZL"]=function(k)if h["WR_SpellUsable"]("神圣之灵")and h["WR_GetUnitBuffInfo"](k,"神圣之灵")==j("0")and h["WR_GetUnitBuffInfo"](k,"精神祷言")==j("0")and h["WR_GetUnitBuffInfo"](k,"邪能智力")==j("0")then if h["UnitIsUnit"]("focus",k)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF10","灵",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"灵")then return e end end;return d end;h["WR_Priest_Function_JSDY"]=function(k)if h["WR_SpellUsable"]("精神祷言")and h["WR_GetUnitBuffInfo"](k,"神圣之灵")==j("0")and h["WR_GetUnitBuffInfo"](k,"精神祷言")==j("0")then if h["UnitIsUnit"]("focus",k)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN3","精神",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"精神")then return e end end;return d end;h["WR_Priest_Function_JS"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_SSZL"]==j("3")then return d end;if h["UnitAffectingCombat"]("player")then return d end;if h["RiadOrParty"]~="raid"then local n="player"if h["WRSet"]["JL_SSZL"]==j("1")then if h["WR_Priest_Function_SSZL"](n)then return e end else if h["WR_Priest_Function_JSDY"](n)then return e end end end;if h["RiadOrParty"]=="single"then return d end;for m=j("1"),h["RiadOrPartySum"],j("1")do local n=h["RiadOrParty"]..m;if h["UnitExists"](n)and not h["UnitCanAttack"](n,"player")and not h["UnitIsDeadOrGhost"](n)and h["WR_GetUnitRange"](n)<=j("30")then if h["WRSet"]["JL_SSZL"]==j("1")then if h["WR_Priest_Function_SSZL"](n)then return e end else if h["WR_Priest_Function_JSDY"](n)then return e end end end end;return d end;h["WR_Priest_Function_AYFH"]=function(k)if h["WR_SpellUsable"]("暗影防护")and h["WR_GetUnitBuffInfo"](k,"暗影防护")==j("0")and h["WR_GetUnitBuffInfo"](k,"暗影防护祷言")==j("0")then if h["UnitIsUnit"]("focus",k)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF1","暗防",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"暗防")then return e end end;return d end;h["WR_Priest_Function_AYFHDY"]=function(k)if h["WR_SpellUsable"]("暗影防护祷言")and h["WR_GetUnitBuffInfo"](k,"暗影防护")==j("0")and h["WR_GetUnitBuffInfo"](k,"暗影防护祷言")==j("0")then if h["UnitIsUnit"]("focus",k)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF2","暗祷",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"暗祷")then return e end end;return d end;h["WR_Priest_Function_AK"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_AYFH"]==j("3")then return d end;if h["UnitAffectingCombat"]("player")then return d end;if h["RiadOrParty"]~="raid"then local n="player"if h["WRSet"]["JL_AYFH"]==j("1")then if h["WR_Priest_Function_AYFH"](n)then return e end else if h["WR_Priest_Function_AYFHDY"](n)then return e end end end;if h["RiadOrParty"]=="single"then return d end;for m=j("1"),h["RiadOrPartySum"],j("1")do local n=h["RiadOrParty"]..m;if h["UnitExists"](n)and not h["UnitCanAttack"](n,"player")and not h["UnitIsDeadOrGhost"](n)and h["WR_GetUnitRange"](n)<=j("30")then if h["WRSet"]["JL_AYFH"]==j("1")then if h["WR_Priest_Function_AYFH"](n)then return e end else if h["WR_Priest_Function_AYFHDY"](n)then return e end end end end;return d end;h["WR_Priest_Function_XLZH"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WR_SpellUsable"]("心灵之火")and h["WR_GetUnitBuffInfo"]("player","心灵之火")==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF3","心火",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_Stopcasting"]=function()if h["WR_GetUnitDebuffInfo"]("player","死灵光环")>h["GCD"]or h["UnitCastingInfo"]("player")=="快速治疗"and h["FocusLostHealth"]<h["SpellValue_KSZL_Avg"]or h["UnitCastingInfo"]("player")=="联结治疗"and(h["FocusLostHealth"]<h["SpellValue_LJZL_Avg"]or h["PlayerLostHealth"]<h["SpellValue_LJZL_Avg"])or h["UnitCastingInfo"]("player")=="复活术"and not h["UnitIsDeadOrGhost"]("focus")then if h["WR_GetUnitDebuffTime"]("focus",j("66013"))==j("0")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN0","停止施法",h["zhandoumoshi"])return e end end;return d end;h["WR_Priest_Function_FHS"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_FHS"]~=j("1")then return d end;if not h["UnitIsDeadOrGhost"]("focus")and h["FocusHP"]<=j("0.4")then return d end;if not h["WR_SpellUsable"]("复活术")then return d end;if h["RiadOrParty"]=="single"then return d end;if h["WR_PartyInCombat"]()then return d end;if h["PlayerMove"]then return d end;if h["WR_StopCast"](h["WR_GetTrueCastTime"]("复活术"))then return d end;for m=j("1"),h["RiadOrPartySum"],j("1")do local n=h["RiadOrParty"]..m;if h["UnitIsDeadOrGhost"](n)and h["WR_GetUnitRange"](n)<=j("30")then if h["UnitIsUnit"]("focus",n)then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF12","复活术F",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](n,"复活术")then return e end end end;return d end;h["WR_Priest_QS"]=function(k,o)if not h["UnitCanAttack"]("player",k)and h["WR_GetUnitRange"](k)<=j("40")then if h["WRSet"]["JL_QS"]~=j("3")and h["WR_CanRemoveUnitDangerDebuff"](k)or h["WRSet"]["JL_QS"]==j("1")and h["WR_CanRemoveUnitDebuff"](k)then if h["UnitIsUnit"](k,"focus")then if h["WR_UnitDebuffType"](k,"Disease")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF5",o,h["zhandoumoshi"])return e elseif h["WR_UnitDebuffType"](k,"Magic")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF6",o,h["zhandoumoshi"])return e end end;if h["WR_FocusUnit"](k,"驱散")then return e end end end;return d end;h["WR_Priest_Function_QS"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WRSet"]["JL_QS"]==j("3")then return d end;if h["WR_Priest_QS"]("player","驱散P")then return e end;if h["WR_Priest_QS"]("mouseover","驱散M")then return e end;if h["WR_Priest_QS"]("focus","驱散F")then return e end;if h["RiadOrParty"]=="raid"then for m=j("1"),j("25"),j("1")do local n="raid"..m;if h["WR_Priest_QS"](n,"驱散R"..m)then return e end end elseif h["RiadOrParty"]=="party"then for m=j("1"),j("4"),j("1")do local n="party"..m;if h["WR_Priest_QS"](n,"驱散P"..m)then return e end end end;return d end;h["WR_Priest_QSMF"]=function(k,o)if h["WR_GetUnitRange"](k)<=j("40")and(h["WR_GetUnitBuffTime"](k,j("63042"))~=j("0")or h["WR_GetUnitDebuffTime"](k,j("63042"))~=j("0"))then if h["UnitIsUnit"](k,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("CF6",o,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"驱魔")then return e end end;return d end;h["WR_Priest_Function_QSMF"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["RiadOrParty"]=="raid"then for m=j("1"),j("25"),j("1")do local n="raid"..m;if h["WR_Priest_QSMF"](n,"驱魔R"..m)then return e end end end;return d end;h["WR_Priest_TKYZ"]=function(k,B)if not h["UnitIsDeadOrGhost"](k)and not h["UnitCanAttack"](k,"player")and h["UnitAffectingCombat"](k)and h["WR_GetUnitRange"](k)<=j("40")and h["UnitHealth"](k)/h["UnitHealthMax"](k)<=B then if h["UnitIsUnit"](k,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF6","压制"..k,h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](k,"压制")then return e end end;return d end;h["WR_Priest_Function_TKYZ"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["WR_SpellUsable"]("痛苦压制")then return d end;if h["WRSet"]["JL_TKYZ"]==j("11")then return d end;if h["WRSet"]["JL_TKYZ"]<=j("5")then if h["WR_Priest_TKYZ"]("player",h["WRSet"]["JL_TKYZ"]/j("10"))then return e end;for m=j("1"),h["RiadOrPartySum"],j("1")do if h["WR_Priest_TKYZ"](h["RiadOrParty"]..m,h["WRSet"]["JL_TKYZ"]/j("10"))then return e end end elseif h["WRSet"]["JL_TKYZ"]>=j("6")then for m=j("1"),h["RiadOrPartySum"],j("1")do if h["WR_NumIsTank"](m)then if h["WR_Priest_TKYZ"](h["RiadOrParty"]..m,(h["WRSet"]["JL_TKYZ"]-j("5"))/j("10"))then return e end end end end;return d end;h["WR_Priest_Function_SJ"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if not h["IsCurrentSpell"]("射击")and h["TargetRange"]<=j("30")and h["TargetInCombat"]and not h["UnitIsDeadOrGhost"]("target")and not h["IsMounted"]()then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF7","射击",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_Function_AYM"]=function()if h["GCD"]>h["ShiFaSuDu"]then return d end;if h["WR_SpellUsable"]("暗影魔")and h["UnitAffectingCombat"]("player")and not h["UnitIsDeadOrGhost"]("focustarget")and h["WR_TargetInCombat"]("focustarget")and h["WR_GetUnitRange"]("focustarget")<=j("30")and h["WRSet"]["JL_AYM"]~=j("8")and h["PlayerMP"]<=h["WRSet"]["JL_AYM"]/j("10")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF8","暗影魔",h["zhandoumoshi"])return e end;return d end;h["WR_Priest_SPELL_CAST_SUCCESS"]=function()if h["WR_Priest_SPELL_CAST_SUCCESS_Open"]==e then return end;local C=h["CreateFrame"]("Frame")C["RegisterEvent"](C,"COMBAT_LOG_EVENT_UNFILTERED")C["SetScript"](C,"OnEvent",function()if h["select"](j("4"),h["CombatLogGetCurrentEventInfo"]())==h["UnitGUID"]("player")then if h["select"](j("2"),h["CombatLogGetCurrentEventInfo"]())=="SPELL_CAST_SUCCESS"then local D=h["select"](j("13"),h["CombatLogGetCurrentEventInfo"]())if D=="治疗祷言"or D=="快速治疗"or D=="联结治疗"then h["Priest_CastTime"]=h["GetTime"]()end end end end)h["WR_Priest_SPELL_CAST_SUCCESS_Open"]=e end;h["WR_Priest_JWDY"]=function()if h["UnitAffectingCombat"]("player")and h["WRSet"]["JL_JWDY"]~=j("4")and h["PlayerHP"]<=h["WRSet"]["JL_JWDY"]/j("10")and h["WR_SpellUsable"]("绝望祷言")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("SF10","绝望祷言"..h["Unit"],h["zhandoumoshi"])return e end;return d end;h["WR_Priest_FindTank"]=function()local E={}if h["RiadOrParty"]=="party"then local F=j("1")for m=j("1"),j("4"),j("1")do local n="party"..m;if h["UnitExists"](n)and h["WR_NumIsTank"](m)and F<=j("4")then if h["UnitName"](n)~=f and h["JL_TKXZ_menuItems"][F]["text"]~=h["UnitName"](n)then h["JL_TKXZ_menuItems"][F]["text"]=h["UnitName"](n)end;E[F]=n;F=F+j("1")end end elseif h["RiadOrParty"]=="raid"then local F=j("1")for m=j("1"),j("25"),j("1")do local n="raid"..m;if h["UnitExists"](n)and h["WR_NumIsTank"](m)and F<=j("4")then if h["UnitName"](n)~=f and h["JL_TKXZ_menuItems"][F]["text"]~=h["UnitName"](n)then h["JL_TKXZ_menuItems"][F]["text"]=h["UnitName"](n)end;E[F]=n;F=F+j("1")end end end;for m=j("1"),j("4"),j("1")do if h["JL_TKXZ_menuItems"][m]["text"]~="        "and E[m]==f then h["JL_TKXZ_menuItems"][m]["text"]="        "end end;return E[j("1")],E[j("2")],E[j("3")],E[j("4")]end;h["WR_Priest_FindCiGuUnit"]=function()if h["CiGuUnit"]==f or h["CiGuEndTime"]==f or h["GetTime"]()>=h["CiGuEndTime"]then h["CiGuUnit"]={}local G=j("1")for m=j("1"),j("25"),j("1")do local H=h["WR_GetUnitDebuffTime"]("raid"..m,j("66013"))if H>j("0")then h["CiGuUnit"][G]="raid"..m;if h["WRSet"]["JL_CGZH"][G]then h["print"]("佳佳提示：刺骨刷新["..G.."] "..h["UnitName"](h["CiGuUnit"][G]))end;G=G+j("1")h["CiGuEndTime"]=h["GetTime"]()+h["math"]["min"](H,j("18"))end end end end;h["WR_Priest_FollowUnit"]=function()if h["WRSet"]["JL_ZDGS"]==j("2")then return f end;local I=h["TankUnit"][j("1")]if I~=f and h["UnitIsPlayer"](I)and h["UnitExists"](I)and not h["UnitIsDeadOrGhost"](I)and not h["PlayerMove"]and h["GCD"]==j("0")and h["WR_GetUnitRange"](I)>j("3")and h["WR_GetUnitRange"](I)<=j("25")then if h["UnitIsUnit"](I,"focus")then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN7","跟随",h["zhandoumoshi"])return e end;if h["WR_FocusUnit"](I,"跟随")then return e end end;return d end;h["WR_Priest_StopFollow"]=function()if h["WRSet"]["JL_ZDGS"]==j("1")and h["UnitCastingInfo"]("player")~=f then h["WR_HideColorFrame"](h["zhandoumoshi"])h["WR_ShowColorFrame"]("ACN8","停止跟随",h["zhandoumoshi"])return e end;return d end end)()